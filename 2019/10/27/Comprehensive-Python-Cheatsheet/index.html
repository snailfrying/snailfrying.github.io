<!DOCTYPE html>




<html class="theme-next mist" lang="en">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
    
  
  <link href="//cdn.jsdelivr.net/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  
    
      
    

    
  

  

  
    
      
    

    
  

  
    
      
    

    
  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Lobster Two:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






  

<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="python,">





  <link rel="alternate" href="/atom.xml" title="Snail Life" type="application/atom+xml">






<meta name="description" content="Contents​    1. Collections:   List , Dictionary , Set , Tuple , Range , Enumerate , Iterator , Generator .​    2. Types:            Type , String , Regular_Exp , Format , Numbers , Combinatorics , D">
<meta name="keywords" content="python">
<meta property="og:type" content="article">
<meta property="og:title" content="Comprehensive-Python-Cheatsheet">
<meta property="og:url" content="http://yoursite.com/2019/10/27/Comprehensive-Python-Cheatsheet/index.html">
<meta property="og:site_name" content="Snail Life">
<meta property="og:description" content="Contents​    1. Collections:   List , Dictionary , Set , Tuple , Range , Enumerate , Iterator , Generator .​    2. Types:            Type , String , Regular_Exp , Format , Numbers , Combinatorics , D">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2019-10-30T03:20:57.611Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Comprehensive-Python-Cheatsheet">
<meta name="twitter:description" content="Contents​    1. Collections:   List , Dictionary , Set , Tuple , Range , Enumerate , Iterator , Generator .​    2. Types:            Type , String , Regular_Exp , Format , Numbers , Combinatorics , D">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2019/10/27/Comprehensive-Python-Cheatsheet/">





  <title>Comprehensive-Python-Cheatsheet | Snail Life</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>
	<a href="https://github.com/snailfrying" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewbox="0 0 250 250" style="fill:#64CEAA; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Snail Life</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">basketball dance rap</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="Searching..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/27/Comprehensive-Python-Cheatsheet/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="snail json">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Snail Life">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Comprehensive-Python-Cheatsheet</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-10-27T22:30:20+08:00">
                2019-10-27
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/python/" itemprop="url" rel="index">
                    <span itemprop="name">python</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/10/27/Comprehensive-Python-Cheatsheet/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/10/27/Comprehensive-Python-Cheatsheet/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2019/10/27/Comprehensive-Python-Cheatsheet/" class="leancloud_visitors" data-flag-title="Comprehensive-Python-Cheatsheet">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Visitors&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             <span>℃</span>
			 </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  12k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  74
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <hr>
<h2 id="Contents"><a href="#Contents" class="headerlink" title="Contents"></a>Contents</h2><p>​    <strong>1. Collections:</strong>   <strong>List</strong> <strong>,</strong> <strong>Dictionary</strong> <strong>,</strong> <strong>Set</strong> <strong>,</strong> <strong>Tuple</strong> <strong>,</strong> <strong>Range</strong> <strong>,</strong> <strong>Enumerate</strong> <strong>,</strong> <strong>Iterator</strong> <strong>,</strong> <strong>Generator</strong> <strong>.</strong><br>​    <strong>2. Types:</strong>            <strong>Type</strong> <strong>,</strong> <strong>String</strong> <strong>,</strong> <strong>Regular_Exp</strong> <strong>,</strong> <strong>Format</strong> <strong>,</strong> <strong>Numbers</strong> <strong>,</strong> <strong>Combinatorics</strong> <strong>,</strong> <strong>Datetime</strong> <strong>.</strong><br>​    <strong>3. Syntax:</strong>           <strong>Args</strong> <strong>,</strong> <strong>Inline</strong> <strong>,</strong> <strong>Closure</strong> <strong>,</strong> <strong>Decorator</strong> <strong>,</strong> <strong>Class</strong> <strong>,</strong> <strong>Duck_Types</strong> <strong>,</strong> <strong>Enum</strong> <strong>,</strong> <strong>Exceptions</strong> <strong>.</strong><br>​    <strong>4. System:</strong>          <strong>Print</strong> <strong>,</strong> <strong>Input</strong> <strong>,</strong> <strong>Command_Line_Arguments</strong> <strong>,</strong> <strong>Open</strong> <strong>,</strong> <strong>Path</strong> <strong>,</strong> <strong>Command_Execution</strong> <strong>.</strong><br>​    <strong>5. Data:</strong> <strong>JSON</strong> <strong>,</strong> <strong>Pickle</strong> <strong>,</strong> <strong>CSV</strong> <strong>,</strong> <strong>SQLite</strong> <strong>,</strong> <strong>Bytes</strong> <strong>,</strong> <strong>Struct</strong> <strong>,</strong> <strong>Array</strong> <strong>,</strong> <strong>MemoryView</strong> <strong>,</strong> <strong>Deque</strong> <strong>.</strong><br>​    <strong>6. Advanced:</strong>     <strong>Threading</strong> <strong>,</strong> <strong>Operator</strong> <strong>,</strong> <strong>Introspection</strong> <strong>,</strong> <strong>Metaprograming</strong> <strong>,</strong> <strong>Eval</strong> <strong>,</strong> <strong>Coroutine</strong> <strong>.</strong><br>​    <strong>7. Libraries:</strong>        <strong>Progress_Bar</strong> <strong>,</strong> <strong>Plot</strong> <strong>,</strong> <strong>Table</strong> <strong>,</strong> <strong>Curses</strong> <strong>,</strong> <strong>Logging</strong> <strong>,</strong> <strong>Scraping</strong> <strong>,</strong> <strong>Web</strong> <strong>,</strong> <strong>Profile</strong> <strong>,</strong><br>​   <strong>NumPy</strong> <strong>,</strong> <strong>Image</strong> <strong>,</strong> <strong>Animation</strong> <strong>,</strong> <strong>Audio</strong> <strong>,</strong> <strong>Synthesizer</strong> <strong>.</strong></p>
<h2 id="Main"><a href="#Main" class="headerlink" title="Main"></a>Main</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:     <span class="comment"># Runs main() if file wasn't imported.</span></span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<h2 id="List"><a href="#List" class="headerlink" title="List"></a>List</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;list&gt; = &lt;list&gt;[from_inclusive : to_exclusive : ±step_size]</span><br><span class="line">&lt;list&gt;.append(&lt;el&gt;)            <span class="comment"># Or: &lt;list&gt; += [&lt;el&gt;]</span></span><br><span class="line">&lt;list&gt;.extend(&lt;collection&gt;)    <span class="comment"># Or: &lt;list&gt; += &lt;collection&gt;</span></span><br><span class="line">&lt;list&gt;.sort()</span><br><span class="line">&lt;list&gt;.reverse()</span><br><span class="line">&lt;list&gt; = sorted(&lt;collection&gt;)</span><br><span class="line">&lt;iter&gt; = reversed(&lt;list&gt;)</span><br><span class="line">sum_of_elements  = sum(&lt;collection&gt;)</span><br><span class="line">elementwise_sum  = [sum(pair) <span class="keyword">for</span> pair <span class="keyword">in</span> zip(list_a, list_b)]</span><br><span class="line">sorted_by_second = sorted(&lt;collection&gt;, key=<span class="keyword">lambda</span> el: el[<span class="number">1</span>])</span><br><span class="line">sorted_by_both   = sorted(&lt;collection&gt;, key=<span class="keyword">lambda</span> el: (el[<span class="number">1</span>], el[<span class="number">0</span>]))</span><br><span class="line">flatter_list     = list(itertools.chain.from_iterable(&lt;list&gt;))</span><br><span class="line">product_of_elems = functools.reduce(<span class="keyword">lambda</span> out, x: out * x, &lt;collection&gt;)</span><br><span class="line">list_of_chars    = list(&lt;str&gt;)</span><br><span class="line">&lt;int&gt; = &lt;list&gt;.count(&lt;el&gt;)     <span class="comment"># Returns number of occurrences. Also works on strings.</span></span><br><span class="line">index = &lt;list&gt;.index(&lt;el&gt;)     <span class="comment"># Returns index of first occurrence or raises ValueError.</span></span><br><span class="line">&lt;list&gt;.insert(index, &lt;el&gt;)     <span class="comment"># Inserts item at index and moves the rest to the right.</span></span><br><span class="line">&lt;el&gt; = &lt;list&gt;.pop([index])     <span class="comment"># Removes and returns item at index or from the end.</span></span><br><span class="line">&lt;list&gt;.remove(&lt;el&gt;)            <span class="comment"># Removes first occurrence of item or raises ValueError.</span></span><br><span class="line">&lt;list&gt;.clear()                 <span class="comment"># Removes all items. Also works on dictionary and set.</span></span><br></pre></td></tr></table></figure>

<h2 id="Dictionary"><a href="#Dictionary" class="headerlink" title="Dictionary"></a>Dictionary</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;view&gt; = &lt;dict&gt;.keys()                          <span class="comment"># Coll. of keys that reflects changes.</span></span><br><span class="line">&lt;view&gt; = &lt;dict&gt;.values()                        <span class="comment"># Coll. of values that reflects changes.</span></span><br><span class="line">&lt;view&gt; = &lt;dict&gt;.items()                         <span class="comment"># Coll. of key-value tuples.</span></span><br><span class="line">value  = &lt;dict&gt;.get(key, default=<span class="literal">None</span>)          <span class="comment"># Returns default if key is missing.</span></span><br><span class="line">value  = &lt;dict&gt;.setdefault(key, default=<span class="literal">None</span>)   <span class="comment"># Returns and writes default if key is missing.</span></span><br><span class="line">&lt;dict&gt; = collections.defaultdict(&lt;type&gt;)        <span class="comment"># Creates a dict with default value of type.</span></span><br><span class="line">&lt;dict&gt; = collections.defaultdict(<span class="keyword">lambda</span>: <span class="number">1</span>)     <span class="comment"># Creates a dict with default value 1.</span></span><br><span class="line">&lt;dict&gt;.update(&lt;dict&gt;)</span><br><span class="line">&lt;dict&gt; = dict(&lt;collection&gt;)                     <span class="comment"># Creates a dict from coll. of key-value pairs.</span></span><br><span class="line">&lt;dict&gt; = dict(zip(keys, values))                <span class="comment"># Creates a dict from two collections.</span></span><br><span class="line">&lt;dict&gt; = dict.fromkeys(keys [, value])          <span class="comment"># Creates a dict from collection of keys.</span></span><br><span class="line">value = &lt;dict&gt;.pop(key)                         <span class="comment"># Removes item or raises KeyError.</span></span><br><span class="line">&#123;k: v <span class="keyword">for</span> k, v <span class="keyword">in</span> &lt;dict&gt;.items() <span class="keyword">if</span> k <span class="keyword">in</span> keys&#125;  <span class="comment"># Filters dictionary by keys.</span></span><br></pre></td></tr></table></figure>

<h3 id="Counter"><a href="#Counter" class="headerlink" title="Counter"></a>Counter</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> collections <span class="keyword">import</span> Counter</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>colors = [<span class="string">'blue'</span>, <span class="string">'red'</span>, <span class="string">'blue'</span>, <span class="string">'red'</span>, <span class="string">'blue'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>counter = Counter(colors)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>counter[<span class="string">'yellow'</span>] += <span class="number">1</span></span><br><span class="line">Counter(&#123;<span class="string">'blue'</span>: <span class="number">3</span>, <span class="string">'red'</span>: <span class="number">2</span>, <span class="string">'yellow'</span>: <span class="number">1</span>&#125;)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>counter.most_common()[<span class="number">0</span>]</span><br><span class="line">(<span class="string">'blue'</span>, <span class="number">3</span>)</span><br></pre></td></tr></table></figure>

<h2 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;set&gt; = set()</span><br><span class="line">&lt;set&gt;.add(&lt;el&gt;)                                 <span class="comment"># Or: &lt;set&gt; |= &#123;&lt;el&gt;&#125;</span></span><br><span class="line">&lt;set&gt;.update(&lt;collection&gt;)                      <span class="comment"># Or: &lt;set&gt; |= &lt;set&gt;</span></span><br><span class="line">&lt;set&gt;  = &lt;set&gt;.union(&lt;coll.&gt;)                   <span class="comment"># Or: &lt;set&gt; | &lt;set&gt;</span></span><br><span class="line">&lt;set&gt;  = &lt;set&gt;.intersection(&lt;coll.&gt;)            <span class="comment"># Or: &lt;set&gt; &amp; &lt;set&gt;</span></span><br><span class="line">&lt;set&gt;  = &lt;set&gt;.difference(&lt;coll.&gt;)              <span class="comment"># Or: &lt;set&gt; - &lt;set&gt;</span></span><br><span class="line">&lt;set&gt;  = &lt;set&gt;.symmetric_difference(&lt;coll.&gt;)    <span class="comment"># Or: &lt;set&gt; ^ &lt;set&gt;</span></span><br><span class="line">&lt;bool&gt; = &lt;set&gt;.issubset(&lt;coll.&gt;)                <span class="comment"># Or: &lt;set&gt; &lt;= &lt;set&gt;</span></span><br><span class="line">&lt;bool&gt; = &lt;set&gt;.issuperset(&lt;coll.&gt;)              <span class="comment"># Or: &lt;set&gt; &gt;= &lt;set&gt;</span></span><br><span class="line">&lt;el&gt; = &lt;set&gt;.pop()                              <span class="comment"># Raises KeyError if empty.</span></span><br><span class="line">&lt;set&gt;.remove(&lt;el&gt;)                              <span class="comment"># Raises KeyError if missing.</span></span><br><span class="line">&lt;set&gt;.discard(&lt;el&gt;)                             <span class="comment"># Doesn't raise an error.</span></span><br></pre></td></tr></table></figure>

<h3 id="Frozen-Set"><a href="#Frozen-Set" class="headerlink" title="Frozen Set"></a>Frozen Set</h3><ul>
<li><strong>Is immutable and hashable.</strong></li>
<li><strong>That means it can be used as a key in a dictionary or as an element in a set.</strong></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;frozenset&gt; = frozenset(&lt;collection&gt;)</span><br></pre></td></tr></table></figure>

<h2 id="Tuple"><a href="#Tuple" class="headerlink" title="Tuple"></a>Tuple</h2><p><strong>Tuple is an immutable and hashable list.</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;tuple&gt; = ()</span><br><span class="line">&lt;tuple&gt; = (&lt;el&gt;, )</span><br><span class="line">&lt;tuple&gt; = (&lt;el_1&gt;, &lt;el_2&gt; [, ...])</span><br></pre></td></tr></table></figure>

<h3 id="Named-Tuple"><a href="#Named-Tuple" class="headerlink" title="Named Tuple"></a>Named Tuple</h3><p><strong>Tuple’s subclass with named elements.</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> collections <span class="keyword">import</span> namedtuple</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>Point = namedtuple(<span class="string">'Point'</span>, <span class="string">'x y'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>p = Point(<span class="number">1</span>, y=<span class="number">2</span>)</span><br><span class="line">Point(x=<span class="number">1</span>, y=<span class="number">2</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>p[<span class="number">0</span>]</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>p.x</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>getattr(p, <span class="string">'y'</span>)</span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>p._fields  <span class="comment"># Or: Point._fields</span></span><br><span class="line">(<span class="string">'x'</span>, <span class="string">'y'</span>)</span><br></pre></td></tr></table></figure>

<h2 id="Range"><a href="#Range" class="headerlink" title="Range"></a>Range</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;range&gt; = range(to_exclusive)</span><br><span class="line">&lt;range&gt; = range(from_inclusive, to_exclusive)</span><br><span class="line">&lt;range&gt; = range(from_inclusive, to_exclusive, ±step_size)</span><br><span class="line">from_inclusive = &lt;range&gt;.start</span><br><span class="line">to_exclusive   = &lt;range&gt;.stop</span><br></pre></td></tr></table></figure>

<h2 id="Enumerate"><a href="#Enumerate" class="headerlink" title="Enumerate"></a>Enumerate</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i, el <span class="keyword">in</span> enumerate(&lt;collection&gt; [, i_start]):</span><br><span class="line">    ...</span><br></pre></td></tr></table></figure>

<h2 id="Iterator"><a href="#Iterator" class="headerlink" title="Iterator"></a>Iterator</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;iter&gt; = iter(&lt;collection&gt;)                 <span class="comment"># `iter(&lt;iter&gt;)` returns unmodified iterator.</span></span><br><span class="line">&lt;iter&gt; = iter(&lt;function&gt;, to_exclusive)     <span class="comment"># A Sequence of return values until 'to_exclusive'.</span></span><br><span class="line">&lt;el&gt;   = next(&lt;iter&gt; [, default])           <span class="comment"># Raises StopIteration or returns 'default' on end.</span></span><br></pre></td></tr></table></figure>

<h3 id="Itertools"><a href="#Itertools" class="headerlink" title="Itertools"></a>Itertools</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> itertools <span class="keyword">import</span> count, repeat, cycle, chain, islice</span><br><span class="line">&lt;iter&gt; = count(start=<span class="number">0</span>, step=<span class="number">1</span>)             <span class="comment"># Returns incremented value endlessly.</span></span><br><span class="line">&lt;iter&gt; = repeat(&lt;el&gt; [, times])             <span class="comment"># Returns element endlessly or 'times' times.</span></span><br><span class="line">&lt;iter&gt; = cycle(&lt;collection&gt;)                <span class="comment"># Repeats the sequence endlessly.</span></span><br><span class="line">&lt;iter&gt; = chain(&lt;coll_1&gt;, &lt;coll_2&gt; [, ...])  <span class="comment"># Empties collections in order.</span></span><br><span class="line">&lt;iter&gt; = chain.from_iterable(&lt;collection&gt;)  <span class="comment"># Empties collections inside a collection in order.</span></span><br><span class="line">&lt;iter&gt; = islice(&lt;collection&gt;, to_exclusive)</span><br><span class="line">&lt;iter&gt; = islice(&lt;collection&gt;, from_inclusive, to_exclusive)</span><br><span class="line">&lt;iter&gt; = islice(&lt;collection&gt;, from_inclusive, to_exclusive, +step_size)</span><br></pre></td></tr></table></figure>

<h2 id="Generator"><a href="#Generator" class="headerlink" title="Generator"></a>Generator</h2><ul>
<li><strong>Any function that contains a yield statement returns a generator.</strong></li>
<li><strong>Generators and iterators are interchangeable.</strong></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">count</span><span class="params">(start, step)</span>:</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="keyword">yield</span> startpython</span><br><span class="line">        start += step</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>counter = count(<span class="number">10</span>, <span class="number">2</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>next(counter), next(counter), next(counter)</span><br><span class="line">(<span class="number">10</span>, <span class="number">12</span>, <span class="number">14</span>)</span><br></pre></td></tr></table></figure>

<h2 id="Type"><a href="#Type" class="headerlink" title="Type"></a>Type</h2><ul>
<li><strong>Everything is an object.</strong></li>
<li><strong>Every object has a type.</strong></li>
<li><strong>Type and class are synonymous.</strong></li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;type&gt; = type(&lt;el&gt;)                <span class="comment"># Or: &lt;el&gt;.__class__</span></span><br><span class="line">&lt;bool&gt; = isinstance(&lt;el&gt;, &lt;type&gt;)  <span class="comment"># Or: issubclass(type(&lt;el&gt;), &lt;type&gt;)</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>type(<span class="string">'a'</span>), <span class="string">'a'</span>.__class__, str</span><br><span class="line">(&lt;class 'str'&gt;, &lt;class 'str'&gt;, &lt;class 'str'&gt;)</span><br></pre></td></tr></table></figure>

<h4 id="Some-types-do-not-have-built-in-names-so-they-must-be-imported"><a href="#Some-types-do-not-have-built-in-names-so-they-must-be-imported" class="headerlink" title="Some types do not have built-in names, so they must be imported:"></a>Some types do not have built-in names, so they must be imported:</h4><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> <span class="keyword">types</span> <span class="keyword">import</span> FunctionType, MethodType, LambdaType, GeneratorType</span><br></pre></td></tr></table></figure>

<h3 id="ABC"><a href="#ABC" class="headerlink" title="ABC"></a>ABC</h3><p><strong>An abstract base class introduces virtual subclasses, that don’t inherit from it but are still recognized by isinstance() and issubclass().</strong></p>
<figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; from collections.abc import Sequence, Collection, Iterable</span><br><span class="line">&gt;&gt;&gt; isinstance([1, 2, 3], Iterable)</span><br><span class="line">True</span><br><span class="line">+------------------+----------+------------+----------+</span><br><span class="line">|<span class="string">                  </span>|<span class="string"> Sequence </span>|<span class="string"> Collection </span>|<span class="string"> Iterable </span>|</span><br><span class="line">+------------------+----------+------------+----------+</span><br><span class="line">|<span class="string"> list, range, str </span>|<span class="string">   yes    </span>|<span class="string">    yes     </span>|<span class="string">   yes    </span>|</span><br><span class="line">|<span class="string"> dict, set        </span>|<span class="string">          </span>|<span class="string">    yes     </span>|<span class="string">   yes    </span>|</span><br><span class="line">|<span class="string"> iter             </span>|<span class="string">          </span>|<span class="string">            </span>|<span class="string">   yes    </span>|</span><br><span class="line">+------------------+----------+------------+----------+</span><br><span class="line">&gt;&gt;&gt; from numbers import Integral, Rational, Real, Complex, Number</span><br><span class="line">&gt;&gt;&gt; isinstance(123, Number)</span><br><span class="line">True</span><br><span class="line">+--------------------+----------+----------+--------+---------+--------+</span><br><span class="line">|<span class="string">                    </span>|<span class="string"> Integral </span>|<span class="string"> Rational </span>|<span class="string">  Real  </span>|<span class="string"> Complex </span>|<span class="string"> Number </span>|</span><br><span class="line">+--------------------+----------+----------+--------+---------+--------+</span><br><span class="line">|<span class="string"> int                </span>|<span class="string">   yes    </span>|<span class="string">   yes    </span>|<span class="string">  yes   </span>|<span class="string">   yes   </span>|<span class="string">  yes   </span>|</span><br><span class="line">|<span class="string"> fractions.Fraction </span>|<span class="string">          </span>|<span class="string">   yes    </span>|<span class="string">  yes   </span>|<span class="string">   yes   </span>|<span class="string">  yes   </span>|</span><br><span class="line">|<span class="string"> float              </span>|<span class="string">          </span>|<span class="string">          </span>|<span class="string">  yes   </span>|<span class="string">   yes   </span>|<span class="string">  yes   </span>|</span><br><span class="line">|<span class="string"> complex            </span>|<span class="string">          </span>|<span class="string">          </span>|<span class="string">        </span>|<span class="string">   yes   </span>|<span class="string">  yes   </span>|</span><br><span class="line">|<span class="string"> decimal.Decimal    </span>|<span class="string">          </span>|<span class="string">          </span>|<span class="string">        </span>|<span class="string">         </span>|<span class="string">  yes   </span>|</span><br><span class="line">+--------------------+----------+----------+--------+---------+--------+</span><br></pre></td></tr></table></figure>

<h2 id="String"><a href="#String" class="headerlink" title="String"></a>String</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;str&gt;  = &lt;str&gt;.strip()                       <span class="comment"># Strips all whitespace characters from both ends.</span></span><br><span class="line">&lt;str&gt;  = &lt;str&gt;.strip(<span class="string">'&lt;chars&gt;'</span>)              <span class="comment"># Strips all passed characters from both ends.</span></span><br><span class="line">&lt;list&gt; = &lt;str&gt;.split()                       <span class="comment"># Splits on one or more whitespace characters.</span></span><br><span class="line">&lt;list&gt; = &lt;str&gt;.split(sep=<span class="literal">None</span>, maxsplit=<span class="number">-1</span>)  <span class="comment"># Splits on 'sep' str at most 'maxsplit' times.</span></span><br><span class="line">&lt;list&gt; = &lt;str&gt;.splitlines(keepends=<span class="literal">False</span>)    <span class="comment"># Splits on line breaks. Keeps them if 'keepends'.</span></span><br><span class="line">&lt;str&gt;  = &lt;str&gt;.join(&lt;coll_of_strings&gt;)       <span class="comment"># Joins elements using string as separator.</span></span><br><span class="line">&lt;bool&gt; = &lt;sub_str&gt; <span class="keyword">in</span> &lt;str&gt;                  <span class="comment"># Checks if string contains a substring.</span></span><br><span class="line">&lt;bool&gt; = &lt;str&gt;.startswith(&lt;sub_str&gt;)         <span class="comment"># Pass tuple of strings for multiple options.</span></span><br><span class="line">&lt;bool&gt; = &lt;str&gt;.endswith(&lt;sub_str&gt;)           <span class="comment"># Pass tuple of strings for multiple options.</span></span><br><span class="line">&lt;int&gt;  = &lt;str&gt;.find(&lt;sub_str&gt;)               <span class="comment"># Returns start index of first match or -1.</span></span><br><span class="line">&lt;int&gt;  = &lt;str&gt;.index(&lt;sub_str&gt;)              <span class="comment"># Same but raises ValueError if missing.</span></span><br><span class="line">&lt;str&gt;  = &lt;str&gt;.replace(old, new [, count])   <span class="comment"># Replaces 'old' with 'new' at most 'count' times.</span></span><br><span class="line">&lt;bool&gt; = &lt;str&gt;.isnumeric()                   <span class="comment"># True if str contains only numeric characters.</span></span><br><span class="line">&lt;list&gt; = textwrap.wrap(&lt;str&gt;, width)         <span class="comment"># Nicely breaks string into lines.</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Also: ‘lstrip()’, ‘rstrip()’.</strong></li>
<li><strong>Also: ‘lower()’, ‘upper()’, ‘capitalize()’ and ‘title()’.</strong></li>
</ul>
<h3 id="Char"><a href="#Char" class="headerlink" title="Char"></a>Char</h3><figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;str&gt; = <span class="keyword">chr</span>(&lt;<span class="keyword">int</span>&gt;)                           <span class="comment"># Converts int to unicode char.</span></span><br><span class="line">&lt;<span class="keyword">int</span>&gt; = <span class="keyword">ord</span>(&lt;str&gt;)                           <span class="comment"># Converts unicode char to int.</span></span><br><span class="line">&gt;&gt;&gt; <span class="keyword">ord</span>(<span class="string">'0'</span>), <span class="keyword">ord</span>(<span class="string">'9'</span>)</span><br><span class="line">(<span class="number">48</span>, <span class="number">57</span>)</span><br><span class="line">&gt;&gt;&gt; <span class="keyword">ord</span>(<span class="string">'A'</span>), <span class="keyword">ord</span>(<span class="string">'Z'</span>)</span><br><span class="line">(<span class="number">65</span>, <span class="number">90</span>)</span><br><span class="line">&gt;&gt;&gt; <span class="keyword">ord</span>(<span class="string">'a'</span>), <span class="keyword">ord</span>(<span class="string">'z'</span>)</span><br><span class="line">(<span class="number">97</span>, <span class="number">122</span>)</span><br></pre></td></tr></table></figure>

<h2 id="Regex"><a href="#Regex" class="headerlink" title="Regex"></a>Regex</h2><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">import re</span><br><span class="line"><span class="symbol">&lt;str&gt;</span>   = re.sub(<span class="symbol">&lt;regex&gt;</span>, <span class="keyword">new</span>, text, <span class="built_in">count</span>=<span class="number">0</span>)  # Substitutes <span class="keyword">all</span> occurrences.</span><br><span class="line"><span class="symbol">&lt;list&gt;</span>  = re.findall(<span class="symbol">&lt;regex&gt;</span>, text)            # Returns <span class="keyword">all</span> occurrences.</span><br><span class="line"><span class="symbol">&lt;list&gt;</span>  = re.<span class="keyword">split</span>(<span class="symbol">&lt;regex&gt;</span>, text, maxsplit=<span class="number">0</span>)  # Use brackets in regex <span class="keyword">to</span> keep the matches.</span><br><span class="line"><span class="symbol">&lt;Match&gt;</span> = re.<span class="built_in">search</span>(<span class="symbol">&lt;regex&gt;</span>, text)             # Searches <span class="keyword">for</span> <span class="keyword">first</span> occurrence of pattern.</span><br><span class="line"><span class="symbol">&lt;Match&gt;</span> = re.<span class="keyword">match</span>(<span class="symbol">&lt;regex&gt;</span>, text)              # Searches <span class="keyword">only</span> at the beginning of the text.</span><br><span class="line"><span class="symbol">&lt;iter&gt;</span>  = re.finditer(<span class="symbol">&lt;regex&gt;</span>, text)           # Returns <span class="keyword">all</span> occurrences <span class="keyword">as</span> <span class="keyword">match</span> objects.</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Search() and match() return None if they can’t find a match.</strong></li>
<li><strong>Argument ‘flags=re.IGNORECASE’ can be used with all functions.</strong></li>
<li><strong>Argument ‘flags=re.MULTILINE’ makes ‘^’ and ‘$’ match the start/end of each line.</strong></li>
<li><strong>Argument ‘flags=re.DOTALL’ makes dot also accept newline.</strong></li>
<li><strong>Use r’\1’ or ‘\1’ for backreference.</strong></li>
<li><strong>Add ‘?’ after an operator to make it non-greedy.</strong></li>
</ul>
<h3 id="Match-Object"><a href="#Match-Object" class="headerlink" title="Match Object"></a>Match Object</h3><figure class="highlight pf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">&lt;str&gt;</span>   = <span class="variable">&lt;Match&gt;</span>.<span class="keyword">group</span>()                      <span class="comment"># Whole match. Also group(0).</span></span><br><span class="line"><span class="variable">&lt;str&gt;</span>   = <span class="variable">&lt;Match&gt;</span>.<span class="keyword">group</span>(<span class="number">1</span>)                     <span class="comment"># Part in first bracket.</span></span><br><span class="line"><span class="variable">&lt;tuple&gt;</span> = <span class="variable">&lt;Match&gt;</span>.groups()                     <span class="comment"># All bracketed parts.</span></span><br><span class="line"><span class="variable">&lt;int&gt;</span>   = <span class="variable">&lt;Match&gt;</span>.start()                      <span class="comment"># Start index of a match.</span></span><br><span class="line"><span class="variable">&lt;int&gt;</span>   = <span class="variable">&lt;Match&gt;</span>.end()                        <span class="comment"># Exclusive end index of a match.</span></span><br></pre></td></tr></table></figure>

<h3 id="Special-Sequences"><a href="#Special-Sequences" class="headerlink" title="Special Sequences"></a>Special Sequences</h3><ul>
<li><strong>By default digits, whitespaces and alphanumerics from all alphabets are matched, unless ‘flags=re.ASCII’ argument is used.</strong></li>
<li><strong>Use capital letter for negation.</strong></li>
</ul>
<figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">'\d' == '[0-9]'                                <span class="meta"># Digit</span></span><br><span class="line">'\s' == '[ \t\n\r\f\v]'                        <span class="meta"># Whitespace</span></span><br><span class="line">'\w' == '[a-zA-Z0-9_]'                         <span class="meta"># Alphanumeric</span></span><br></pre></td></tr></table></figure>

<h2 id="Format"><a href="#Format" class="headerlink" title="Format"></a>Format</h2><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">str</span>&gt;</span> = f'</span><span class="template-variable">&#123;&lt;el_1&gt;&#125;</span><span class="xml">, </span><span class="template-variable">&#123;&lt;el_2&gt;&#125;</span><span class="xml">'</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">str</span>&gt;</span> = '</span><span class="template-variable">&#123;&#125;</span><span class="xml">, </span><span class="template-variable">&#123;&#125;</span><span class="xml">'.format(<span class="tag">&lt;<span class="name">el_1</span>&gt;</span>, <span class="tag">&lt;<span class="name">el_2</span>&gt;</span>)</span></span><br></pre></td></tr></table></figure>

<h3 id="Attributes"><a href="#Attributes" class="headerlink" title="Attributes"></a>Attributes</h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;</span>&gt; from collections import namedtuple</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; Person = namedtuple(<span class="string">'Person'</span>, <span class="string">'name height'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; person = Person(<span class="string">'Jean-Luc'</span>, <span class="number">187</span>)</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; f<span class="string">'&#123;person.height&#125;'</span></span><br><span class="line"><span class="string">'187'</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; <span class="string">'&#123;p.height&#125;'</span>.format(p=person)</span><br><span class="line"><span class="string">'187'</span></span><br></pre></td></tr></table></figure>

<h3 id="General-Options"><a href="#General-Options" class="headerlink" title="General Options"></a>General Options</h3><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;&lt;el&gt;:&lt;<span class="number">10</span>&#125;                                     <span class="meta"># <span class="string">'&lt;el&gt;      '</span></span></span><br><span class="line">&#123;&lt;el&gt;:^<span class="number">10</span>&#125;                                     <span class="meta"># <span class="string">'   &lt;el&gt;   '</span></span></span><br><span class="line">&#123;&lt;el&gt;:&gt;<span class="number">10</span>&#125;                                     <span class="meta"># <span class="string">'      &lt;el&gt;'</span></span></span><br><span class="line">&#123;&lt;el&gt;:.&lt;<span class="number">10</span>&#125;                                    <span class="meta"># <span class="string">'&lt;el&gt;......'</span></span></span><br><span class="line">&#123;&lt;el&gt;:&lt;<span class="number">0</span>&#125;                                      <span class="meta"># <span class="string">'&lt;el&gt;'</span></span></span><br></pre></td></tr></table></figure>

<h3 id="Strings"><a href="#Strings" class="headerlink" title="Strings"></a>Strings</h3><p><strong>‘!r’ calls object’s repr() method, instead of str(), to get a string.</strong></p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="string">'abcde'</span>!r:&lt;<span class="number">10</span>&#125;                                <span class="meta"># <span class="string">"'abcde'   "</span></span></span><br><span class="line">&#123;<span class="string">'abcde'</span>:<span class="number">.3</span>&#125;                                   <span class="meta"># <span class="string">'abc'</span></span></span><br><span class="line">&#123;<span class="string">'abcde'</span>:<span class="number">10.3</span>&#125;                                 <span class="meta"># <span class="string">'abc       '</span></span></span><br></pre></td></tr></table></figure>

<h3 id="Numbers"><a href="#Numbers" class="headerlink" title="Numbers"></a>Numbers</h3><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123; <span class="number">123456</span>:<span class="number">10</span>,&#125;                                  <span class="meta"># <span class="string">'   123,456'</span></span></span><br><span class="line">&#123; <span class="number">123456</span>:<span class="number">10</span>_&#125;                                  <span class="meta"># <span class="string">'   123_456'</span></span></span><br><span class="line">&#123; <span class="number">123456</span>:+<span class="number">10</span>&#125;                                  <span class="meta"># <span class="string">'   +123456'</span></span></span><br><span class="line">&#123;<span class="number">-123456</span>:=<span class="number">10</span>&#125;                                  <span class="meta"># <span class="string">'-   123456'</span></span></span><br><span class="line">&#123; <span class="number">123456</span>: &#125;                                    <span class="meta"># <span class="string">' 123456'</span></span></span><br><span class="line">&#123;<span class="number">-123456</span>: &#125;                                    <span class="meta"># <span class="string">'-123456'</span></span></span><br></pre></td></tr></table></figure>

<h3 id="Floats"><a href="#Floats" class="headerlink" title="Floats"></a>Floats</h3><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="number">1.23456</span>:<span class="number">10.3</span>&#125;                                 # <span class="string">'      1.23'</span></span><br><span class="line">&#123;<span class="number">1.23456</span>:<span class="number">10.3f</span>&#125;                                # <span class="string">'     1.235'</span></span><br><span class="line">&#123;<span class="number">1.23456</span>:<span class="number">10.3</span>e&#125;                                # <span class="string">' 1.235e+00'</span></span><br><span class="line">&#123;<span class="number">1.23456</span>:<span class="number">10.3</span>%&#125;                                # <span class="string">'  123.456%'</span></span><br></pre></td></tr></table></figure>

<h4 id="Comparison-of-float-presentation-types"><a href="#Comparison-of-float-presentation-types" class="headerlink" title="Comparison of float presentation types:"></a>Comparison of float presentation types:</h4><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">+----------------+----------------+---------------+----------------+-----------------+</span><br><span class="line">|<span class="string">                </span>|<span class="string">    &#123;&lt;float&gt;&#125;   </span>|<span class="string">  &#123;&lt;float&gt;:f&#125;  </span>|<span class="string">   &#123;&lt;float&gt;:e&#125;  </span>|<span class="string">   &#123;&lt;float&gt;:%&#125;   </span>|</span><br><span class="line">+----------------+----------------+---------------+----------------+-----------------+</span><br><span class="line">|<span class="string">    0.000056789 </span>|<span class="string">   '5.6789e-05' </span>|<span class="string">    '0.000057' </span>|<span class="string"> '5.678900e-05' </span>|<span class="string">     '0.005679%' </span>|</span><br><span class="line">|<span class="string">    0.00056789  </span>|<span class="string">   '0.00056789' </span>|<span class="string">    '0.000568' </span>|<span class="string"> '5.678900e-04' </span>|<span class="string">     '0.056789%' </span>|</span><br><span class="line">|<span class="string">    0.0056789   </span>|<span class="string">   '0.0056789'  </span>|<span class="string">    '0.005679' </span>|<span class="string"> '5.678900e-03' </span>|<span class="string">     '0.567890%' </span>|</span><br><span class="line">|<span class="string">    0.056789    </span>|<span class="string">   '0.056789'   </span>|<span class="string">    '0.056789' </span>|<span class="string"> '5.678900e-02' </span>|<span class="string">     '5.678900%' </span>|</span><br><span class="line">|<span class="string">    0.56789     </span>|<span class="string">   '0.56789'    </span>|<span class="string">    '0.567890' </span>|<span class="string"> '5.678900e-01' </span>|<span class="string">    '56.789000%' </span>|</span><br><span class="line">|<span class="string">    5.6789      </span>|<span class="string">   '5.6789'     </span>|<span class="string">    '5.678900' </span>|<span class="string"> '5.678900e+00' </span>|<span class="string">   '567.890000%' </span>|</span><br><span class="line">|<span class="string">   56.789       </span>|<span class="string">  '56.789'      </span>|<span class="string">   '56.789000' </span>|<span class="string"> '5.678900e+01' </span>|<span class="string">  '5678.900000%' </span>|</span><br><span class="line">|<span class="string">  567.89        </span>|<span class="string"> '567.89'       </span>|<span class="string">  '567.890000' </span>|<span class="string"> '5.678900e+02' </span>|<span class="string"> '56789.000000%' </span>|</span><br><span class="line">+----------------+----------------+---------------+----------------+-----------------+</span><br><span class="line">+----------------+----------------+---------------+----------------+-----------------+</span><br><span class="line">|<span class="string">                </span>|<span class="string">  &#123;&lt;float&gt;:.2&#125;  </span>|<span class="string"> &#123;&lt;float&gt;:.2f&#125; </span>|<span class="string">  &#123;&lt;float&gt;:.2e&#125; </span>|<span class="string">  &#123;&lt;float&gt;:.2%&#125;  </span>|</span><br><span class="line">+----------------+----------------+---------------+----------------+-----------------+</span><br><span class="line">|<span class="string">    0.000056789 </span>|<span class="string">   '5.7e-05'    </span>|<span class="string">      '0.00'   </span>|<span class="string">   '5.68e-05'   </span>|<span class="string">       '0.01%'   </span>|</span><br><span class="line">|<span class="string">    0.00056789  </span>|<span class="string">   '0.00057'    </span>|<span class="string">      '0.00'   </span>|<span class="string">   '5.68e-04'   </span>|<span class="string">       '0.06%'   </span>|</span><br><span class="line">|<span class="string">    0.0056789   </span>|<span class="string">   '0.0057'     </span>|<span class="string">      '0.01'   </span>|<span class="string">   '5.68e-03'   </span>|<span class="string">       '0.57%'   </span>|</span><br><span class="line">|<span class="string">    0.056789    </span>|<span class="string">   '0.057'      </span>|<span class="string">      '0.06'   </span>|<span class="string">   '5.68e-02'   </span>|<span class="string">       '5.68%'   </span>|</span><br><span class="line">|<span class="string">    0.56789     </span>|<span class="string">   '0.57'       </span>|<span class="string">      '0.57'   </span>|<span class="string">   '5.68e-01'   </span>|<span class="string">      '56.79%'   </span>|</span><br><span class="line">|<span class="string">    5.6789      </span>|<span class="string">   '5.7'        </span>|<span class="string">      '5.68'   </span>|<span class="string">   '5.68e+00'   </span>|<span class="string">     '567.89%'   </span>|</span><br><span class="line">|<span class="string">   56.789       </span>|<span class="string">   '5.7e+01'    </span>|<span class="string">     '56.79'   </span>|<span class="string">   '5.68e+01'   </span>|<span class="string">    '5678.90%'   </span>|</span><br><span class="line">|<span class="string">  567.89        </span>|<span class="string">   '5.7e+02'    </span>|<span class="string">    '567.89'   </span>|<span class="string">   '5.68e+02'   </span>|<span class="string">   '56789.00%'   </span>|</span><br><span class="line">+----------------+----------------+---------------+----------------+-----------------+</span><br></pre></td></tr></table></figure>

<h3 id="Ints"><a href="#Ints" class="headerlink" title="Ints"></a>Ints</h3><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="number">90</span>:c&#125;                                <span class="meta"># <span class="string">'Z'</span></span></span><br><span class="line">&#123;<span class="number">90</span>:X&#125;                                <span class="meta"># <span class="string">'5A'</span></span></span><br><span class="line">&#123;<span class="number">90</span>:b&#125;                                <span class="meta"># <span class="string">'1011010'</span></span></span><br></pre></td></tr></table></figure>

<h2 id="Numbers-1"><a href="#Numbers-1" class="headerlink" title="Numbers"></a>Numbers</h2><h3 id="Types"><a href="#Types" class="headerlink" title="Types"></a>Types</h3><figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="built_in">int</span>&gt;      = <span class="built_in">int</span>(&lt;<span class="built_in">float</span>/str/bool&gt;)    # Or: math.<span class="built_in">floor</span>(&lt;<span class="built_in">float</span>&gt;)</span><br><span class="line">&lt;<span class="built_in">float</span>&gt;    = <span class="built_in">float</span>(&lt;<span class="built_in">int</span>/str/bool&gt;)</span><br><span class="line">&lt;<span class="keyword">complex</span>&gt;  = <span class="keyword">complex</span>(<span class="keyword">real</span>=<span class="number">0</span>, imag=<span class="number">0</span>)  # Or: &lt;<span class="keyword">real</span>&gt; + &lt;<span class="keyword">real</span>&gt;j</span><br><span class="line">&lt;<span class="built_in">Fraction</span>&gt; = fractions.<span class="built_in">Fraction</span>(numerator=<span class="number">0</span>, denominator=<span class="number">1</span>)</span><br><span class="line">&lt;<span class="keyword">Decimal</span>&gt;  = <span class="keyword">decimal</span>.<span class="keyword">Decimal</span>(&lt;str/<span class="built_in">int</span>/<span class="built_in">float</span>&gt;)</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>‘int(<str>)’ and ‘float(<str>)’ raise ValueError on malformed strings.</str></str></strong></li>
<li><strong>Decimal numbers can be represented exactly, unlike floats where ‘1.1 + 2.2 != 3.3’.</strong></li>
<li><strong>Their precision can be adjusted with ‘decimal.getcontext().prec = <int>‘.</int></strong></li>
</ul>
<h3 id="Basic-Functions"><a href="#Basic-Functions" class="headerlink" title="Basic Functions"></a>Basic Functions</h3><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">&lt;num&gt;</span> = <span class="built_in">pow</span>(<span class="symbol">&lt;num&gt;</span>, <span class="symbol">&lt;num&gt;</span>)             # Or: <span class="symbol">&lt;num&gt;</span> ** <span class="symbol">&lt;num&gt;</span></span><br><span class="line"><span class="symbol">&lt;num&gt;</span> = <span class="built_in">abs</span>(<span class="symbol">&lt;num&gt;</span>)</span><br><span class="line"><span class="symbol">&lt;int&gt;</span> = <span class="built_in">round</span>(<span class="symbol">&lt;num&gt;</span>)</span><br><span class="line"><span class="symbol">&lt;num&gt;</span> = <span class="built_in">round</span>(<span class="symbol">&lt;num&gt;</span>, ±ndigits)        # `<span class="built_in">round</span>(<span class="number">126</span>, -<span class="number">1</span>) == <span class="number">130</span>`</span><br></pre></td></tr></table></figure>

<h3 id="Math"><a href="#Math" class="headerlink" title="Math"></a>Math</h3><figure class="highlight xl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">from math <span class="keyword">import</span> e, <span class="built_in">pi</span>, inf, nan</span><br><span class="line">from math <span class="keyword">import</span> <span class="built_in">cos</span>, <span class="built_in">acos</span>, <span class="built_in">sin</span>, <span class="built_in">asin</span>, <span class="built_in">tan</span>, <span class="built_in">atan</span>, degrees, radians</span><br><span class="line">from math <span class="keyword">import</span> <span class="built_in">log</span>, <span class="built_in">log10</span>, <span class="built_in">log2</span></span><br></pre></td></tr></table></figure>

<h3 id="Statistics"><a href="#Statistics" class="headerlink" title="Statistics"></a>Statistics</h3><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">from</span> statistics import mean, <span class="built_in">median</span>, <span class="built_in">variance</span>, pvariance, pstdev</span><br></pre></td></tr></table></figure>

<h3 id="Random"><a href="#Random" class="headerlink" title="Random"></a>Random</h3><figure class="highlight pf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> <span class="keyword">random</span> import <span class="keyword">random</span>, randint, choice, shuffle</span><br><span class="line"><span class="variable">&lt;float&gt;</span> = <span class="keyword">random</span>()</span><br><span class="line"><span class="variable">&lt;int&gt;</span>   = randint(from_inclusive, to_inclusive)</span><br><span class="line"><span class="variable">&lt;el&gt;</span>    = choice(<span class="variable">&lt;list&gt;</span>)</span><br><span class="line">shuffle(<span class="variable">&lt;list&gt;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="Bin-Hex"><a href="#Bin-Hex" class="headerlink" title="Bin, Hex"></a>Bin, Hex</h3><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="type">int</span>&gt;     = <span class="number">0</span>b&lt;bin&gt;                   # <span class="keyword">Or</span>: <span class="number">0</span>x&lt;hex&gt;</span><br><span class="line">&lt;<span class="type">int</span>&gt;     = <span class="type">int</span>(<span class="string">'&lt;bin&gt;'</span>, <span class="number">2</span>)           # <span class="keyword">Or</span>: <span class="type">int</span>(<span class="string">'&lt;hex&gt;'</span>, <span class="number">16</span>)</span><br><span class="line">&lt;<span class="type">int</span>&gt;     = <span class="type">int</span>(<span class="string">'0b&lt;bin&gt;'</span>, <span class="number">0</span>)         # <span class="keyword">Or</span>: <span class="type">int</span>(<span class="string">'0x&lt;hex&gt;'</span>, <span class="number">0</span>)</span><br><span class="line"><span class="string">'0b&lt;bin&gt;'</span> = bin(&lt;<span class="type">int</span>&gt;)                # <span class="keyword">Or</span>: <span class="string">'0x&lt;hex&gt;'</span> = hex(&lt;<span class="type">int</span>&gt;)</span><br></pre></td></tr></table></figure>

<h3 id="Bitwise-Operators"><a href="#Bitwise-Operators" class="headerlink" title="Bitwise Operators"></a>Bitwise Operators</h3><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="keyword">int</span>&gt;     = &lt;<span class="keyword">int</span>&gt; &amp; &lt;<span class="keyword">int</span>&gt;             <span class="meta"># And</span></span><br><span class="line">&lt;<span class="keyword">int</span>&gt;     = &lt;<span class="keyword">int</span>&gt; | &lt;<span class="keyword">int</span>&gt;             <span class="meta"># Or</span></span><br><span class="line">&lt;<span class="keyword">int</span>&gt;     = &lt;<span class="keyword">int</span>&gt; ^ &lt;<span class="keyword">int</span>&gt;             <span class="meta"># Xor (0 <span class="meta-keyword">if</span> both bits equal)</span></span><br><span class="line">&lt;<span class="keyword">int</span>&gt;     = &lt;<span class="keyword">int</span>&gt; &lt;&lt; n_bits           <span class="meta"># Shift left</span></span><br><span class="line">&lt;<span class="keyword">int</span>&gt;     = &lt;<span class="keyword">int</span>&gt; &gt;&gt; n_bits           <span class="meta"># Shift right</span></span><br><span class="line">&lt;<span class="keyword">int</span>&gt;     = ~&lt;<span class="keyword">int</span>&gt;                    <span class="meta"># Compliment (flips bits)</span></span><br></pre></td></tr></table></figure>

<h2 id="Combinatorics"><a href="#Combinatorics" class="headerlink" title="Combinatorics"></a>Combinatorics</h2><ul>
<li><strong>Every function returns an iterator.</strong></li>
<li><strong>If you want to print the iterator, you need to pass it to the list() function!</strong></li>
</ul>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">from itertools import product, combinations, combinations_with_replacement, permutations</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; product([<span class="number">0</span>, <span class="number">1</span>], repeat=<span class="number">3</span>)</span><br><span class="line">[(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>), (<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>), (<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>), (<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>),</span><br><span class="line"> (<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>), (<span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>), (<span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>), (<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>)]</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; product(<span class="string">'ab'</span>, <span class="string">'12'</span>)</span><br><span class="line">[(<span class="string">'a'</span>, <span class="string">'1'</span>), (<span class="string">'a'</span>, <span class="string">'2'</span>),</span><br><span class="line"> (<span class="string">'b'</span>, <span class="string">'1'</span>), (<span class="string">'b'</span>, <span class="string">'2'</span>)]</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; combinations(<span class="string">'abc'</span>, <span class="number">2</span>)</span><br><span class="line">[(<span class="string">'a'</span>, <span class="string">'b'</span>), (<span class="string">'a'</span>, <span class="string">'c'</span>), (<span class="string">'b'</span>, <span class="string">'c'</span>)]</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; combinations_with_replacement(<span class="string">'abc'</span>, <span class="number">2</span>)</span><br><span class="line">[(<span class="string">'a'</span>, <span class="string">'a'</span>), (<span class="string">'a'</span>, <span class="string">'b'</span>), (<span class="string">'a'</span>, <span class="string">'c'</span>),</span><br><span class="line"> (<span class="string">'b'</span>, <span class="string">'b'</span>), (<span class="string">'b'</span>, <span class="string">'c'</span>),</span><br><span class="line"> (<span class="string">'c'</span>, <span class="string">'c'</span>)]</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; permutations(<span class="string">'abc'</span>, <span class="number">2</span>)</span><br><span class="line">[(<span class="string">'a'</span>, <span class="string">'b'</span>), (<span class="string">'a'</span>, <span class="string">'c'</span>),</span><br><span class="line"> (<span class="string">'b'</span>, <span class="string">'a'</span>), (<span class="string">'b'</span>, <span class="string">'c'</span>),</span><br><span class="line"> (<span class="string">'c'</span>, <span class="string">'a'</span>), (<span class="string">'c'</span>, <span class="string">'b'</span>)]</span><br></pre></td></tr></table></figure>

<h2 id="Datetime"><a href="#Datetime" class="headerlink" title="Datetime"></a>Datetime</h2><ul>
<li><strong>Module ‘datetime’ provides ‘date’ <d>, ‘time’ <t>, ‘datetime’ <dt> and ‘timedelta’ <td> classes. All are immutable and hashable.</td></dt></t></d></strong></li>
<li><strong>Time and datetime can be ‘aware’ <a>, meaning they have defined timezone, or ‘naive’ <n>, meaning they don’t.</n></a></strong></li>
<li><strong>If object is naive it is presumed to be in the system’s timezone.</strong></li>
</ul>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> <span class="type">date</span>, <span class="type">time</span>, datetime, timedelta</span><br><span class="line"><span class="keyword">from</span> dateutil.tz <span class="keyword">import</span> UTC, tzlocal, gettz</span><br></pre></td></tr></table></figure>

<h3 id="Constructors"><a href="#Constructors" class="headerlink" title="Constructors"></a>Constructors</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;D&gt;  = date(year, month, day)</span><br><span class="line">&lt;T&gt;  = time(<span class="attribute">hour</span>=0, <span class="attribute">minute</span>=0, <span class="attribute">second</span>=0, <span class="attribute">microsecond</span>=0, <span class="attribute">tzinfo</span>=None, <span class="attribute">fold</span>=0)</span><br><span class="line">&lt;DT&gt; = datetime(year, month, day, <span class="attribute">hour</span>=0, <span class="attribute">minute</span>=0, <span class="attribute">second</span>=0, <span class="built_in">..</span>.)</span><br><span class="line">&lt;TD&gt; = timedelta(<span class="attribute">days</span>=0, <span class="attribute">seconds</span>=0, <span class="attribute">microseconds</span>=0, <span class="attribute">milliseconds</span>=0,</span><br><span class="line">                 <span class="attribute">minutes</span>=0, <span class="attribute">hours</span>=0, <span class="attribute">weeks</span>=0)</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Use ‘&lt;D/DT&gt;.weekday()’ to get the day of the week (Mon == 0).</strong></li>
<li><strong>‘fold=1’ means second pass in case of time jumping back for one hour.</strong></li>
</ul>
<h3 id="Now"><a href="#Now" class="headerlink" title="Now"></a>Now</h3><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;D/DTn&gt;  = D/DT.today()                     # <span class="keyword">Current</span> <span class="keyword">local</span> <span class="type">date</span> <span class="keyword">or</span> naive datetime.</span><br><span class="line">&lt;DTn&gt;    = DT.utcnow()                      # Naive datetime <span class="keyword">from</span> <span class="keyword">current</span> UTC <span class="type">time</span>.</span><br><span class="line">&lt;DTa&gt;    = DT.now(&lt;tzinfo&gt;)                 # Aware datetime <span class="keyword">from</span> <span class="keyword">current</span> tz <span class="type">time</span>.</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>To extract time use ‘<dtn>.time()’, ‘<dta>.time()’ or ‘<dta>.timetz()’.</dta></dta></dtn></strong></li>
</ul>
<h3 id="Timezone"><a href="#Timezone" class="headerlink" title="Timezone"></a>Timezone</h3><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">&lt;tzinfo&gt;</span> = UTC                              <span class="comment"># UTC timezone. London without DST.</span></span><br><span class="line"><span class="variable">&lt;tzinfo&gt;</span> = tzlocal()                        <span class="comment"># Local timezone. Also gettz().</span></span><br><span class="line"><span class="variable">&lt;tzinfo&gt;</span> = gettz('<span class="variable">&lt;Cont.&gt;</span>/<span class="variable">&lt;City&gt;</span>')          <span class="comment"># 'Continent/City_Name' timezone or None.</span></span><br><span class="line"><span class="variable">&lt;DTa&gt;</span>    = <span class="variable">&lt;DT&gt;</span>.astimezone(<span class="variable">&lt;tzinfo&gt;</span>)        <span class="comment"># Datetime, converted to passed timezone.</span></span><br><span class="line"><span class="variable">&lt;Ta/DTa&gt;</span> = <span class="variable">&lt;T/DT&gt;</span>.replace(tzinfo=<span class="variable">&lt;tzinfo&gt;</span>)  <span class="comment"># Unconverted object with new timezone.</span></span><br></pre></td></tr></table></figure>

<h3 id="Encode"><a href="#Encode" class="headerlink" title="Encode"></a>Encode</h3><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">&lt;D/T/DT&gt;</span> = D/T/DT.fromisoformat('<span class="variable">&lt;iso&gt;</span>')    <span class="comment"># Object from ISO string. Raises ValueError.</span></span><br><span class="line"><span class="variable">&lt;DT&gt;</span>     = DT.strptime(<span class="variable">&lt;str&gt;</span>, '<span class="variable">&lt;format&gt;</span>')   <span class="comment"># Datetime from str, according to format.</span></span><br><span class="line"><span class="variable">&lt;D/DTn&gt;</span>  = D/DT.fromordinal(<span class="variable">&lt;int&gt;</span>)          <span class="comment"># D/DTn from days since Christ, at midnight.</span></span><br><span class="line"><span class="variable">&lt;DTn&gt;</span>    = DT.fromtimestamp(<span class="variable">&lt;real&gt;</span>)         <span class="comment"># Local time DTn from seconds since Epoch.</span></span><br><span class="line"><span class="variable">&lt;DTa&gt;</span>    = DT.fromtimestamp(<span class="variable">&lt;real&gt;</span>, <span class="variable">&lt;tz.&gt;</span>)  <span class="comment"># Aware datetime from seconds since Epoch.</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>ISO strings come in following forms: ‘YYYY-MM-DD’, ‘HH:MM:SS.ffffff[±<offset>]’, or both separated by a space or a ‘T’. Offset is formatted as: ‘HH:MM’.</offset></strong></li>
<li><strong>On Unix systems Epoch is ‘1970-01-01 00:00 UTC’, ‘1970-01-01 01:00 CET’, …</strong></li>
</ul>
<h3 id="Decode"><a href="#Decode" class="headerlink" title="Decode"></a>Decode</h3><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">&lt;str&gt;</span>    = <span class="variable">&lt;D/T/DT&gt;</span>.isoformat()             <span class="comment"># ISO string representation.</span></span><br><span class="line"><span class="variable">&lt;str&gt;</span>    = <span class="variable">&lt;D/T/DT&gt;</span>.strftime('<span class="variable">&lt;format&gt;</span>')    <span class="comment"># Custom string representation.</span></span><br><span class="line"><span class="variable">&lt;int&gt;</span>    = <span class="variable">&lt;D/DT&gt;</span>.toordinal()               <span class="comment"># Days since Christ, ignoring time and tz.</span></span><br><span class="line"><span class="variable">&lt;float&gt;</span>  = <span class="variable">&lt;DTn&gt;</span>.timestamp()                <span class="comment"># Seconds since Epoch from DTn in local time.</span></span><br><span class="line"><span class="variable">&lt;float&gt;</span>  = <span class="variable">&lt;DTa&gt;</span>.timestamp()                <span class="comment"># Seconds since Epoch from DTa.</span></span><br></pre></td></tr></table></figure>

<h3 id="Format-1"><a href="#Format-1" class="headerlink" title="Format"></a>Format</h3><figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; from datetime import datetime</span><br><span class="line">&gt;&gt;&gt; dt = datetime.strptime(<span class="string">'2015-05-14 23:39:00.00 +0200'</span>, <span class="string">'%Y-%m-%d %H:%M:%S.%f %z'</span>)</span><br><span class="line">&gt;&gt;&gt; dt.strftime(<span class="string">"%A, %dth of %B '%y, %I:%M%p %Z"</span>)</span><br><span class="line"><span class="string">"Thursday, 14th of May '15, 11:39PM UTC+02:00"</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>When parsing, ‘%z’ also accepts ‘±HH:MM’.</strong></li>
<li><strong>For abbreviated weekday and month use ‘%a’ and ‘%b’.</strong></li>
</ul>
<h3 id="Arithmetics"><a href="#Arithmetics" class="headerlink" title="Arithmetics"></a>Arithmetics</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">TD</span>&gt;</span>     = <span class="tag">&lt;<span class="name">D</span>/<span class="attr">DT</span>&gt;</span> - <span class="tag">&lt;<span class="name">D</span>/<span class="attr">DT</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">D</span>/<span class="attr">DT</span>&gt;</span>   = <span class="tag">&lt;<span class="name">D</span>/<span class="attr">DT</span>&gt;</span> ± <span class="tag">&lt;<span class="name">TD</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">TD</span>&gt;</span>     = <span class="tag">&lt;<span class="name">TD</span>&gt;</span>   ± <span class="tag">&lt;<span class="name">TD</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">TD</span>&gt;</span>     = <span class="tag">&lt;<span class="name">TD</span>&gt;</span>   * <span class="tag">&lt;<span class="name">real</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="Arguments"><a href="#Arguments" class="headerlink" title="Arguments"></a>Arguments</h2><h3 id="Inside-Function-Call"><a href="#Inside-Function-Call" class="headerlink" title="Inside Function Call"></a>Inside Function Call</h3><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="function"><span class="keyword">function</span>&gt;<span class="params">(&lt;positional_args&gt;)</span>                  # <span class="title">f</span><span class="params">(0, 0)</span></span></span><br><span class="line">&lt;<span class="function"><span class="keyword">function</span>&gt;<span class="params">(&lt;keyword_args&gt;)</span>                     # <span class="title">f</span><span class="params">(x=0, y=0)</span></span></span><br><span class="line">&lt;<span class="function"><span class="keyword">function</span>&gt;<span class="params">(&lt;positional_args&gt;, &lt;keyword_args&gt;)</span>  # <span class="title">f</span><span class="params">(0, y=0)</span></span></span><br></pre></td></tr></table></figure>

<h3 id="Inside-Function-Definition"><a href="#Inside-Function-Definition" class="headerlink" title="Inside Function Definition"></a>Inside Function Definition</h3><figure class="highlight flix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span></span>(&lt;nondefault_args&gt;):                      # <span class="function"><span class="keyword">def</span> <span class="title">f</span></span>(x, y):</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span></span>(&lt;default_args&gt;):                         # <span class="function"><span class="keyword">def</span> <span class="title">f</span></span>(x=<span class="number">0</span>, y=<span class="number">0</span>):</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span></span>(&lt;nondefault_args&gt;, &lt;default_args&gt;):      # <span class="function"><span class="keyword">def</span> <span class="title">f</span></span>(x, y=<span class="number">0</span>):</span><br></pre></td></tr></table></figure>

<h2 id="Splat-Operator"><a href="#Splat-Operator" class="headerlink" title="Splat Operator"></a>Splat Operator</h2><h3 id="Inside-Function-Call-1"><a href="#Inside-Function-Call-1" class="headerlink" title="Inside Function Call"></a>Inside Function Call</h3><p><strong>Splat expands a collection into positional arguments, while splatty-splat expands a dictionary into keyword arguments.</strong></p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">args   = (<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">kwargs = &#123;<span class="string">'x'</span>: <span class="number">3</span>, <span class="string">'y'</span>: <span class="number">4</span>, <span class="string">'z'</span>: <span class="number">5</span>&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span><span class="params">(*args, **kwargs)</span></span></span><br></pre></td></tr></table></figure>

<h4 id="Is-the-same-as"><a href="#Is-the-same-as" class="headerlink" title="Is the same as:"></a>Is the same as:</h4><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">func(1, 2, <span class="attribute">x</span>=3, <span class="attribute">y</span>=4, <span class="attribute">z</span>=5)</span><br></pre></td></tr></table></figure>

<h3 id="Inside-Function-Definition-1"><a href="#Inside-Function-Definition-1" class="headerlink" title="Inside Function Definition"></a>Inside Function Definition</h3><p><strong>Splat combines zero or more positional arguments into a tuple, while splatty-splat combines zero or more keyword arguments into a dictionary.</strong></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span><span class="params">(*a)</span></span><span class="symbol">:</span></span><br><span class="line">    <span class="keyword">return</span> sum(a)</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; add(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line"><span class="number">6</span></span><br></pre></td></tr></table></figure>

<h4 id="Legal-argument-combinations"><a href="#Legal-argument-combinations" class="headerlink" title="Legal argument combinations:"></a>Legal argument combinations:</h4><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">def f(x, y, z):                # f(<span class="attribute">x</span>=1, <span class="attribute">y</span>=2, <span class="attribute">z</span>=3) | f(1, <span class="attribute">y</span>=2, <span class="attribute">z</span>=3) | f(1, 2, <span class="attribute">z</span>=3) | f(1, 2, 3)</span><br><span class="line">def f(*, x, y, z):             # f(<span class="attribute">x</span>=1, <span class="attribute">y</span>=2, <span class="attribute">z</span>=3)</span><br><span class="line">def f(x, *, y, z):             # f(<span class="attribute">x</span>=1, <span class="attribute">y</span>=2, <span class="attribute">z</span>=3) | f(1, <span class="attribute">y</span>=2, <span class="attribute">z</span>=3)</span><br><span class="line">def f(x, y, *, z):             # f(<span class="attribute">x</span>=1, <span class="attribute">y</span>=2, <span class="attribute">z</span>=3) | f(1, <span class="attribute">y</span>=2, <span class="attribute">z</span>=3) | f(1, 2, <span class="attribute">z</span>=3)</span><br><span class="line">def f(<span class="number">*a</span>rgs):                  # f(1, 2, 3)</span><br><span class="line">def f(x, <span class="number">*a</span>rgs):               # f(1, 2, 3)</span><br><span class="line">def f(<span class="number">*a</span>rgs, z):               # f(1, 2, <span class="attribute">z</span>=3)</span><br><span class="line">def f(x, <span class="number">*a</span>rgs, z):            # f(1, 2, <span class="attribute">z</span>=3)</span><br><span class="line">def f(**kwargs):               # f(<span class="attribute">x</span>=1, <span class="attribute">y</span>=2, <span class="attribute">z</span>=3)</span><br><span class="line">def f(x, **kwargs):            # f(<span class="attribute">x</span>=1, <span class="attribute">y</span>=2, <span class="attribute">z</span>=3) | f(1, <span class="attribute">y</span>=2, <span class="attribute">z</span>=3)</span><br><span class="line">def f(*, x, **kwargs):         # f(<span class="attribute">x</span>=1, <span class="attribute">y</span>=2, <span class="attribute">z</span>=3)</span><br><span class="line">def f(<span class="number">*a</span>rgs, **kwargs):        # f(<span class="attribute">x</span>=1, <span class="attribute">y</span>=2, <span class="attribute">z</span>=3) | f(1, <span class="attribute">y</span>=2, <span class="attribute">z</span>=3) | f(1, 2, <span class="attribute">z</span>=3) | f(1, 2, 3)</span><br><span class="line">def f(x, <span class="number">*a</span>rgs, **kwargs):     # f(<span class="attribute">x</span>=1, <span class="attribute">y</span>=2, <span class="attribute">z</span>=3) | f(1, <span class="attribute">y</span>=2, <span class="attribute">z</span>=3) | f(1, 2, <span class="attribute">z</span>=3) | f(1, 2, 3)</span><br><span class="line">def f(<span class="number">*a</span>rgs, y, **kwargs):     # f(<span class="attribute">x</span>=1, <span class="attribute">y</span>=2, <span class="attribute">z</span>=3) | f(1, <span class="attribute">y</span>=2, <span class="attribute">z</span>=3)</span><br><span class="line">def f(x, <span class="number">*a</span>rgs, z, **kwargs):  # f(<span class="attribute">x</span>=1, <span class="attribute">y</span>=2, <span class="attribute">z</span>=3) | f(1, <span class="attribute">y</span>=2, <span class="attribute">z</span>=3) | f(1, 2, <span class="attribute">z</span>=3)</span><br></pre></td></tr></table></figure>

<h3 id="Other-Uses"><a href="#Other-Uses" class="headerlink" title="Other Uses"></a>Other Uses</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">list</span>&gt;</span>  = [*<span class="tag">&lt;<span class="name">collection</span>&gt;</span> [, ...]]</span><br><span class="line"><span class="tag">&lt;<span class="name">set</span>&gt;</span>   = &#123;*<span class="tag">&lt;<span class="name">collection</span>&gt;</span> [, ...]&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">tuple</span>&gt;</span> = (*<span class="tag">&lt;<span class="name">collection</span>&gt;</span>, [...])</span><br><span class="line"><span class="tag">&lt;<span class="name">dict</span>&gt;</span>  = &#123;**<span class="tag">&lt;<span class="name">dict</span>&gt;</span> [, ...]&#125;</span><br><span class="line">head, *body, tail = <span class="tag">&lt;<span class="name">collection</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="Inline"><a href="#Inline" class="headerlink" title="Inline"></a>Inline</h2><h3 id="Lambda"><a href="#Lambda" class="headerlink" title="Lambda"></a>Lambda</h3><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">&lt;function&gt;</span> = lambd<span class="variable">a:</span> <span class="symbol">&lt;return_value&gt;</span></span><br><span class="line"><span class="symbol">&lt;function&gt;</span> = lambda <span class="symbol">&lt;argument_1&gt;</span>, <span class="symbol">&lt;argument_2&gt;</span>: <span class="symbol">&lt;return_value&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="Comprehension"><a href="#Comprehension" class="headerlink" title="Comprehension"></a>Comprehension</h3><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;list&gt; = [i+<span class="number">1</span> <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>)]                   # [<span class="number">1</span>, <span class="number">2</span>, ..., <span class="number">10</span>]</span><br><span class="line">&lt;<span class="keyword">set</span>&gt;  = &#123;i <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>) <span class="keyword">if</span> i &gt; <span class="number">5</span>&#125;            # &#123;<span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>&#125;</span><br><span class="line">&lt;iter&gt; = (i+<span class="number">5</span> <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>))                   # (<span class="number">5</span>, <span class="number">6</span>, ..., <span class="number">14</span>)</span><br><span class="line">&lt;dict&gt; = &#123;i: i*<span class="number">2</span> <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>)&#125;                # &#123;<span class="number">0</span>: <span class="number">0</span>, <span class="number">1</span>: <span class="number">2</span>, ..., <span class="number">9</span>: <span class="number">18</span>&#125;</span><br><span class="line"><span class="keyword">out</span> = [i+j <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>) <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">10</span>)]</span><br></pre></td></tr></table></figure>

<h4 id="Is-the-same-as-1"><a href="#Is-the-same-as-1" class="headerlink" title="Is the same as:"></a>Is the same as:</h4><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">out</span> = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="keyword">range</span>(10):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="keyword">range</span>(10):</span><br><span class="line">        <span class="keyword">out</span>.<span class="keyword">append</span>(i+j)</span><br></pre></td></tr></table></figure>

<h3 id="Map-Filter-Reduce"><a href="#Map-Filter-Reduce" class="headerlink" title="Map, Filter, Reduce"></a>Map, Filter, Reduce</h3><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> reduce</span><br><span class="line">&lt;iter&gt; = map(lambda x: x + <span class="number">1</span>, range(<span class="number">10</span>))            # (<span class="number">1</span>, <span class="number">2</span>, ..., <span class="number">10</span>)</span><br><span class="line">&lt;iter&gt; = filter(lambda x: x &gt; <span class="number">5</span>, range(<span class="number">10</span>))         # (<span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>)</span><br><span class="line">&lt;obj&gt;  = reduce(lambda <span class="keyword">out</span>, x: <span class="keyword">out</span> + x, range(<span class="number">10</span>))  # <span class="number">45</span></span><br></pre></td></tr></table></figure>

<h3 id="Any-All"><a href="#Any-All" class="headerlink" title="Any, All"></a>Any, All</h3><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">&lt;bool&gt;</span> = any(<span class="symbol">&lt;collection&gt;</span>)                          # False <span class="keyword">if</span> <span class="built_in">empty</span>.</span><br><span class="line"><span class="symbol">&lt;bool&gt;</span> = <span class="keyword">all</span>(<span class="keyword">el</span>[<span class="number">1</span>] <span class="keyword">for</span> <span class="keyword">el</span> in <span class="symbol">&lt;collection&gt;</span>)          # True <span class="keyword">if</span> <span class="built_in">empty</span>.</span><br></pre></td></tr></table></figure>

<h3 id="If-Else"><a href="#If-Else" class="headerlink" title="If - Else"></a>If - Else</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;expression_if_true&gt; <span class="keyword">if</span> &lt;condition&gt; <span class="keyword">else</span> &lt;expression_if_false&gt;</span><br><span class="line">&gt;&gt;&gt; [<span class="selector-tag">a</span> <span class="keyword">if</span> <span class="selector-tag">a</span> <span class="keyword">else</span> <span class="string">'zero'</span> <span class="keyword">for</span> <span class="selector-tag">a</span> <span class="keyword">in</span> (<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">3</span>)]</span><br><span class="line">[<span class="string">'zero'</span>, <span class="number">1</span>, <span class="string">'zero'</span>, <span class="number">3</span>]</span><br></pre></td></tr></table></figure>

<h3 id="Namedtuple-Enum-Dataclass"><a href="#Namedtuple-Enum-Dataclass" class="headerlink" title="Namedtuple, Enum, Dataclass"></a>Namedtuple, Enum, Dataclass</h3><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> namedtuple</span><br><span class="line"><span class="type">Point</span>     = namedtuple(<span class="string">'Point'</span>, <span class="string">'x y'</span>)</span><br><span class="line"><span class="type">point</span>     = <span class="type">Point</span>(<span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line"><span class="keyword">from</span> enum <span class="keyword">import</span> Enum</span><br><span class="line">Direction = Enum(<span class="string">'Direction'</span>, <span class="string">'n e s w'</span>)</span><br><span class="line">direction = Direction.n</span><br><span class="line"><span class="keyword">from</span> dataclasses <span class="keyword">import</span> make_dataclass</span><br><span class="line">Creature  = make_dataclass(<span class="string">'Creature'</span>, [<span class="string">'location'</span>, <span class="string">'direction'</span>])</span><br><span class="line">creature  = Creature(<span class="type">Point</span>(<span class="number">0</span>, <span class="number">0</span>), Direction.n)</span><br></pre></td></tr></table></figure>

<h2 id="Closure"><a href="#Closure" class="headerlink" title="Closure"></a>Closure</h2><p><strong>We have a closure in Python when:</strong></p>
<ul>
<li><strong>A nested function references a value of its enclosing function and then</strong></li>
<li><strong>the enclosing function returns the nested function.</strong></li>
</ul>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_multiplier</span><span class="params">(a)</span></span><span class="symbol">:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">out</span><span class="params">(b)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="keyword">return</span> a * b</span><br><span class="line">    <span class="keyword">return</span> out</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; multiply_by_3 = get_multiplier(<span class="number">3</span>)</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; multiply_by_3(<span class="number">10</span>)</span><br><span class="line"><span class="number">30</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>If multiple nested functions within enclosing function reference the same value, that value gets shared.</strong></li>
<li><strong>To dynamically access function’s first free variable use ‘<function>.<strong>closure</strong>[0].cell_contents’.</function></strong></li>
</ul>
<h3 id="Partial"><a href="#Partial" class="headerlink" title="Partial"></a>Partial</h3><figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools import <span class="keyword">partial</span></span><br><span class="line">&lt;<span class="keyword">function</span>&gt; = <span class="keyword">partial</span>(&lt;<span class="keyword">function</span>&gt; [, &lt;arg_1&gt;, &lt;arg_2&gt;, ...])</span><br><span class="line">&gt;&gt;&gt; import <span class="keyword">operator</span> <span class="keyword">as</span> op</span><br><span class="line">&gt;&gt;&gt; multiply_by_3 = <span class="keyword">partial</span>(op.mul, <span class="number">3</span>)</span><br><span class="line">&gt;&gt;&gt; multiply_by_3(<span class="number">10</span>)</span><br><span class="line"><span class="number">30</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Partial is also useful in cases when a function needs to be passed as an argument, because it enables us to set its arguments beforehand.</strong></li>
<li><strong>A few examples being ‘defaultdict(<function>)’, ‘iter(<function>, to_exclusive)’ and dataclass’s ‘field(default_factory=<function>)’.</function></function></function></strong></li>
</ul>
<h3 id="Nonlocal"><a href="#Nonlocal" class="headerlink" title="Nonlocal"></a>Nonlocal</h3><p><strong>If variable is being assigned to anywhere in the scope, it is regarded as a local variable, unless it is declared as a ‘global’ or a ‘nonlocal’.</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_counter</span><span class="params">()</span>:</span></span><br><span class="line">    i = <span class="number">0</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">out</span><span class="params">()</span>:</span></span><br><span class="line">        <span class="keyword">nonlocal</span> i</span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> i</span><br><span class="line">    <span class="keyword">return</span> out</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>counter = get_counter()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>counter(), counter(), counter()</span><br><span class="line">(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br></pre></td></tr></table></figure>

<h2 id="Decorator"><a href="#Decorator" class="headerlink" title="Decorator"></a>Decorator</h2><p><strong>A decorator takes a function, adds some functionality and returns it.</strong></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">@decorator_name</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">function_that_gets_passed_to_decorator</span><span class="params">()</span></span><span class="symbol">:</span></span><br><span class="line">    ...</span><br></pre></td></tr></table></figure>

<h3 id="Debugger-Example"><a href="#Debugger-Example" class="headerlink" title="Debugger Example"></a>Debugger Example</h3><p><strong>Decorator that prints function’s name every time it gets called.</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> wraps</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">debug</span><span class="params">(func)</span>:</span></span><br><span class="line"><span class="meta">    @wraps(func)</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">out</span><span class="params">(*args, **kwargs)</span>:</span></span><br><span class="line">        print(func.__name__)</span><br><span class="line">        <span class="keyword">return</span> func(*args, **kwargs)</span><br><span class="line">    <span class="keyword">return</span> out</span><br><span class="line"></span><br><span class="line"><span class="meta">@debug</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span><span class="params">(x, y)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> x + y</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Wraps is a helper decorator that copies the metadata of a passed function (func) to the function it is wrapping (out).</strong></li>
<li><strong>Without it ‘add.<strong>name</strong>‘ would return ‘out’.</strong></li>
</ul>
<h3 id="LRU-Cache"><a href="#LRU-Cache" class="headerlink" title="LRU Cache"></a>LRU Cache</h3><p><strong>Decorator that caches function’s return values. All function’s arguments must be hashable.</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> lru_cache</span><br><span class="line"></span><br><span class="line"><span class="meta">@lru_cache(maxsize=None)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fib</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> n <span class="keyword">if</span> n &lt; <span class="number">2</span> <span class="keyword">else</span> fib(n<span class="number">-2</span>) + fib(n<span class="number">-1</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Recursion depth is limited to 1000 by default. To increase it use ‘sys.setrecursionlimit(<depth>)’.</depth></strong></li>
</ul>
<h3 id="Parametrized-Decorator"><a href="#Parametrized-Decorator" class="headerlink" title="Parametrized Decorator"></a>Parametrized Decorator</h3><p><strong>A decorator that accepts arguments and returns a normal decorator that accepts a function.</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> wraps</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">debug</span><span class="params">(print_result=False)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">decorator</span><span class="params">(func)</span>:</span></span><br><span class="line"><span class="meta">        @wraps(func)</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">out</span><span class="params">(*args, **kwargs)</span>:</span></span><br><span class="line">            result = func(*args, **kwargs)</span><br><span class="line">            print(func.__name__, result <span class="keyword">if</span> print_result <span class="keyword">else</span> <span class="string">''</span>)</span><br><span class="line">            <span class="keyword">return</span> result</span><br><span class="line">        <span class="keyword">return</span> out</span><br><span class="line">    <span class="keyword">return</span> decorator</span><br><span class="line"></span><br><span class="line"><span class="meta">@debug(print_result=True)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span><span class="params">(x, y)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> x + y</span><br></pre></td></tr></table></figure>

<h2 id="Class"><a href="#Class" class="headerlink" title="Class"></a>Class</h2><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> &lt;name&gt;:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(<span class="keyword">self</span>, a)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="keyword">self</span>.a = a</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__repr__</span><span class="params">(<span class="keyword">self</span>)</span></span><span class="symbol">:</span></span><br><span class="line">        class_name = <span class="keyword">self</span>.__class_<span class="number">_</span>.__name_<span class="number">_</span></span><br><span class="line">        <span class="keyword">return</span> f<span class="string">'&#123;class_name&#125;(&#123;self.a!r&#125;)'</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(<span class="keyword">self</span>)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="keyword">return</span> str(<span class="keyword">self</span>.a)</span><br><span class="line"></span><br><span class="line">    @classmethod</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_class_name</span><span class="params">(cls)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="keyword">return</span> cls.__name_<span class="number">_</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Return value of repr() should be unambiguous and of str() readable.</strong></li>
<li><strong>If only repr() is defined, it will also be used for str().</strong></li>
</ul>
<h4 id="Str-use-cases"><a href="#Str-use-cases" class="headerlink" title="Str() use cases:"></a>Str() use cases:</h4><figure class="highlight fsharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">print(&lt;el&gt;)</span><br><span class="line">print(f'&#123;&lt;el&gt;&#125;')</span><br><span class="line">raise Exception(&lt;el&gt;)</span><br><span class="line">loguru.logger.debug(&lt;el&gt;)</span><br><span class="line">csv.writer(&lt;file&gt;).writerow(<span class="meta">[&lt;el&gt;]</span>)</span><br></pre></td></tr></table></figure>

<h4 id="Repr-use-cases"><a href="#Repr-use-cases" class="headerlink" title="Repr() use cases:"></a>Repr() use cases:</h4><figure class="highlight fsharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="meta">[&lt;el&gt;]</span>)</span><br><span class="line">print(f'&#123;&lt;el&gt;!r&#125;')</span><br><span class="line">&gt;&gt;&gt; &lt;el&gt;</span><br><span class="line">loguru.logger.<span class="keyword">exception</span>()</span><br><span class="line">Z = dataclasses.make_dataclass(<span class="symbol">'Z</span>', [<span class="symbol">'a</span>']); print(Z(&lt;el&gt;))</span><br></pre></td></tr></table></figure>

<h3 id="Constructor-Overloading"><a href="#Constructor-Overloading" class="headerlink" title="Constructor Overloading"></a>Constructor Overloading</h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> &lt;name&gt;:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(<span class="keyword">self</span>, a=None)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="keyword">self</span>.a = a</span><br></pre></td></tr></table></figure>

<h3 id="Inheritance"><a href="#Inheritance" class="headerlink" title="Inheritance"></a>Inheritance</h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(<span class="keyword">self</span>, name, age)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="keyword">self</span>.name = name</span><br><span class="line">        <span class="keyword">self</span>.age  = age</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Employee</span>(<span class="title">Person</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(<span class="keyword">self</span>, name, age, staff_num)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="keyword">super</span>().__init_<span class="number">_</span>(name, age)</span><br><span class="line">        <span class="keyword">self</span>.staff_num = staff_num</span><br></pre></td></tr></table></figure>

<h3 id="Multiple-Inheritance"><a href="#Multiple-Inheritance" class="headerlink" title="Multiple Inheritance"></a>Multiple Inheritance</h3><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="symbol">A: <span class="symbol">pass</span></span></span><br><span class="line"><span class="symbol">class</span> <span class="symbol">B: <span class="symbol">pass</span></span></span><br><span class="line"><span class="symbol">class</span> <span class="symbol">C</span>(<span class="symbol">A, <span class="symbol">B</span></span>): <span class="symbol">pass</span></span><br></pre></td></tr></table></figure>

<p><strong>MRO determines the order in which parent classes are traversed when searching for a method:</strong></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;</span>&gt; C.mro()</span><br><span class="line">[&lt;<span class="class"><span class="keyword">class</span> '<span class="title">C</span>'&gt;, &lt;class '<span class="title">A</span>'&gt;, &lt;class '<span class="title">B</span>'&gt;, &lt;class '<span class="title">object</span>'&gt;]</span></span><br></pre></td></tr></table></figure>

<h3 id="Property"><a href="#Property" class="headerlink" title="Property"></a>Property</h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span>:</span></span><br><span class="line">    @property</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">a</span><span class="params">(<span class="keyword">self</span>)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">self</span>._a</span><br><span class="line"></span><br><span class="line">    @a.setter</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">a</span><span class="params">(<span class="keyword">self</span>, value)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="keyword">self</span>._a = value</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; el = MyClass()</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; el.a = <span class="number">123</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; el.a</span><br><span class="line"><span class="number">123</span></span><br></pre></td></tr></table></figure>

<h3 id="Dataclass"><a href="#Dataclass" class="headerlink" title="Dataclass"></a>Dataclass</h3><p><strong>Decorator that automatically generates init(), repr() and eq() special methods.</strong></p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> dataclasses <span class="keyword">import</span> dataclass, field</span><br><span class="line"></span><br><span class="line">@dataclass(order=False, frozen=False)</span><br><span class="line"><span class="keyword">class</span> &lt;<span class="symbol">class_name</span>&gt;:</span><br><span class="line">    &lt;<span class="symbol">attr_name_1</span>&gt;: &lt;<span class="symbol">type</span>&gt;</span><br><span class="line">    &lt;<span class="symbol">attr_name_2</span>&gt;: &lt;<span class="symbol">type</span>&gt; = &lt;<span class="symbol">default_value</span>&gt;</span><br><span class="line">    &lt;<span class="symbol">attr_name_3</span>&gt;: <span class="symbol">list</span>/<span class="symbol">dict</span>/<span class="symbol">set</span> = <span class="symbol">field</span>(<span class="symbol">default_factory</span>=<span class="symbol">list</span>/<span class="symbol">dict</span>/<span class="symbol">set</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Objects can be made sortable with ‘order=True’ and/or immutable and hashable with ‘frozen=True’.</strong></li>
<li><strong>Function field() is needed because ‘<attr_name>: list = []’ would make a list that is shared among all instances.</attr_name></strong></li>
<li><strong>Default_factory can be any callable.</strong></li>
</ul>
<h4 id="Inline-1"><a href="#Inline-1" class="headerlink" title="Inline:"></a>Inline:</h4><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> dataclasses <span class="keyword">import</span> make_dataclass</span><br><span class="line">&lt;<span class="keyword">class</span>&gt; = <span class="symbol">make_dataclass</span>('&lt;<span class="symbol">class_name</span>&gt;', &lt;<span class="symbol">coll_of_attribute_names</span>&gt;)</span><br><span class="line">&lt;<span class="symbol">class</span>&gt; = <span class="symbol">make_dataclass</span>('&lt;<span class="symbol">class_name</span>&gt;', &lt;<span class="symbol">coll_of_tuples</span>&gt;)</span><br><span class="line">&lt;<span class="symbol">tuple</span>&gt; = ('&lt;<span class="symbol">attr_name</span>&gt;', &lt;<span class="symbol">type</span>&gt; [, &lt;<span class="symbol">default_value</span>&gt;])</span><br></pre></td></tr></table></figure>

<h3 id="Slots"><a href="#Slots" class="headerlink" title="Slots"></a>Slots</h3><p><strong>Mechanism that restricts objects to attributes listed in ‘slots’ and significantly reduces their memory footprint.</strong></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClassWithSlots</span>:</span></span><br><span class="line">    __slots_<span class="number">_</span> = [<span class="string">'a'</span>]</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(<span class="keyword">self</span>)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="keyword">self</span>.a = <span class="number">1</span></span><br></pre></td></tr></table></figure>

<h3 id="Copy"><a href="#Copy" class="headerlink" title="Copy"></a>Copy</h3><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> <span class="keyword">copy</span> <span class="keyword">import</span> <span class="keyword">copy</span>, deepcopy</span><br><span class="line">&lt;<span class="keyword">object</span>&gt; = <span class="keyword">copy</span>(&lt;<span class="keyword">object</span>&gt;)</span><br><span class="line">&lt;<span class="keyword">object</span>&gt; = deepcopy(&lt;<span class="keyword">object</span>&gt;)</span><br></pre></td></tr></table></figure>

<h2 id="Duck-Types"><a href="#Duck-Types" class="headerlink" title="Duck Types"></a>Duck Types</h2><p><strong>A duck type is an implicit type that prescribes a set of special methods. Any object that has those methods defined is considered a member of that duck type.</strong></p>
<h3 id="Comparable"><a href="#Comparable" class="headerlink" title="Comparable"></a>Comparable</h3><ul>
<li><strong>If eq() method is not overridden, it returns ‘id(self) == id(other)’, which is the same as ‘self is other’.</strong></li>
<li><strong>That means all objects compare not equal by default.</strong></li>
<li><strong>Only the left side object has eq() method called, unless it returns NotImplemented, in which case the right object is consulted.</strong></li>
</ul>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyComparable</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(<span class="keyword">self</span>, a)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="keyword">self</span>.a = a</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__eq__</span><span class="params">(<span class="keyword">self</span>, other)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="keyword">if</span> isinstance(other, type(<span class="keyword">self</span>))<span class="symbol">:</span></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">self</span>.a == other.a</span><br><span class="line">        <span class="keyword">return</span> NotImplemented</span><br></pre></td></tr></table></figure>

<h3 id="Hashable"><a href="#Hashable" class="headerlink" title="Hashable"></a>Hashable</h3><ul>
<li><strong>Hashable object needs both hash() and eq() methods and its hash value should never change.</strong></li>
<li><strong>Hashable objects that compare equal must have the same hash value, meaning default hash() that returns ‘id(self)’ will not do.</strong></li>
<li><strong>That is why Python automatically makes classes unhashable if you only implement eq().</strong></li>
</ul>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyHashable</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(<span class="keyword">self</span>, a)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="keyword">self</span>._a = copy.deepcopy(a)</span><br><span class="line">    @property</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">a</span><span class="params">(<span class="keyword">self</span>)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">self</span>._a</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__eq__</span><span class="params">(<span class="keyword">self</span>, other)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="keyword">if</span> isinstance(other, type(<span class="keyword">self</span>))<span class="symbol">:</span></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">self</span>.a == other.a</span><br><span class="line">        <span class="keyword">return</span> NotImplemented</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__hash__</span><span class="params">(<span class="keyword">self</span>)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="keyword">return</span> hash(<span class="keyword">self</span>.a)</span><br></pre></td></tr></table></figure>

<h3 id="Sortable"><a href="#Sortable" class="headerlink" title="Sortable"></a>Sortable</h3><ul>
<li><strong>With total_ordering decorator you only need to provide eq() and one of lt(), gt(), le() or ge() special methods.</strong></li>
</ul>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">from functools import total_ordering</span><br><span class="line"></span><br><span class="line">@total_ordering</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MySortable</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(<span class="keyword">self</span>, a)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="keyword">self</span>.a = a</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__eq__</span><span class="params">(<span class="keyword">self</span>, other)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="keyword">if</span> isinstance(other, type(<span class="keyword">self</span>))<span class="symbol">:</span></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">self</span>.a == other.a</span><br><span class="line">        <span class="keyword">return</span> NotImplemented</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__lt__</span><span class="params">(<span class="keyword">self</span>, other)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="keyword">if</span> isinstance(other, type(<span class="keyword">self</span>))<span class="symbol">:</span></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">self</span>.a &lt; other.a</span><br><span class="line">        <span class="keyword">return</span> NotImplemented</span><br></pre></td></tr></table></figure>

<h3 id="Iterator-1"><a href="#Iterator-1" class="headerlink" title="Iterator"></a>Iterator</h3><ul>
<li><strong>Any object that defines methods next() and iter() is an iterator.</strong></li>
<li><strong>Next() should return next item or raise StopIteration.</strong></li>
<li><strong>Iter() should return ‘self’.</strong></li>
</ul>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Counter</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(<span class="keyword">self</span>)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="keyword">self</span>.i = <span class="number">0</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__next__</span><span class="params">(<span class="keyword">self</span>)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="keyword">self</span>.i += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">self</span>.i</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__iter__</span><span class="params">(<span class="keyword">self</span>)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">self</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; counter = Counter()</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; next(counter), next(counter), next(counter)</span><br><span class="line">(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br></pre></td></tr></table></figure>

<h4 id="Python-has-many-different-iterator-objects"><a href="#Python-has-many-different-iterator-objects" class="headerlink" title="Python has many different iterator objects:"></a>Python has many different iterator objects:</h4><ul>
<li><strong>Iterators returned by the iter() function, such as list_iterator and set_iterator.</strong></li>
<li><strong>Objects returned by the itertools module, such as count, repeat and cycle.</strong></li>
<li><strong>Generators returned by the generator functions and generator expressions.</strong></li>
<li><strong>All file objects, etc.</strong></li>
</ul>
<h3 id="Callable"><a href="#Callable" class="headerlink" title="Callable"></a>Callable</h3><ul>
<li><strong>All functions and classes have a call() method, hence are callable.</strong></li>
<li><strong>When this cheatsheet uses ‘<function>‘ for an argument, it actually means ‘<callable>‘.</callable></function></strong></li>
</ul>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Counter</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(<span class="keyword">self</span>)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="keyword">self</span>.i = <span class="number">0</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__call__</span><span class="params">(<span class="keyword">self</span>)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="keyword">self</span>.i += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">self</span>.i</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; counter = Counter()</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; counter(), counter(), counter()</span><br><span class="line">(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br></pre></td></tr></table></figure>

<h3 id="Context-Manager"><a href="#Context-Manager" class="headerlink" title="Context Manager"></a>Context Manager</h3><ul>
<li><strong>Enter() should lock the resources and return an object.</strong></li>
<li><strong>Exit() should release the resources.</strong></li>
</ul>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyOpen</span>():</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(<span class="keyword">self</span>, filename)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="keyword">self</span>.filename = filename</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__enter__</span><span class="params">(<span class="keyword">self</span>)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="keyword">self</span>.file = open(<span class="keyword">self</span>.filename)</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">self</span>.file</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__exit__</span><span class="params">(<span class="keyword">self</span>, *args)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="keyword">self</span>.file.close()</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; with open(<span class="string">'test.txt'</span>, <span class="string">'w'</span>) as <span class="symbol">file:</span></span><br><span class="line">...     file.write(<span class="string">'Hello World!'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; with MyOpen(<span class="string">'test.txt'</span>) as <span class="symbol">file:</span></span><br><span class="line">...     print(file.read())</span><br><span class="line">Hello World!</span><br></pre></td></tr></table></figure>

<h2 id="Iterable-Duck-Types"><a href="#Iterable-Duck-Types" class="headerlink" title="Iterable Duck Types"></a>Iterable Duck Types</h2><h3 id="Iterable"><a href="#Iterable" class="headerlink" title="Iterable"></a>Iterable</h3><ul>
<li><strong>Only required method is iter(). It should return an iterator of object’s items.</strong></li>
<li><strong>Contains() automatically works on any object that has iter() defined.</strong></li>
</ul>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyIterable</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(<span class="keyword">self</span>, a)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="keyword">self</span>.a = a</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__iter__</span><span class="params">(<span class="keyword">self</span>)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="keyword">for</span> el <span class="keyword">in</span> <span class="keyword">self</span>.<span class="symbol">a:</span></span><br><span class="line">            <span class="keyword">yield</span> el</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; z = MyIterable([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; iter(z)</span><br><span class="line">&lt;generator object MyIterable.__iter_<span class="number">_</span>&gt;</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; <span class="number">1</span> in z</span><br><span class="line">True</span><br></pre></td></tr></table></figure>

<h3 id="Collection"><a href="#Collection" class="headerlink" title="Collection"></a>Collection</h3><ul>
<li><strong>Only required methods are iter() and len().</strong></li>
<li><strong>This cheatsheet actually means ‘<iterable>‘ when it uses ‘<collection>‘.</collection></iterable></strong></li>
<li><strong>I chose not to use the name ‘iterable’ because it sounds scarier and more vague than ‘collection’.</strong></li>
</ul>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyCollection</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(<span class="keyword">self</span>, a)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="keyword">self</span>.a = a</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__iter__</span><span class="params">(<span class="keyword">self</span>)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="keyword">return</span> iter(<span class="keyword">self</span>.a)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__contains__</span><span class="params">(<span class="keyword">self</span>, el)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="keyword">return</span> el <span class="keyword">in</span> <span class="keyword">self</span>.a</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__len__</span><span class="params">(<span class="keyword">self</span>)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="keyword">return</span> len(<span class="keyword">self</span>.a)</span><br></pre></td></tr></table></figure>

<h3 id="Sequence"><a href="#Sequence" class="headerlink" title="Sequence"></a>Sequence</h3><ul>
<li><strong>Only required methods are len() and getitem().</strong></li>
<li><strong>Getitem() should return an item at index or raise IndexError.</strong></li>
<li><strong>Iter() and contains() automatically work on any object that has getitem() defined.</strong></li>
<li><strong>Reversed() automatically works on any object that has getitem() and len() defined.</strong></li>
</ul>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MySequence</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(<span class="keyword">self</span>, a)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="keyword">self</span>.a = a</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__iter__</span><span class="params">(<span class="keyword">self</span>)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="keyword">return</span> iter(<span class="keyword">self</span>.a)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__contains__</span><span class="params">(<span class="keyword">self</span>, el)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="keyword">return</span> el <span class="keyword">in</span> <span class="keyword">self</span>.a</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__len__</span><span class="params">(<span class="keyword">self</span>)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="keyword">return</span> len(<span class="keyword">self</span>.a)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__getitem__</span><span class="params">(<span class="keyword">self</span>, i)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">self</span>.a[i]</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__reversed__</span><span class="params">(<span class="keyword">self</span>)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="keyword">return</span> reversed(<span class="keyword">self</span>.a)</span><br></pre></td></tr></table></figure>

<h3 id="Collections-abc-Sequence"><a href="#Collections-abc-Sequence" class="headerlink" title="Collections.abc.Sequence"></a>Collections.abc.Sequence</h3><ul>
<li><strong>It’s a richer interface than the basic sequence.</strong></li>
<li><strong>Extending it generates iter(), contains(), reversed(), index(), and count().</strong></li>
<li><strong>Unlike ‘abc.Iterable’ and ‘abc.Collection’, it is not a duck type. That is why ‘issubclass(MySequence, collections.abc.Sequence)’ would return False even if MySequence had all the methods defined.</strong></li>
</ul>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyAbcSequence</span>(<span class="title">collections</span>.<span class="title">abc</span>.<span class="title">Sequence</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(<span class="keyword">self</span>, a)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="keyword">self</span>.a = a</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__len__</span><span class="params">(<span class="keyword">self</span>)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="keyword">return</span> len(<span class="keyword">self</span>.a)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__getitem__</span><span class="params">(<span class="keyword">self</span>, i)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">self</span>.a[i]</span><br></pre></td></tr></table></figure>

<h4 id="Table-of-required-and-available-special-methods"><a href="#Table-of-required-and-available-special-methods" class="headerlink" title="Table of required and available special methods:"></a>Table of required and available special methods:</h4><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">+------------+----------+------------+----------+--------------+</span><br><span class="line">|<span class="string">            </span>|<span class="string"> Iterable </span>|<span class="string"> Collection </span>|<span class="string"> Sequence </span>|<span class="string"> abc.Sequence </span>|</span><br><span class="line">+------------+----------+------------+----------+--------------+</span><br><span class="line">|<span class="string"> iter()     </span>|<span class="string">   REQ    </span>|<span class="string">    REQ     </span>|<span class="string">   yes    </span>|<span class="string">     yes      </span>|</span><br><span class="line">|<span class="string"> contains() </span>|<span class="string">   yes    </span>|<span class="string">    yes     </span>|<span class="string">   yes    </span>|<span class="string">     yes      </span>|</span><br><span class="line">|<span class="string"> len()      </span>|<span class="string">          </span>|<span class="string">    REQ     </span>|<span class="string">   REQ    </span>|<span class="string">     REQ      </span>|</span><br><span class="line">|<span class="string"> getitem()  </span>|<span class="string">          </span>|<span class="string">            </span>|<span class="string">   REQ    </span>|<span class="string">     REQ      </span>|</span><br><span class="line">|<span class="string"> reversed() </span>|<span class="string">          </span>|<span class="string">            </span>|<span class="string">   yes    </span>|<span class="string">     yes      </span>|</span><br><span class="line">|<span class="string"> index()    </span>|<span class="string">          </span>|<span class="string">            </span>|<span class="string">          </span>|<span class="string">     yes      </span>|</span><br><span class="line">|<span class="string"> count()    </span>|<span class="string">          </span>|<span class="string">            </span>|<span class="string">          </span>|<span class="string">     yes      </span>|</span><br><span class="line">+------------+----------+------------+----------+--------------+</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Other ABCs that generate missing methods are: MutableSequence, Set, MutableSet, Mapping and MutableMapping.</strong></li>
<li><strong>Names of their required methods are stored in ‘<abc>.<strong>abstractmethods</strong>‘.</abc></strong></li>
</ul>
<h2 id="Enum"><a href="#Enum" class="headerlink" title="Enum"></a>Enum</h2><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">from <span class="class"><span class="keyword">enum</span> <span class="title">import</span> <span class="title">Enum</span>, <span class="title">auto</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> &lt;<span class="title">enum_name</span>&gt;(<span class="title">Enum</span>):</span></span><br><span class="line">    &lt;member_name_1&gt; = &lt;value_1&gt;</span><br><span class="line">    &lt;member_name_2&gt; = &lt;value_2_a&gt;, &lt;value_2_b&gt;</span><br><span class="line">    &lt;member_name_3&gt; = auto()</span><br><span class="line"></span><br><span class="line">    @classmethod</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_member_names</span></span>(cls):</span><br><span class="line">        <span class="keyword">return</span> [a.name <span class="keyword">for</span> a in cls.__members__.values()]</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>If there are no numeric values before auto(), it returns 1.</strong></li>
<li><strong>Otherwise it returns an increment of last numeric value.</strong></li>
</ul>
<figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;member&gt; = &lt;<span class="class"><span class="keyword">enum</span>&gt;.&lt;<span class="title">member_name</span>&gt;                <span class="comment"># Returns a member.</span></span></span><br><span class="line">&lt;member&gt; = &lt;<span class="class"><span class="keyword">enum</span>&gt;['&lt;<span class="title">member_name</span>&gt;']             <span class="comment"># Returns a member or raises KeyError.</span></span></span><br><span class="line">&lt;member&gt; = &lt;<span class="class"><span class="keyword">enum</span>&gt;(&lt;<span class="title">value</span>&gt;)                     <span class="comment"># Returns a member or raises ValueError.</span></span></span><br><span class="line">name     = &lt;member&gt;.name</span><br><span class="line">value    = &lt;member&gt;.value</span><br><span class="line">list_of_members = list(&lt;<span class="class"><span class="keyword">enum</span>&gt;)</span></span><br><span class="line">member_names    = [a.name <span class="keyword">for</span> a in &lt;<span class="class"><span class="keyword">enum</span>&gt;]</span></span><br><span class="line">member_values   = [a.value <span class="keyword">for</span> a in &lt;<span class="class"><span class="keyword">enum</span>&gt;]</span></span><br><span class="line">random_member   = random.choice(list(&lt;<span class="class"><span class="keyword">enum</span>&gt;))</span></span><br></pre></td></tr></table></figure>

<h3 id="Inline-2"><a href="#Inline-2" class="headerlink" title="Inline"></a>Inline</h3><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">Cutlery</span> = Enum(<span class="string">'Cutlery'</span>, [<span class="string">'fork'</span>, <span class="string">'knife'</span>, <span class="string">'spoon'</span>])</span><br><span class="line"><span class="attr">Cutlery</span> = Enum(<span class="string">'Cutlery'</span>, <span class="string">'fork knife spoon'</span>)</span><br><span class="line"><span class="attr">Cutlery</span> = Enum(<span class="string">'Cutlery'</span>, &#123;<span class="string">'fork'</span>: <span class="number">1</span>, <span class="string">'knife'</span>: <span class="number">2</span>, <span class="string">'spoon'</span>: <span class="number">3</span>&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="Functions-can-not-be-values-so-they-must-be-wrapped"><a href="#Functions-can-not-be-values-so-they-must-be-wrapped" class="headerlink" title="Functions can not be values, so they must be wrapped:"></a>Functions can not be values, so they must be wrapped:</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> partial</span><br><span class="line">LogicOp = Enum(<span class="string">'LogicOp'</span>, &#123;<span class="string">'AND'</span>: partial(<span class="keyword">lambda</span> l, r: l <span class="keyword">and</span> r),</span><br><span class="line">                           <span class="string">'OR'</span> : partial(<span class="keyword">lambda</span> l, r: l <span class="keyword">or</span> r)&#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Another solution in this particular case, is to use ‘and_’ and ‘or_’ functions from module operator.</strong></li>
</ul>
<h2 id="Exceptions"><a href="#Exceptions" class="headerlink" title="Exceptions"></a>Exceptions</h2><h3 id="Basic-Example"><a href="#Basic-Example" class="headerlink" title="Basic Example"></a>Basic Example</h3><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">try:</span></span><br><span class="line">    <span class="params">&lt;code&gt;</span></span><br><span class="line">except <span class="params">&lt;exception&gt;</span>:</span><br><span class="line">    <span class="params">&lt;code&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="Complex-Example"><a href="#Complex-Example" class="headerlink" title="Complex Example"></a>Complex Example</h3><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">try:</span></span><br><span class="line">    <span class="params">&lt;code_1&gt;</span></span><br><span class="line">except <span class="params">&lt;exception_a&gt;</span>:</span><br><span class="line">    <span class="params">&lt;code_2_a&gt;</span></span><br><span class="line">except <span class="params">&lt;exception_b&gt;</span>:</span><br><span class="line">    <span class="params">&lt;code_2_b&gt;</span></span><br><span class="line"><span class="symbol">else:</span></span><br><span class="line">    <span class="params">&lt;code_2_c&gt;</span></span><br><span class="line"><span class="symbol">finally:</span></span><br><span class="line">    <span class="params">&lt;code_3&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="Catching-Exceptions"><a href="#Catching-Exceptions" class="headerlink" title="Catching Exceptions"></a>Catching Exceptions</h3><figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">except</span> &lt;exception&gt;:</span><br><span class="line"><span class="keyword">except</span> &lt;exception&gt; <span class="keyword">as</span> &lt;<span class="keyword">name</span>&gt;:</span><br><span class="line"><span class="keyword">except</span> (&lt;exception&gt;, ...):</span><br><span class="line"><span class="keyword">except</span> (&lt;exception&gt;, ...) <span class="keyword">as</span> &lt;<span class="keyword">name</span>&gt;:</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Also catches subclasses of the exception.</strong></li>
</ul>
<h3 id="Raising-Exceptions"><a href="#Raising-Exceptions" class="headerlink" title="Raising Exceptions"></a>Raising Exceptions</h3><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">raise</span> &lt;<span class="keyword">exception</span>&gt;</span><br><span class="line"><span class="keyword">raise</span> &lt;<span class="keyword">exception</span>&gt;()</span><br><span class="line"><span class="keyword">raise</span> &lt;<span class="keyword">exception</span>&gt;(&lt;el&gt;)</span><br><span class="line"><span class="keyword">raise</span> &lt;<span class="keyword">exception</span>&gt;(&lt;el&gt;, ...)</span><br></pre></td></tr></table></figure>

<h4 id="Useful-built-in-exceptions"><a href="#Useful-built-in-exceptions" class="headerlink" title="Useful built-in exceptions:"></a>Useful built-in exceptions:</h4><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">raise <span class="constructor">ValueError('Argument <span class="params">is</span> <span class="params">of</span> <span class="params">right</span> <span class="params">type</span> <span class="params">but</span> <span class="params">inappropriate</span> <span class="params">value</span>!')</span></span><br><span class="line">raise <span class="constructor">TypeError('Argument <span class="params">is</span> <span class="params">of</span> <span class="params">wrong</span> <span class="params">type</span>!')</span></span><br><span class="line">raise <span class="constructor">RuntimeError('None <span class="params">of</span> <span class="params">above</span>!')</span></span><br></pre></td></tr></table></figure>

<h4 id="Re-raising-caught-exception"><a href="#Re-raising-caught-exception" class="headerlink" title="Re-raising caught exception:"></a>Re-raising caught exception:</h4><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">except</span> &lt;<span class="keyword">exception</span>&gt;:</span><br><span class="line">    &lt;code&gt;</span><br><span class="line">    <span class="keyword">raise</span></span><br></pre></td></tr></table></figure>

<h3 id="Common-Built-in-Exceptions"><a href="#Common-Built-in-Exceptions" class="headerlink" title="Common Built-in Exceptions"></a>Common Built-in Exceptions</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">BaseException</span><br><span class="line"> +-- SystemExit                   # Raised by the sys.exit() function.</span><br><span class="line"> +-- KeyboardInterrupt            # Raised when the user hits the interrupt key.</span><br><span class="line"> +-- Exception                    # User-defined exceptions should be derived from this class.</span><br><span class="line">      +-- StopIteration           # Raised by next() when run on an empty iterator.</span><br><span class="line">      +-- ArithmeticError         # Base class for arithmetic errors.</span><br><span class="line">      |    +-- ZeroDivisionError  # Raised when dividing by zero.</span><br><span class="line">      +-- AttributeError          # Raised when an attribute is missing.</span><br><span class="line">      +-- EOFError                # Raised by input() when it hits end-of-file condition.</span><br><span class="line">      +-- LookupError             # Raised when a look-up on a sequence or dict fails.</span><br><span class="line">      |    +-- IndexError         # Raised when a sequence index is out of range.</span><br><span class="line">      |    +-- KeyError           # Raised when a dictionary key is not found.</span><br><span class="line">      +-- NameError               # Raised when a variable name is not found.</span><br><span class="line">      +-- OSError                 # Failures such as “file not found” or “disk full”.</span><br><span class="line">      |    +-- FileNotFoundError  # When a file or directory is requested but doesn't exist.</span><br><span class="line">      +-- RuntimeError            # Raised by errors that don't fall in other categories.</span><br><span class="line">      |    +-- RecursionError     # Raised when the the maximum recursion depth is exceeded.</span><br><span class="line">      +-- TypeError               # Raised when an argument is of wrong type.</span><br><span class="line">      +-- ValueError              # When an argument is of right type but inappropriate value.</span><br><span class="line">           +-- UnicodeError       # Raised when encoding/decoding strings from/to bytes fails.</span><br></pre></td></tr></table></figure>

<h4 id="Collections-and-their-exceptions"><a href="#Collections-and-their-exceptions" class="headerlink" title="Collections and their exceptions:"></a>Collections and their exceptions:</h4><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">+-----------+------------+----------+----------+</span><br><span class="line">|<span class="string">           </span>|<span class="string">    list    </span>|<span class="string">   dict   </span>|<span class="string">   set    </span>|</span><br><span class="line">+-----------+------------+----------+----------+</span><br><span class="line">|<span class="string"> getitem() </span>|<span class="string"> IndexError </span>|<span class="string"> KeyError </span>|<span class="string">          </span>|</span><br><span class="line">|<span class="string"> pop()     </span>|<span class="string"> IndexError </span>|<span class="string"> KeyError </span>|<span class="string"> KeyError </span>|</span><br><span class="line">|<span class="string"> remove()  </span>|<span class="string"> ValueError </span>|<span class="string">          </span>|<span class="string"> KeyError </span>|</span><br><span class="line">|<span class="string"> index()   </span>|<span class="string"> ValueError </span>|<span class="string">          </span>|<span class="string">          </span>|</span><br><span class="line">+-----------+------------+----------+----------+</span><br></pre></td></tr></table></figure>

<h3 id="User-defined-Exceptions"><a href="#User-defined-Exceptions" class="headerlink" title="User-defined Exceptions"></a>User-defined Exceptions</h3><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="symbol">MyError</span>(<span class="symbol">Exception</span>):</span><br><span class="line">    <span class="symbol">pass</span></span><br><span class="line"></span><br><span class="line"><span class="symbol">class</span> <span class="symbol">MyInputError</span>(<span class="symbol">MyError</span>):</span><br><span class="line">    <span class="symbol">pass</span></span><br></pre></td></tr></table></figure>

<h2 id="Print"><a href="#Print" class="headerlink" title="Print"></a>Print</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="builtin-name">print</span>(&lt;el_1&gt;, <span class="built_in">..</span>., <span class="attribute">sep</span>=<span class="string">' '</span>, <span class="attribute">end</span>=<span class="string">'\n'</span>, <span class="attribute">file</span>=sys.stdout, <span class="attribute">flush</span>=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Use ‘file=sys.stderr’ for errors.</strong></li>
<li><strong>Use ‘flush=True’ to forcibly flush the stream.</strong></li>
</ul>
<h3 id="Pretty-Print"><a href="#Pretty-Print" class="headerlink" title="Pretty Print"></a>Pretty Print</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pprint import pprint</span><br><span class="line">pprint(&lt;collection&gt;, <span class="attribute">width</span>=80, <span class="attribute">depth</span>=None)</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Levels deeper than ‘depth’ get replaced by ‘…’.</strong></li>
</ul>
<h2 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h2><p><strong>Reads a line from user input or pipe if present.</strong></p>
<figure class="highlight hsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="keyword">str</span>&gt; = <span class="keyword">input</span>(prompt=None)</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Trailing newline gets stripped.</strong></li>
<li><strong>Prompt string is printed to the standard output before reading input.</strong></li>
<li><strong>Raises EOFError when user hits EOF or input stream gets exhausted.</strong></li>
</ul>
<h2 id="Command-Line-Arguments"><a href="#Command-Line-Arguments" class="headerlink" title="Command Line Arguments"></a>Command Line Arguments</h2><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import sys</span><br><span class="line">script_name = sys.argv[0]</span><br><span class="line">arguments   = sys.argv[1:]</span><br></pre></td></tr></table></figure>

<h3 id="Argparse"><a href="#Argparse" class="headerlink" title="Argparse"></a>Argparse</h3><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">from argparse import ArgumentParser, FileType</span><br><span class="line">p = <span class="constructor">ArgumentParser(<span class="params">description</span>=&lt;<span class="params">str</span>&gt;)</span></span><br><span class="line">p.add<span class="constructor">_argument('-&lt;<span class="params">short_name</span>&gt;', '--&lt;<span class="params">name</span>&gt;', <span class="params">action</span>='<span class="params">store_true</span>')</span>  # Flag</span><br><span class="line">p.add<span class="constructor">_argument('-&lt;<span class="params">short_name</span>&gt;', '--&lt;<span class="params">name</span>&gt;', <span class="params">type</span>=&lt;<span class="params">type</span>&gt;)</span>          # Option</span><br><span class="line">p.add<span class="constructor">_argument('&lt;<span class="params">name</span>&gt;', <span class="params">type</span>=&lt;<span class="params">type</span>&gt;, <span class="params">nargs</span>=1)</span>                    # First argument</span><br><span class="line">p.add<span class="constructor">_argument('&lt;<span class="params">name</span>&gt;', <span class="params">type</span>=&lt;<span class="params">type</span>&gt;, <span class="params">nargs</span>='+')</span>                  # Remaining arguments</span><br><span class="line">p.add<span class="constructor">_argument('&lt;<span class="params">name</span>&gt;', <span class="params">type</span>=&lt;<span class="params">type</span>&gt;, <span class="params">nargs</span>='<span class="operator">*</span>')</span>                  # Optional arguments</span><br><span class="line">args  = p.parse<span class="constructor">_args()</span>                                            # Exits on error.</span><br><span class="line">value = args.&lt;name&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Use ‘help=<str>‘ to set argument description.</str></strong></li>
<li><strong>Use ‘default=<el>‘ to set the default value.</el></strong></li>
<li><strong>Use ‘type=FileType(<mode>)’ for files.</mode></strong></li>
</ul>
<h2 id="Open"><a href="#Open" class="headerlink" title="Open"></a>Open</h2><p><strong>Opens the file and returns a corresponding file object.</strong></p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;file&gt; = <span class="keyword">open</span>(<span class="string">'&lt;path&gt;'</span>, mode=<span class="string">'r'</span>, encoding=<span class="keyword">None</span>, newline=<span class="keyword">None</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>‘encoding=None’ means default encoding is used, which is platform dependent. Best practice is to use ‘encoding=”utf-8”‘ whenever possible.</strong></li>
<li><strong>‘newline=None’ means all different end of line combinations are converted to ‘\n’ on read, while on write all ‘\n’ characters are converted to system’s default line separator.</strong></li>
<li><strong>‘newline=””‘ means no conversions take place, but input is still broken into chunks by readline() and readlines() on either ‘\n’, ‘\r’ or ‘\r\n’.</strong></li>
</ul>
<h3 id="Modes"><a href="#Modes" class="headerlink" title="Modes"></a>Modes</h3><ul>
<li><strong>‘r’ - Read (default).</strong></li>
<li><strong>‘w’ - Write (truncate).</strong></li>
<li><strong>‘x’ - Write or fail if the file already exists.</strong></li>
<li><strong>‘a’ - Append.</strong></li>
<li><strong>‘w+’ - Read and write (truncate).</strong></li>
<li><strong>‘r+’ - Read and write from the start.</strong></li>
<li><strong>‘a+’ - Read and write from the end.</strong></li>
<li><strong>‘t’ - Text mode (default).</strong></li>
<li><strong>‘b’ - Binary mode.</strong></li>
</ul>
<h3 id="Exceptions-1"><a href="#Exceptions-1" class="headerlink" title="Exceptions"></a>Exceptions</h3><ul>
<li><strong>‘FileNotFoundError’ can be risen when reading with ‘r’ or ‘r+’.</strong></li>
<li><strong>‘FileExistsError’ can be risen when writing with ‘x’.</strong></li>
<li><strong>‘IsADirectoryError’ and ‘PermissionError’ can be risen by any.</strong></li>
<li><strong>‘OSError’ is the parent class of all listed exceptions.</strong></li>
</ul>
<h3 id="File"><a href="#File" class="headerlink" title="File"></a>File</h3><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="built_in">file</span>&gt;.<span class="built_in">seek</span>(<span class="number">0</span>)                      <span class="comment"># Moves to the start of the file.</span></span><br><span class="line">&lt;<span class="built_in">file</span>&gt;.<span class="built_in">seek</span>(<span class="built_in">offset</span>)                 <span class="comment"># Moves 'offset' chars/bytes from the start.</span></span><br><span class="line">&lt;<span class="built_in">file</span>&gt;.<span class="built_in">seek</span>(<span class="number">0</span>, <span class="number">2</span>)                   <span class="comment"># Moves to the end of the file.</span></span><br><span class="line">&lt;bin_file&gt;.<span class="built_in">seek</span>(±<span class="built_in">offset</span>, &lt;anchor&gt;)  <span class="comment"># Anchor: 0 start, 1 current pos., 2 end.</span></span><br><span class="line">&lt;str/<span class="keyword">bytes</span>&gt; = &lt;<span class="built_in">file</span>&gt;.<span class="built_in">read</span>(size=<span class="number">-1</span>)  <span class="comment"># Reads 'size' chars/bytes or until EOF.</span></span><br><span class="line">&lt;str/<span class="keyword">bytes</span>&gt; = &lt;<span class="built_in">file</span>&gt;.readline()     <span class="comment"># Returns a line or empty string on EOF.</span></span><br><span class="line">&lt;list&gt;      = &lt;<span class="built_in">file</span>&gt;.readlines()    <span class="comment"># Returns a list of remaining lines.</span></span><br><span class="line">&lt;str/<span class="keyword">bytes</span>&gt; = next(&lt;<span class="built_in">file</span>&gt;)          <span class="comment"># Returns a line using buffer. Do not mix.</span></span><br><span class="line">&lt;<span class="built_in">file</span>&gt;.<span class="built_in">write</span>(&lt;str/<span class="keyword">bytes</span>&gt;)           <span class="comment"># Writes a string or bytes object.</span></span><br><span class="line">&lt;<span class="built_in">file</span>&gt;.writelines(&lt;coll.&gt;)          <span class="comment"># Writes a coll. of strings or bytes objects.</span></span><br><span class="line">&lt;<span class="built_in">file</span>&gt;.flush()                      <span class="comment"># Flushes write buffer.</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Methods do not add or strip trailing newlines, even writelines().</strong></li>
</ul>
<h3 id="Read-Text-from-File"><a href="#Read-Text-from-File" class="headerlink" title="Read Text from File"></a>Read Text from File</h3><figure class="highlight sas"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">def read_file(<span class="meta">filename</span>):</span><br><span class="line">    with<span class="meta"> open(</span><span class="meta">filename</span>, encoding=<span class="string">'utf-8'</span>) <span class="meta">as</span> <span class="meta">file</span>:</span><br><span class="line">        <span class="meta">return</span> <span class="meta">file</span>.readlines()</span><br></pre></td></tr></table></figure>

<h3 id="Write-Text-to-File"><a href="#Write-Text-to-File" class="headerlink" title="Write Text to File"></a>Write Text to File</h3><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">def write_to_file(filename, <span class="keyword">text</span>):</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(filename, <span class="string">'w'</span>, encoding=<span class="string">'utf-8'</span>) <span class="keyword">as</span> <span class="built_in">file</span>:</span><br><span class="line">        <span class="built_in">file</span>.<span class="built_in">write</span>(<span class="keyword">text</span>)</span><br></pre></td></tr></table></figure>

<h2 id="Path"><a href="#Path" class="headerlink" title="Path"></a>Path</h2><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> os <span class="keyword">import</span> <span class="type">path</span>, listdir</span><br><span class="line"><span class="keyword">from</span> glob <span class="keyword">import</span> glob</span><br><span class="line">&lt;<span class="type">bool</span>&gt; = <span class="type">path</span>.<span class="keyword">exists</span>(<span class="string">'&lt;path&gt;'</span>)</span><br><span class="line">&lt;<span class="type">bool</span>&gt; = <span class="type">path</span>.isfile(<span class="string">'&lt;path&gt;'</span>)</span><br><span class="line">&lt;<span class="type">bool</span>&gt; = <span class="type">path</span>.isdir(<span class="string">'&lt;path&gt;'</span>)</span><br><span class="line">&lt;list&gt; = listdir(<span class="string">'&lt;path&gt;'</span>)          # List <span class="keyword">of</span> filenames located at <span class="type">path</span>.</span><br><span class="line">&lt;list&gt; = glob(<span class="string">'&lt;pattern&gt;'</span>)          # Filenames matching the wildcard pattern.</span><br></pre></td></tr></table></figure>

<h3 id="Pathlib"><a href="#Pathlib" class="headerlink" title="Pathlib"></a>Pathlib</h3><figure class="highlight pf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pathlib import Path</span><br><span class="line">cwd    = Path()</span><br><span class="line"><span class="variable">&lt;Path&gt;</span> = Path('<span class="variable">&lt;path&gt;</span>' [, '<span class="variable">&lt;path&gt;</span>', <span class="variable">&lt;Path&gt;</span>, ...])</span><br><span class="line"><span class="variable">&lt;Path&gt;</span> = <span class="variable">&lt;Path&gt;</span> / '<span class="variable">&lt;dir&gt;</span>' / '<span class="variable">&lt;file&gt;</span>'</span><br><span class="line"><span class="variable">&lt;bool&gt;</span> = <span class="variable">&lt;Path&gt;</span>.exists()</span><br><span class="line"><span class="variable">&lt;bool&gt;</span> = <span class="variable">&lt;Path&gt;</span>.is_file()</span><br><span class="line"><span class="variable">&lt;bool&gt;</span> = <span class="variable">&lt;Path&gt;</span>.is_dir()</span><br><span class="line"><span class="variable">&lt;iter&gt;</span> = <span class="variable">&lt;Path&gt;</span>.iterdir()           <span class="comment"># Returns dir contents as Path objects.</span></span><br><span class="line"><span class="variable">&lt;iter&gt;</span> = <span class="variable">&lt;Path&gt;</span>.glob('<span class="variable">&lt;pattern&gt;</span>')   <span class="comment"># Returns Paths matching the wildcard pattern.</span></span><br><span class="line"><span class="variable">&lt;str&gt;</span>  = str(<span class="variable">&lt;Path&gt;</span>)                <span class="comment"># Path as a string.</span></span><br><span class="line"><span class="variable">&lt;str&gt;</span>  = <span class="variable">&lt;Path&gt;</span>.name                <span class="comment"># Final component.</span></span><br><span class="line"><span class="variable">&lt;str&gt;</span>  = <span class="variable">&lt;Path&gt;</span>.stem                <span class="comment"># Final component without extension.</span></span><br><span class="line"><span class="variable">&lt;str&gt;</span>  = <span class="variable">&lt;Path&gt;</span>.suffix              <span class="comment"># Final component's extension.</span></span><br><span class="line"><span class="variable">&lt;tup.&gt;</span> = <span class="variable">&lt;Path&gt;</span>.parts               <span class="comment"># All components as strings.</span></span><br><span class="line"><span class="variable">&lt;Path&gt;</span> = <span class="variable">&lt;Path&gt;</span>.resolve()           <span class="comment"># Returns absolute path without symlinks.</span></span><br><span class="line"><span class="variable">&lt;Path&gt;</span> = <span class="variable">&lt;Path&gt;</span>.parent              <span class="comment"># Returns path without final component.</span></span><br><span class="line"><span class="variable">&lt;file&gt;</span> = open(<span class="variable">&lt;Path&gt;</span>)               <span class="comment"># Opens the file and returns a file object.</span></span><br></pre></td></tr></table></figure>

<h2 id="OS-Commands"><a href="#OS-Commands" class="headerlink" title="OS Commands"></a>OS Commands</h2><h3 id="Files-and-Directories"><a href="#Files-and-Directories" class="headerlink" title="Files and Directories"></a>Files and Directories</h3><ul>
<li><strong>Paths can be either strings, Paths, or DirEntry objects.</strong></li>
<li><strong>Functions report OS related errors by raising either OSError or one of its subclasses.</strong></li>
</ul>
<figure class="highlight pf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">import <span class="keyword">os</span>, shutil</span><br><span class="line"><span class="keyword">os</span>.chdir(<span class="variable">&lt;path&gt;</span>)                    <span class="comment"># Changes current working directory.</span></span><br><span class="line"><span class="keyword">os</span>.mkdir(<span class="variable">&lt;path&gt;</span>, mode=<span class="number">0</span>o777)        <span class="comment"># Creates a directory.</span></span><br><span class="line"><span class="keyword">os</span>.rename(<span class="keyword">from</span>, <span class="keyword">to</span>)                 <span class="comment"># Renames the file or directory.</span></span><br><span class="line"><span class="keyword">os</span>.replace(<span class="keyword">from</span>, <span class="keyword">to</span>)                <span class="comment"># Same, but overwrites 'to' if it exists.</span></span><br><span class="line"><span class="keyword">os</span>.remove(<span class="variable">&lt;path&gt;</span>)                   <span class="comment"># Deletes the file.</span></span><br><span class="line"><span class="keyword">os</span>.rmdir(<span class="variable">&lt;path&gt;</span>)                    <span class="comment"># Deletes empty directory.</span></span><br><span class="line">shutil.rmtree(<span class="variable">&lt;path&gt;</span>)               <span class="comment"># Deletes the entire directory tree.</span></span><br><span class="line">shutil.copy(<span class="keyword">from</span>, <span class="keyword">to</span>)               <span class="comment"># Copies the file.</span></span><br><span class="line">shutil.copytree(<span class="keyword">from</span>, <span class="keyword">to</span>)           <span class="comment"># Copies the entire directory tree.</span></span><br><span class="line"><span class="variable">&lt;str&gt;</span>  = <span class="keyword">os</span>.getcwd()                <span class="comment"># Returns the current working directory.</span></span><br><span class="line"><span class="variable">&lt;iter&gt;</span> = <span class="keyword">os</span>.scandir(path='.')       <span class="comment"># Returns os.DirEntry objects located at path.</span></span><br></pre></td></tr></table></figure>

<h4 id="DirEntry"><a href="#DirEntry" class="headerlink" title="DirEntry:"></a>DirEntry:</h4><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">&lt;bool&gt;</span> = <span class="variable">&lt;DirEntry&gt;</span>.is_file()</span><br><span class="line"><span class="variable">&lt;bool&gt;</span> = <span class="variable">&lt;DirEntry&gt;</span>.is_dir()</span><br><span class="line"><span class="variable">&lt;str&gt;</span>  = <span class="variable">&lt;DirEntry&gt;</span>.path            <span class="comment"># Path as a string.</span></span><br><span class="line"><span class="variable">&lt;str&gt;</span>  = <span class="variable">&lt;DirEntry&gt;</span>.name            <span class="comment"># Final component.</span></span><br><span class="line"><span class="variable">&lt;Path&gt;</span> = Path(<span class="variable">&lt;DirEntry&gt;</span>)           <span class="comment"># Path object.</span></span><br><span class="line"><span class="variable">&lt;file&gt;</span> = open(<span class="variable">&lt;DirEntry&gt;</span>)           <span class="comment"># File object.</span></span><br></pre></td></tr></table></figure>

<h3 id="Shell-Commands"><a href="#Shell-Commands" class="headerlink" title="Shell Commands"></a>Shell Commands</h3><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import <span class="built_in">os</span></span><br><span class="line">&lt;str&gt; = <span class="built_in">os</span>.<span class="built_in">popen</span>(<span class="string">'&lt;shell_command&gt;'</span>).<span class="built_in">read</span>()</span><br></pre></td></tr></table></figure>

<h4 id="Using-subprocess"><a href="#Using-subprocess" class="headerlink" title="Using subprocess:"></a>Using subprocess:</h4><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; import subprocess, shlex</span><br><span class="line">&gt;&gt;&gt; <span class="selector-tag">a</span> = subprocess.run(shlex.split(<span class="string">'ls -a'</span>), stdout=subprocess.PIPE)</span><br><span class="line">&gt;&gt;&gt; <span class="selector-tag">a</span>.stdout</span><br><span class="line">b<span class="string">'.\n..\nfile1.txt\nfile2.txt\n'</span></span><br><span class="line">&gt;&gt;&gt; <span class="selector-tag">a</span>.returncode</span><br><span class="line"><span class="number">0</span></span><br></pre></td></tr></table></figure>

<h2 id="JSON"><a href="#JSON" class="headerlink" title="JSON"></a>JSON</h2><p><strong>Text file format for storing collections of strings and numbers.</strong></p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="type">json</span></span><br><span class="line">&lt;str&gt;    = <span class="type">json</span>.dumps(&lt;<span class="keyword">object</span>&gt;, ensure_ascii=<span class="keyword">True</span>, indent=<span class="keyword">None</span>)</span><br><span class="line">&lt;<span class="keyword">object</span>&gt; = <span class="type">json</span>.loads(&lt;str&gt;)</span><br></pre></td></tr></table></figure>

<h3 id="Read-Object-from-JSON-File"><a href="#Read-Object-from-JSON-File" class="headerlink" title="Read Object from JSON File"></a>Read Object from JSON File</h3><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">def read_json_file(filename):</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(filename, encoding=<span class="string">'utf-8'</span>) <span class="keyword">as</span> <span class="built_in">file</span>:</span><br><span class="line">        <span class="literal">return</span> json.<span class="built_in">load</span>(<span class="built_in">file</span>)</span><br></pre></td></tr></table></figure>

<h3 id="Write-Object-to-JSON-File"><a href="#Write-Object-to-JSON-File" class="headerlink" title="Write Object to JSON File"></a>Write Object to JSON File</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">def write_to_json_file(filename, an_object):</span><br><span class="line">    <span class="keyword">with</span> <span class="keyword">open</span>(filename, <span class="string">'w'</span>, <span class="keyword">encoding</span>=<span class="string">'utf-8'</span>) <span class="keyword">as</span> <span class="keyword">file</span>:</span><br><span class="line">        json.dump(an_object, <span class="keyword">file</span>, ensure_ascii=<span class="literal">False</span>, indent=<span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<h2 id="Pickle"><a href="#Pickle" class="headerlink" title="Pickle"></a>Pickle</h2><p><strong>Binary file format for storing objects.</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pickle</span><br><span class="line">&lt;bytes&gt;  = pickle.dumps(&lt;<span class="class"><span class="keyword">object</span><span class="title">&gt;</span>)</span></span><br><span class="line"><span class="class"><span class="title">&lt;object&gt;</span> </span>= pickle.loads(&lt;bytes&gt;)</span><br></pre></td></tr></table></figure>

<h3 id="Read-Object-from-File"><a href="#Read-Object-from-File" class="headerlink" title="Read Object from File"></a>Read Object from File</h3><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">def read_pickle_file(filename):</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(filename, <span class="string">'rb'</span>) <span class="keyword">as</span> <span class="built_in">file</span>:</span><br><span class="line">        <span class="literal">return</span> pickle.<span class="built_in">load</span>(<span class="built_in">file</span>)</span><br></pre></td></tr></table></figure>

<h3 id="Write-Object-to-File"><a href="#Write-Object-to-File" class="headerlink" title="Write Object to File"></a>Write Object to File</h3><figure class="highlight sas"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">def write_to_pickle_file(<span class="meta">filename</span>, an_object):</span><br><span class="line">    with<span class="meta"> open(</span><span class="meta">filename</span>, <span class="string">'wb'</span>) <span class="meta">as</span> <span class="meta">file</span>:</span><br><span class="line">        pickle.dump(an_object, <span class="meta">file</span>)</span><br></pre></td></tr></table></figure>

<h2 id="CSV"><a href="#CSV" class="headerlink" title="CSV"></a>CSV</h2><p><strong>Text file format for storing spreadsheets.</strong></p>
<figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br></pre></td></tr></table></figure>

<h3 id="Read"><a href="#Read" class="headerlink" title="Read"></a>Read</h3><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">&lt;reader&gt;</span> = csv.reader(<span class="symbol">&lt;file&gt;</span>, dialect=<span class="string">'excel'</span>, delimiter=<span class="string">','</span>)</span><br><span class="line"><span class="symbol">&lt;list&gt;</span>   = <span class="keyword">next</span>(<span class="symbol">&lt;reader&gt;</span>)           # Returns <span class="keyword">next</span> row <span class="keyword">as</span> <span class="keyword">a</span> <span class="keyword">list</span> of strings.</span><br><span class="line"><span class="symbol">&lt;list&gt;</span>   = <span class="keyword">list</span>(<span class="symbol">&lt;reader&gt;</span>)           # Returns <span class="keyword">list</span> of remaining rows.</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>File must be opened with ‘newline=””‘ argument, or newlines embedded inside quoted fields will not be interpreted correctly!</strong></li>
</ul>
<h3 id="Write"><a href="#Write" class="headerlink" title="Write"></a>Write</h3><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">&lt;writer&gt;</span> = csv.writer(<span class="symbol">&lt;file&gt;</span>, dialect=<span class="string">'excel'</span>, delimiter=<span class="string">','</span>)</span><br><span class="line"><span class="symbol">&lt;writer&gt;</span>.writerow(<span class="symbol">&lt;collection&gt;</span>)     # Encodes objects using `str(<span class="symbol">&lt;el&gt;</span>)`.</span><br><span class="line"><span class="symbol">&lt;writer&gt;</span>.writerows(<span class="symbol">&lt;coll_of_coll&gt;</span>)  # Appends multiple rows.</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>File must be opened with ‘newline=””‘ argument, or an extra ‘\r’ will be added on platforms that use ‘\r\n’ linendings!</strong></li>
</ul>
<h3 id="Parameters"><a href="#Parameters" class="headerlink" title="Parameters"></a>Parameters</h3><ul>
<li><strong>‘dialect’ - Master parameter that sets the default values.</strong></li>
<li><strong>‘delimiter’ - A one-character string used to separate fields.</strong></li>
<li><strong>‘quotechar’ - Character for quoting fields that contain special characters.</strong></li>
<li><strong>‘doublequote’ - Whether quotechars inside fields get doubled or escaped.</strong></li>
<li><strong>‘skipinitialspace’ - Whether whitespace after delimiter gets stripped.</strong></li>
<li><strong>‘lineterminator’ - How does writer terminate lines.</strong></li>
<li><strong>‘quoting’ - Controls the amount of quoting: 0 - as necessary, 1 - all.</strong></li>
<li><strong>‘escapechar’ - Character for escaping ‘quotechar’ if ‘doublequote’ is false.</strong></li>
</ul>
<h3 id="Dialects"><a href="#Dialects" class="headerlink" title="Dialects"></a>Dialects</h3><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">+------------------+-----------+-----------+--------------+</span><br><span class="line">|<span class="string">                  </span>|<span class="string">   excel   </span>|<span class="string"> excel_tab </span>|<span class="string"> unix_dialect </span>|</span><br><span class="line">+------------------+-----------+-----------+--------------+</span><br><span class="line">|<span class="string"> delimiter        </span>|<span class="string">      ','  </span>|<span class="string">     '\t'  </span>|<span class="string">       ','    </span>|</span><br><span class="line">|<span class="string"> quotechar        </span>|<span class="string">      '"'  </span>|<span class="string">      '"'  </span>|<span class="string">       '"'    </span>|</span><br><span class="line">|<span class="string"> doublequote      </span>|<span class="string">     True  </span>|<span class="string">     True  </span>|<span class="string">      True    </span>|</span><br><span class="line">|<span class="string"> skipinitialspace </span>|<span class="string">    False  </span>|<span class="string">    False  </span>|<span class="string">     False    </span>|</span><br><span class="line">|<span class="string"> lineterminator   </span>|<span class="string">   '\r\n'  </span>|<span class="string">   '\r\n'  </span>|<span class="string">      '\n'    </span>|</span><br><span class="line">|<span class="string"> quoting          </span>|<span class="string">        0  </span>|<span class="string">        0  </span>|<span class="string">         1    </span>|</span><br><span class="line">|<span class="string"> escapechar       </span>|<span class="string">     None  </span>|<span class="string">     None  </span>|<span class="string">      None    </span>|</span><br><span class="line">+------------------+-----------+-----------+--------------+</span><br></pre></td></tr></table></figure>

<h3 id="Read-Rows-from-CSV-File"><a href="#Read-Rows-from-CSV-File" class="headerlink" title="Read Rows from CSV File"></a>Read Rows from CSV File</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">def read_csv_file(filename):</span><br><span class="line">    <span class="keyword">with</span> <span class="keyword">open</span>(filename, <span class="keyword">encoding</span>=<span class="string">'utf-8'</span>, <span class="keyword">newline</span>=<span class="string">''</span>) <span class="keyword">as</span> <span class="keyword">file</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">list</span>(csv.reader(<span class="keyword">file</span>))</span><br></pre></td></tr></table></figure>

<h3 id="Write-Rows-to-CSV-File"><a href="#Write-Rows-to-CSV-File" class="headerlink" title="Write Rows to CSV File"></a>Write Rows to CSV File</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">def write_to_csv_file(filename, rows):</span><br><span class="line">    <span class="keyword">with</span> <span class="keyword">open</span>(filename, <span class="string">'w'</span>, <span class="keyword">encoding</span>=<span class="string">'utf-8'</span>, <span class="keyword">newline</span>=<span class="string">''</span>) <span class="keyword">as</span> <span class="keyword">file</span>:</span><br><span class="line">        writer = csv.writer(<span class="keyword">file</span>)</span><br><span class="line">        writer.writerows(<span class="keyword">rows</span>)</span><br></pre></td></tr></table></figure>

<h2 id="SQLite"><a href="#SQLite" class="headerlink" title="SQLite"></a>SQLite</h2><p><strong>Server-less database engine that stores each database into separate file.</strong></p>
<h3 id="Connect"><a href="#Connect" class="headerlink" title="Connect"></a>Connect</h3><p><strong>Opens a connection to the database file. Creates a new file if path doesn’t exist.</strong></p>
<figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sqlite3</span><br><span class="line">db = sqlite3.<span class="built_in">connect</span>(<span class="string">'&lt;path&gt;'</span>)                  # Also <span class="string">':memory:'</span>.</span><br><span class="line">...</span><br><span class="line">db.<span class="built_in">close</span>()</span><br></pre></td></tr></table></figure>

<h3 id="Read-1"><a href="#Read-1" class="headerlink" title="Read"></a>Read</h3><p><strong>Returned values can be of type str, int, float, bytes or None.</strong></p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="keyword">cursor</span>&gt; = db.<span class="keyword">execute</span>(<span class="string">'&lt;query&gt;'</span>)                # Can <span class="keyword">raise</span> sqlite3.OperationalError.</span><br><span class="line">&lt;tuple&gt;  = &lt;<span class="keyword">cursor</span>&gt;.fetchone()                  # <span class="keyword">Returns</span> next <span class="keyword">row</span>. <span class="keyword">Also</span> next(&lt;<span class="keyword">cursor</span>&gt;).</span><br><span class="line">&lt;list&gt;   = &lt;<span class="keyword">cursor</span>&gt;.fetchall()                  # <span class="keyword">Returns</span> remaining <span class="keyword">rows</span>.</span><br></pre></td></tr></table></figure>

<h3 id="Write-1"><a href="#Write-1" class="headerlink" title="Write"></a>Write</h3><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">db</span><span class="selector-class">.execute</span>(<span class="string">'&lt;query&gt;'</span>)</span><br><span class="line"><span class="selector-tag">db</span><span class="selector-class">.commit</span>()</span><br></pre></td></tr></table></figure>

<h4 id="Or"><a href="#Or" class="headerlink" title="Or:"></a>Or:</h4><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> db:</span><br><span class="line">    db.<span class="built_in">execute</span>(<span class="string">'&lt;query&gt;'</span>)</span><br></pre></td></tr></table></figure>

<h3 id="Placeholders"><a href="#Placeholders" class="headerlink" title="Placeholders"></a>Placeholders</h3><ul>
<li><strong>Passed values can be of type str, int, float, bytes, None, bool, datetime.date or datetime.datetme.</strong></li>
<li><strong>Bools will be stored and returned as ints and dates as ISO formatted strings.</strong></li>
</ul>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">db.<span class="keyword">execute</span>(<span class="string">'&lt;query&gt;'</span>, &lt;list/tuple&gt;)             # Replaces <span class="string">'?'</span>s <span class="keyword">in</span> query <span class="keyword">with</span> <span class="keyword">values</span>.</span><br><span class="line">db.<span class="keyword">execute</span>(<span class="string">'&lt;query&gt;'</span>, &lt;dict/namedtuple&gt;)        # Replaces <span class="string">':&lt;key&gt;'</span>s <span class="keyword">with</span> <span class="keyword">values</span>.</span><br><span class="line">db.executemany(<span class="string">'&lt;query&gt;'</span>, &lt;coll_of_above&gt;)      # Runs <span class="keyword">execute</span>() many times.</span><br></pre></td></tr></table></figure>

<h3 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h3><p><strong>In this example values are not actually saved because ‘db.commit()’ is omitted!</strong></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;</span>&gt; db = sqlite3.connect(<span class="string">'test.db'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; db.execute(<span class="string">'create table t (a, b, c)'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; db.execute(<span class="string">'insert into t values (1, 2, 3)'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; db.execute(<span class="string">'select * from t'</span>).fetchall()</span><br><span class="line">[(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)]</span><br></pre></td></tr></table></figure>

<h3 id="MySQL"><a href="#MySQL" class="headerlink" title="MySQL"></a>MySQL</h3><p><strong>Has a very similar interface, with differences listed below.</strong></p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># $ pip3 install mysql-connector</span><br><span class="line"><span class="keyword">from</span> mysql <span class="keyword">import</span> connector</span><br><span class="line">db = connector.<span class="keyword">connect</span>(host=&lt;str&gt;, <span class="keyword">user</span>=&lt;str&gt;, <span class="keyword">password</span>=&lt;str&gt;, <span class="keyword">database</span>=&lt;str&gt;)</span><br><span class="line">&lt;<span class="keyword">cursor</span>&gt; = db.<span class="keyword">cursor</span>()</span><br><span class="line">&lt;<span class="keyword">cursor</span>&gt;.<span class="keyword">execute</span>(<span class="string">'&lt;query&gt;'</span>)                     # <span class="keyword">Only</span> <span class="keyword">cursor</span> has <span class="keyword">execute</span> <span class="keyword">method</span>.</span><br><span class="line">&lt;<span class="keyword">cursor</span>&gt;.<span class="keyword">execute</span>(<span class="string">'&lt;query&gt;'</span>, &lt;list/tuple&gt;)       # Replaces <span class="string">'%s'</span>s <span class="keyword">in</span> query <span class="keyword">with</span> <span class="keyword">values</span>.</span><br><span class="line">&lt;<span class="keyword">cursor</span>&gt;.<span class="keyword">execute</span>(<span class="string">'&lt;query&gt;'</span>, &lt;dict/namedtuple&gt;)  # Replaces <span class="string">'%(&lt;key&gt;)s'</span>s <span class="keyword">with</span> <span class="keyword">values</span>.</span><br></pre></td></tr></table></figure>

<h2 id="Bytes"><a href="#Bytes" class="headerlink" title="Bytes"></a>Bytes</h2><p><strong>Bytes object is an immutable sequence of single bytes. Mutable version is called bytearray.</strong></p>
<figure class="highlight fsharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;bytes&gt; = b'&lt;str&gt;'                       # Only accepts ASCII characters <span class="keyword">and</span> \x00 - \xff.</span><br><span class="line">&lt;int&gt;   = &lt;bytes&gt;<span class="meta">[&lt;index&gt;]</span>               # Returns int <span class="keyword">in</span> range from <span class="number">0</span> <span class="keyword">to</span> <span class="number">255.</span></span><br><span class="line">&lt;bytes&gt; = &lt;bytes&gt;<span class="meta">[&lt;slice&gt;]</span>               # Returns bytes even <span class="keyword">if</span> it has only one element.</span><br><span class="line">&lt;bytes&gt; = &lt;bytes&gt;.join(&lt;coll_of_bytes&gt;)  # Joins elements using bytes object <span class="keyword">as</span> separator.</span><br></pre></td></tr></table></figure>

<h3 id="Encode-1"><a href="#Encode-1" class="headerlink" title="Encode"></a>Encode</h3><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="built_in">bytes</span>&gt; = <span class="built_in">bytes</span>(&lt;coll_of_ints&gt;)          # Ints must be <span class="keyword">in</span> range from <span class="number">0</span> <span class="keyword">to</span> <span class="number">255.</span></span><br><span class="line">&lt;<span class="built_in">bytes</span>&gt; = <span class="built_in">bytes</span>(&lt;str&gt;, 'utf-<span class="number">8</span>')          # Or: &lt;str&gt;.encode('utf-<span class="number">8</span>')</span><br><span class="line">&lt;<span class="built_in">bytes</span>&gt; = &lt;<span class="built_in">int</span>&gt;.<span class="keyword">to</span><span class="constructor">_bytes(<span class="params">n_bytes</span>, <span class="params">byteorder</span>='<span class="params">big</span>|<span class="params">little</span>', <span class="params">signed</span>=False)</span></span><br><span class="line">&lt;<span class="built_in">bytes</span>&gt; = <span class="built_in">bytes</span>.fromhex('&lt;hex&gt;')</span><br></pre></td></tr></table></figure>

<h3 id="Decode-1"><a href="#Decode-1" class="headerlink" title="Decode"></a>Decode</h3><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="built_in">list</span>&gt;  = <span class="built_in">list</span>(&lt;<span class="built_in">bytes</span>&gt;)                  # Returns ints <span class="keyword">in</span> range from <span class="number">0</span> <span class="keyword">to</span> <span class="number">255.</span></span><br><span class="line">&lt;str&gt;   = str(&lt;<span class="built_in">bytes</span>&gt;, 'utf-<span class="number">8</span>')          # Or: &lt;<span class="built_in">bytes</span>&gt;.decode('utf-<span class="number">8</span>')</span><br><span class="line">&lt;<span class="built_in">int</span>&gt;   = <span class="built_in">int</span>.from<span class="constructor">_bytes(&lt;<span class="params">bytes</span>&gt;, <span class="params">byteorder</span>='<span class="params">big</span>|<span class="params">little</span>', <span class="params">signed</span>=False)</span></span><br><span class="line">'&lt;hex&gt;' = &lt;<span class="built_in">bytes</span>&gt;.hex<span class="literal">()</span></span><br></pre></td></tr></table></figure>

<h3 id="Read-Bytes-from-File"><a href="#Read-Bytes-from-File" class="headerlink" title="Read Bytes from File"></a>Read Bytes from File</h3><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">def read_bytes(filename):</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(filename, <span class="string">'rb'</span>) <span class="keyword">as</span> <span class="built_in">file</span>:</span><br><span class="line">        <span class="literal">return</span> <span class="built_in">file</span>.<span class="built_in">read</span>()</span><br></pre></td></tr></table></figure>

<h3 id="Write-Bytes-to-File"><a href="#Write-Bytes-to-File" class="headerlink" title="Write Bytes to File"></a>Write Bytes to File</h3><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">def write_bytes(filename, bytes_obj):</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(filename, <span class="string">'wb'</span>) <span class="keyword">as</span> <span class="built_in">file</span>:</span><br><span class="line">        <span class="built_in">file</span>.<span class="built_in">write</span>(bytes_obj)</span><br></pre></td></tr></table></figure>

<h2 id="Struct"><a href="#Struct" class="headerlink" title="Struct"></a>Struct</h2><ul>
<li><strong>Module that performs conversions between a sequence of numbers and a bytes object.</strong></li>
<li><strong>Machine’s native type sizes and byte order are used by default.</strong></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">from <span class="class"><span class="keyword">struct</span> <span class="title">import</span> <span class="title">pack</span>, <span class="title">unpack</span>, <span class="title">iter_unpack</span></span></span><br><span class="line"><span class="class">&lt;bytes&gt;  = <span class="title">pack</span>('&lt;format&gt;', &lt;num_1&gt; [, &lt;num_2&gt;, ...])</span></span><br><span class="line"><span class="class">&lt;tuple&gt;  = <span class="title">unpack</span>('&lt;format&gt;', &lt;bytes&gt;)</span></span><br><span class="line"><span class="class">&lt;tuples&gt; = <span class="title">iter_unpack</span>('&lt;format&gt;', &lt;bytes&gt;)</span></span><br></pre></td></tr></table></figure>

<h3 id="Example-1"><a href="#Example-1" class="headerlink" title="Example"></a>Example</h3><figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; pack('&gt;hhl', <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">b'\<span class="keyword">x</span><span class="number">00</span>\<span class="keyword">x</span><span class="number">01</span>\<span class="keyword">x</span><span class="number">00</span>\<span class="keyword">x</span><span class="number">02</span>\<span class="keyword">x</span><span class="number">00</span>\<span class="keyword">x</span><span class="number">00</span>\<span class="keyword">x</span><span class="number">00</span>\<span class="keyword">x</span><span class="number">03</span>'</span><br><span class="line">&gt;&gt;&gt; unpack('&gt;hhl', b'\<span class="keyword">x</span><span class="number">00</span>\<span class="keyword">x</span><span class="number">01</span>\<span class="keyword">x</span><span class="number">00</span>\<span class="keyword">x</span><span class="number">02</span>\<span class="keyword">x</span><span class="number">00</span>\<span class="keyword">x</span><span class="number">00</span>\<span class="keyword">x</span><span class="number">00</span>\<span class="keyword">x</span><span class="number">03</span>')</span><br><span class="line">(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br></pre></td></tr></table></figure>

<h3 id="Format-2"><a href="#Format-2" class="headerlink" title="Format"></a>Format</h3><h4 id="For-standard-sizes-start-format-string-with"><a href="#For-standard-sizes-start-format-string-with" class="headerlink" title="For standard sizes start format string with:"></a>For standard sizes start format string with:</h4><ul>
<li><strong>‘=’ - native byte order</strong></li>
<li><strong>‘&lt;’ - little-endian</strong></li>
<li><strong>‘&gt;’ - big-endian</strong></li>
</ul>
<h4 id="Integer-types-Use-capital-letter-for-unsigned-type-Standard-sizes-are-in-brackets"><a href="#Integer-types-Use-capital-letter-for-unsigned-type-Standard-sizes-are-in-brackets" class="headerlink" title="Integer types. Use capital letter for unsigned type. Standard sizes are in brackets:"></a>Integer types. Use capital letter for unsigned type. Standard sizes are in brackets:</h4><ul>
<li><strong>‘x’ - pad byte</strong></li>
<li><strong>‘b’ - char (1)</strong></li>
<li><strong>‘h’ - short (2)</strong></li>
<li><strong>‘i’ - int (4)</strong></li>
<li><strong>‘l’ - long (4)</strong></li>
<li><strong>‘q’ - long long (8)</strong></li>
</ul>
<h4 id="Floating-point-types"><a href="#Floating-point-types" class="headerlink" title="Floating point types:"></a>Floating point types:</h4><ul>
<li><strong>‘f’ - float (4)</strong></li>
<li><strong>‘d’ - double (8)</strong></li>
</ul>
<h2 id="Array"><a href="#Array" class="headerlink" title="Array"></a>Array</h2><p><strong>List that can only hold numbers of a predefined type. Available types and their sizes in bytes are listed above.</strong></p>
<figure class="highlight smali"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">from<span class="built_in"> array </span>import array</span><br><span class="line">&lt;array&gt; = array('&lt;typecode&gt;', &lt;collection&gt;)    <span class="comment"># Array from coll. of numbers.</span></span><br><span class="line">&lt;array&gt; = array('&lt;typecode&gt;', &lt;bytes&gt;)         <span class="comment"># Array from bytes object.</span></span><br><span class="line">&lt;bytes&gt; = &lt;array&gt;.tobytes()</span><br></pre></td></tr></table></figure>

<h2 id="Memory-View"><a href="#Memory-View" class="headerlink" title="Memory View"></a>Memory View</h2><ul>
<li><strong>A sequence object that points to the memory of another object.</strong></li>
<li><strong>Each element can reference a single or multiple consecutive bytes, depending on format.</strong></li>
<li><strong>Order and number of elements can be changed with slicing.</strong></li>
</ul>
<figure class="highlight pf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">&lt;mview&gt;</span> = memoryview(<span class="variable">&lt;bytes/bytearray/array&gt;</span>)</span><br><span class="line"><span class="variable">&lt;num&gt;</span>   = <span class="variable">&lt;mview&gt;</span>[<span class="variable">&lt;index&gt;</span>]                     <span class="comment"># Returns an int or a float.</span></span><br><span class="line"><span class="variable">&lt;mview&gt;</span> = <span class="variable">&lt;mview&gt;</span>[<span class="variable">&lt;slice&gt;</span>]                     <span class="comment"># Mview with rearranged elements.</span></span><br><span class="line"><span class="variable">&lt;mview&gt;</span> = <span class="variable">&lt;mview&gt;</span>.cast('<span class="variable">&lt;typecode&gt;</span>')           <span class="comment"># Casts memoryview to the new format.</span></span><br><span class="line"><span class="variable">&lt;mview&gt;</span>.release()                              <span class="comment"># Releases the object's memory buffer.</span></span><br><span class="line"><span class="variable">&lt;bin_file&gt;</span>.write(<span class="variable">&lt;mview&gt;</span>)                      <span class="comment"># Appends mview to the binary file.</span></span><br><span class="line"><span class="variable">&lt;bytes&gt;</span> = bytes(<span class="variable">&lt;mview&gt;</span>)                       <span class="comment"># Creates a new bytes object.</span></span><br><span class="line"><span class="variable">&lt;bytes&gt;</span> = <span class="variable">&lt;bytes&gt;</span>.join(<span class="variable">&lt;coll_of_mviews&gt;</span>)       <span class="comment"># Joins mviews using bytes object as sep.</span></span><br><span class="line"><span class="variable">&lt;list&gt;</span>  = list(<span class="variable">&lt;mview&gt;</span>)                        <span class="comment"># Returns list of ints or floats.</span></span><br><span class="line"><span class="variable">&lt;str&gt;</span>   = str(<span class="variable">&lt;mview&gt;</span>, 'utf-<span class="number">8</span>')</span><br><span class="line"><span class="variable">&lt;int&gt;</span>   = int.from_bytes(<span class="variable">&lt;mview&gt;</span>, byteorder='big|little', signed=False)</span><br><span class="line">'<span class="variable">&lt;hex&gt;</span>' = <span class="variable">&lt;mview&gt;</span>.hex()</span><br></pre></td></tr></table></figure>

<h2 id="Deque"><a href="#Deque" class="headerlink" title="Deque"></a>Deque</h2><p><strong>A thread-safe list with efficient appends and pops from either side. Pronounced “deck”.</strong></p>
<figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">from collections import deque</span><br><span class="line"><span class="params">&lt;deque&gt;</span> = deque(<span class="params">&lt;collection&gt;</span>, maxlen=None)</span><br><span class="line"><span class="params">&lt;deque&gt;</span>.appendleft(<span class="params">&lt;el&gt;</span>)                       <span class="meta"># Opposite element is dropped <span class="meta-keyword">if</span> full.</span></span><br><span class="line"><span class="params">&lt;el&gt;</span> = <span class="params">&lt;deque&gt;</span>.popleft()                       <span class="meta"># Raises IndexError <span class="meta-keyword">if</span> empty.</span></span><br><span class="line"><span class="params">&lt;deque&gt;</span>.extendleft(<span class="params">&lt;collection&gt;</span>)               <span class="meta"># Collection gets reversed.</span></span><br><span class="line"><span class="params">&lt;deque&gt;</span>.rotate(n=<span class="number">1</span>)                            <span class="meta"># Rotates elements to the right.</span></span><br></pre></td></tr></table></figure>

<h2 id="Threading"><a href="#Threading" class="headerlink" title="Threading"></a>Threading</h2><ul>
<li><strong>CPython interpreter can only run a single thread at a time.</strong></li>
<li><strong>That is why using multiple threads won’t result in a faster execution, unless there is an I/O operation in the thread.</strong></li>
</ul>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> threading <span class="keyword">import</span> Thread, RLock</span><br></pre></td></tr></table></figure>

<h3 id="Thread"><a href="#Thread" class="headerlink" title="Thread"></a>Thread</h3><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">thread = Thread(target=<span class="symbol">&lt;function&gt;</span>, <span class="keyword">args</span>=(<span class="symbol">&lt;first_arg&gt;</span>, ))</span><br><span class="line">thread.start()</span><br><span class="line">...</span><br><span class="line"><span class="symbol">&lt;bool&gt;</span> = thread.is_alive()           # Checks <span class="keyword">if</span> thread <span class="built_in">has</span> finished executing.</span><br><span class="line">thread.<span class="keyword">join</span>()                        # Waits <span class="keyword">for</span> thread <span class="keyword">to</span> <span class="keyword">finish</span>.</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Use ‘kwargs=<dict>‘ to pass keyword arguments to the function.</dict></strong></li>
<li><strong>Use ‘daemon=True’, or the program will not be able to exit while the thread is alive.</strong></li>
</ul>
<h3 id="Lock"><a href="#Lock" class="headerlink" title="Lock"></a>Lock</h3><figure class="highlight cos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">lock</span> = RLock()</span><br><span class="line"><span class="keyword">lock</span>.acquire()                       # Waits <span class="keyword">for</span> <span class="keyword">lock</span> to be available.</span><br><span class="line">...</span><br><span class="line"><span class="keyword">lock</span>.release()</span><br></pre></td></tr></table></figure>

<h4 id="Or-1"><a href="#Or-1" class="headerlink" title="Or:"></a>Or:</h4><figure class="highlight sqf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">lock</span> = RLock()</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">lock</span>:</span><br><span class="line">    ...</span><br></pre></td></tr></table></figure>

<h3 id="Thread-Pool-Executor"><a href="#Thread-Pool-Executor" class="headerlink" title="Thread Pool Executor"></a>Thread Pool Executor</h3><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">from concurrent.futures import ThreadPoolExecutor</span><br><span class="line">with ThreadPoolExecutor(max_workers=None) <span class="keyword">as</span> executor:</span><br><span class="line">    <span class="symbol">&lt;iter&gt;</span>   = executor.<span class="keyword">map</span>(lambda <span class="keyword">x</span>: <span class="keyword">x</span> + <span class="number">1</span>, <span class="built_in">range</span>(<span class="number">3</span>))         # (<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">    <span class="symbol">&lt;iter&gt;</span>   = executor.<span class="keyword">map</span>(lambda <span class="keyword">x</span>, <span class="keyword">y</span>: <span class="keyword">x</span> + <span class="keyword">y</span>, <span class="string">'abc'</span>, <span class="string">'123'</span>)  # (<span class="string">'a1'</span>, <span class="string">'b2'</span>, <span class="string">'c3'</span>)</span><br><span class="line">    <span class="symbol">&lt;Future&gt;</span> = executor.submit(<span class="symbol">&lt;function&gt;</span> [, <span class="symbol">&lt;arg_1&gt;</span>, ...])</span><br><span class="line"><span class="symbol">&lt;bool&gt;</span> = <span class="symbol">&lt;Future&gt;</span>.done()             # Checks <span class="keyword">if</span> thread <span class="built_in">has</span> finished executing.</span><br><span class="line"><span class="symbol">&lt;obj&gt;</span>  = <span class="symbol">&lt;Future&gt;</span>.result()           # Waits <span class="keyword">for</span> thread <span class="keyword">to</span> <span class="keyword">finish</span> <span class="built_in">and</span> returns result.</span><br></pre></td></tr></table></figure>

<h3 id="Queue"><a href="#Queue" class="headerlink" title="Queue"></a>Queue</h3><p><strong>A thread-safe FIFO queue. For LIFO queue use LifoQueue.</strong></p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span><span class="built_in"> queue </span>import Queue</span><br><span class="line">&lt;Queue&gt; = Queue(<span class="attribute">maxsize</span>=0)</span><br><span class="line">&lt;Queue&gt;.put(&lt;el&gt;)                    # Blocks until<span class="built_in"> queue </span>stops being full.</span><br><span class="line">&lt;Queue&gt;.put_nowait(&lt;el&gt;)             # Raises queue.Full exception <span class="keyword">if</span> full.</span><br><span class="line">&lt;el&gt; = &lt;Queue&gt;.<span class="builtin-name">get</span>()                 # Blocks until<span class="built_in"> queue </span>stops being empty.</span><br><span class="line">&lt;el&gt; = &lt;Queue&gt;.get_nowait()          # Raises _queue.Empty exception <span class="keyword">if</span> empty.</span><br></pre></td></tr></table></figure>

<h2 id="Operator"><a href="#Operator" class="headerlink" title="Operator"></a>Operator</h2><p><strong>Module of functions that provide the functionality of operators.</strong></p>
<figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">from operator <span class="keyword">import</span> add, sub, mul, truediv, floordiv, mod, pow, neg,<span class="built_in"> abs</span></span><br><span class="line">from operator <span class="keyword">import</span> <span class="literal">eq</span>, <span class="literal">ne</span>, <span class="literal">lt</span>, <span class="literal">le</span>, <span class="literal">gt</span>, <span class="literal">ge</span></span><br><span class="line">from operator <span class="keyword">import</span> <span class="keyword">and</span><span class="number">_</span>, <span class="keyword">or</span><span class="number">_</span>, not<span class="number">_</span></span><br><span class="line">from operator <span class="keyword">import</span> itemgetter, attrgetter, methodcaller</span><br><span class="line"><span class="keyword">import</span> operator <span class="keyword">as</span> op</span><br><span class="line">sorted_by_second = sorted(<span class="xml"><span class="tag">&lt;<span class="name">collection</span>&gt;</span>, key=op.itemgetter(1))</span></span><br><span class="line"><span class="xml">sorted_by_both   = sorted(</span><span class="xml"><span class="tag">&lt;<span class="name">collection</span>&gt;</span>, key=op.itemgetter(1, 0))</span></span><br><span class="line"><span class="xml">product_of_elems = functools.reduce(op.mul, </span><span class="xml"><span class="tag">&lt;<span class="name">collection</span>&gt;</span>)</span></span><br><span class="line"><span class="xml">LogicOp          = enum.Enum('LogicOp', </span><span class="xquery">&#123;<span class="string">'AND'</span>: op.<span class="keyword">and</span><span class="number">_</span>, <span class="string">'OR'</span> : op.<span class="keyword">or</span><span class="number">_</span>&#125;</span><span class="xml">)</span></span><br><span class="line"><span class="xml">last_el          = op.methodcaller('pop')(</span><span class="xml"><span class="tag">&lt;<span class="name">list</span>&gt;</span>)</span></span><br></pre></td></tr></table></figure>

<h2 id="Introspection"><a href="#Introspection" class="headerlink" title="Introspection"></a>Introspection</h2><p><strong>Inspecting code at runtime.</strong></p>
<h3 id="Variables"><a href="#Variables" class="headerlink" title="Variables"></a>Variables</h3><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;list&gt; = dir()      # Names <span class="keyword">of</span> variables <span class="keyword">in</span> <span class="keyword">current</span> scope.</span><br><span class="line">&lt;dict&gt; = locals()   # Dict <span class="keyword">of</span> <span class="keyword">local</span> variables. <span class="keyword">Also</span> vars().</span><br><span class="line">&lt;dict&gt; = globals()  # Dict <span class="keyword">of</span> <span class="keyword">global</span> variables.</span><br></pre></td></tr></table></figure>

<h3 id="Attributes-1"><a href="#Attributes-1" class="headerlink" title="Attributes"></a>Attributes</h3><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;dict&gt; = vars(<span class="name">&lt;object&gt;</span>)</span><br><span class="line">&lt;bool&gt; = hasattr(<span class="name">&lt;object&gt;</span>, '&lt;attr_name&gt;')</span><br><span class="line">value  = getattr(<span class="name">&lt;object&gt;</span>, '&lt;attr_name&gt;')</span><br><span class="line">setattr(<span class="name">&lt;object&gt;</span>, '&lt;attr_name&gt;', value)</span><br></pre></td></tr></table></figure>

<h3 id="Parameters-1"><a href="#Parameters-1" class="headerlink" title="Parameters"></a>Parameters</h3><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">from inspect import signature</span><br><span class="line">&lt;sig&gt;        = signature(<span class="name">&lt;function&gt;</span>)</span><br><span class="line">no_of_params = len(<span class="name">&lt;sig&gt;</span>.parameters)</span><br><span class="line">param_names  = list(<span class="name">&lt;sig&gt;</span>.parameters.keys())</span><br></pre></td></tr></table></figure>

<h2 id="Metaprograming"><a href="#Metaprograming" class="headerlink" title="Metaprograming"></a>Metaprograming</h2><p><strong>Code that generates code.</strong></p>
<h3 id="Type-1"><a href="#Type-1" class="headerlink" title="Type"></a>Type</h3><p><strong>Type is the root class. If only passed an object it returns its type (class). Otherwise it creates a new class.</strong></p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="keyword">class</span>&gt; = <span class="symbol">type</span>(&lt;<span class="symbol">class_name</span>&gt;, &lt;<span class="symbol">parents_tuple</span>&gt;, &lt;<span class="symbol">attributes_dict</span>&gt;)</span><br><span class="line">&gt;&gt;&gt; <span class="symbol">Z</span> = <span class="symbol">type</span>('<span class="symbol">Z</span>', (), &#123;<span class="string">'a'</span>: <span class="string">'abcde'</span>, <span class="string">'b'</span>: <span class="number">12345</span>&#125;)</span><br><span class="line">&gt;&gt;&gt; z = Z()</span><br></pre></td></tr></table></figure>

<h3 id="Meta-Class"><a href="#Meta-Class" class="headerlink" title="Meta Class"></a>Meta Class</h3><p><strong>Class that creates classes.</strong></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_meta_class</span><span class="params">(name, parents, attrs)</span></span><span class="symbol">:</span></span><br><span class="line">    attrs[<span class="string">'a'</span>] = <span class="string">'abcde'</span></span><br><span class="line">    <span class="keyword">return</span> type(name, parents, attrs)</span><br></pre></td></tr></table></figure>

<h4 id="Or-2"><a href="#Or-2" class="headerlink" title="Or:"></a>Or:</h4><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="constructor">MyMetaClass(<span class="params">type</span>)</span>:</span><br><span class="line">    def <span class="constructor">__new__(<span class="params">cls</span>, <span class="params">name</span>, <span class="params">parents</span>, <span class="params">attrs</span>)</span>:</span><br><span class="line">        attrs<span class="literal">['<span class="identifier">a</span>']</span> = 'abcde'</span><br><span class="line">        return <span class="keyword">type</span>.<span class="constructor">__new__(<span class="params">cls</span>, <span class="params">name</span>, <span class="params">parents</span>, <span class="params">attrs</span>)</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>New() is a class method that gets called before init(). If it returns an instance of its class, then that instance gets passed to init() as a ‘self’ argument.</strong></li>
<li><strong>It receives the same arguments as init(), except for the first one that specifies the desired class of returned instance (MyMetaClass in our case).</strong></li>
<li><strong>New() can also be called directly, usually from a new() method of a child class (</strong><code>def __new__(cls): return super().__new__(cls)</code><strong>), in which case init() is not called.</strong></li>
</ul>
<h3 id="Metaclass-Attribute"><a href="#Metaclass-Attribute" class="headerlink" title="Metaclass Attribute"></a>Metaclass Attribute</h3><p><strong>Right before a class is created it checks if it has a ‘metaclass’ attribute defined. If not, it recursively checks if any of his parents has it defined and eventually comes to type().</strong></p>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="constructor">MyClass(<span class="params">metaclass</span>=MyMetaClass)</span>:</span><br><span class="line">    b = <span class="number">12345</span></span><br><span class="line">&gt;&gt;&gt; <span class="module-access"><span class="module"><span class="identifier">MyClass</span>.</span></span>a, <span class="module-access"><span class="module"><span class="identifier">MyClass</span>.</span></span>b</span><br><span class="line">('abcde', <span class="number">12345</span>)</span><br></pre></td></tr></table></figure>

<h3 id="Type-Diagram"><a href="#Type-Diagram" class="headerlink" title="Type Diagram"></a>Type Diagram</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">type(MyClass)     == MyMetaClass  # MyClass is an<span class="built_in"> instance </span>of MyMetaClass.</span><br><span class="line">type(MyMetaClass) ==<span class="built_in"> type </span>        # MyMetaClass is an<span class="built_in"> instance </span>of type.</span><br><span class="line">+---------+-------------+</span><br><span class="line">| Classes | Metaclasses |</span><br><span class="line">+---------+-------------|</span><br><span class="line">| MyClass &gt; MyMetaClass |</span><br><span class="line">|         |     v       |</span><br><span class="line">|  object ---&gt;<span class="built_in"> type </span>&lt;+  |</span><br><span class="line">|         |    ^ +---+  |</span><br><span class="line">|   str -------+        |</span><br><span class="line">+---------+-------------+</span><br></pre></td></tr></table></figure>

<h3 id="Inheritance-Diagram"><a href="#Inheritance-Diagram" class="headerlink" title="Inheritance Diagram"></a>Inheritance Diagram</h3><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">MyClass.__base__     == object    <span class="comment"># MyClass is a subclass of object.</span></span><br><span class="line">MyMetaClass.__base__ == type      <span class="comment"># MyMetaClass is a subclass of type.</span></span><br><span class="line">+---------+-------------+</span><br><span class="line">|<span class="string"> Classes </span>|<span class="string"> Metaclasses </span>|</span><br><span class="line">+---------+-------------|</span><br><span class="line">|<span class="string"> MyClass </span>|<span class="string"> MyMetaClass </span>|</span><br><span class="line">|<span class="string">    v    </span>|<span class="string">     v       </span>|</span><br><span class="line">|<span class="string">  object &lt;--- type     </span>|</span><br><span class="line">|<span class="string">    ^    </span>|<span class="string">             </span>|</span><br><span class="line">|<span class="string">   str   </span>|<span class="string">             </span>|</span><br><span class="line">+---------+-------------+</span><br></pre></td></tr></table></figure>

<h2 id="Eval"><a href="#Eval" class="headerlink" title="Eval"></a>Eval</h2><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;</span>&gt; from ast import literal_eval</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; literal_eval(<span class="string">'1 + 2'</span>)</span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; literal_eval(<span class="string">'[1, 2, 3]'</span>)</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; literal_eval(<span class="string">'abs(1)'</span>)</span><br><span class="line"><span class="symbol">ValueError:</span> malformed node <span class="keyword">or</span> string</span><br></pre></td></tr></table></figure>

<h2 id="Coroutine"><a href="#Coroutine" class="headerlink" title="Coroutine"></a>Coroutine</h2><ul>
<li><strong>Any function that contains a ‘(yield)’ expression returns a coroutine.</strong></li>
<li><strong>Coroutines are similar to iterators, but data needs to be pulled out of an iterator by calling ‘next(<iter>)’, while we push data into the coroutine by calling ‘<coroutine>.send(<el>)’.</el></coroutine></iter></strong></li>
<li><strong>Coroutines provide more powerful data routing possibilities than iterators.</strong></li>
</ul>
<h3 id="Helper-Decorator"><a href="#Helper-Decorator" class="headerlink" title="Helper Decorator"></a>Helper Decorator</h3><ul>
<li><strong>All coroutines must first be “primed” by calling ‘next(<coroutine>)’.</coroutine></strong></li>
<li><strong>Remembering to call next() is easy to forget.</strong></li>
<li><strong>Solved by wrapping coroutine functions with the following decorator:</strong></li>
</ul>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">coroutine</span><span class="params">(func)</span></span><span class="symbol">:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">out</span><span class="params">(*args, **kwargs)</span></span><span class="symbol">:</span></span><br><span class="line">        cr = func(*args, **kwargs)</span><br><span class="line">        <span class="keyword">next</span>(cr)</span><br><span class="line">        <span class="keyword">return</span> cr</span><br><span class="line">    <span class="keyword">return</span> out</span><br></pre></td></tr></table></figure>

<h3 id="Pipeline-Example"><a href="#Pipeline-Example" class="headerlink" title="Pipeline Example"></a>Pipeline Example</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">reader</span><span class="params">(target)</span>:</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>):</span><br><span class="line">        target.send(i)</span><br><span class="line">    target.close()</span><br><span class="line"></span><br><span class="line"><span class="meta">@coroutine</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">adder</span><span class="params">(target)</span>:</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        value = (<span class="keyword">yield</span>)</span><br><span class="line">        target.send(value + <span class="number">100</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">@coroutine</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">printer</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        value = (<span class="keyword">yield</span>)</span><br><span class="line">        print(value, end=<span class="string">' '</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>reader(adder(printer()))</span><br><span class="line"><span class="number">100</span> <span class="number">101</span> <span class="number">102</span> <span class="number">103</span> <span class="number">104</span> <span class="number">105</span> <span class="number">106</span> <span class="number">107</span> <span class="number">108</span> <span class="number">109</span></span><br></pre></td></tr></table></figure>

<h1 id="Libraries"><a href="#Libraries" class="headerlink" title="Libraries"></a>Libraries</h1><h2 id="Progress-Bar"><a href="#Progress-Bar" class="headerlink" title="Progress Bar"></a>Progress Bar</h2><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># $ pip3 install tqdm</span><br><span class="line"><span class="keyword">from</span> tqdm <span class="keyword">import</span> tqdm</span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep</span><br><span class="line"><span class="keyword">for</span> el <span class="keyword">in</span> tqdm([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]):</span><br><span class="line">    sleep(<span class="number">0.2</span>)</span><br></pre></td></tr></table></figure>

<h2 id="Plot"><a href="#Plot" class="headerlink" title="Plot"></a>Plot</h2><figure class="highlight pf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># $ pip3 install matplotlib</span></span><br><span class="line"><span class="keyword">from</span> matplotlib import pyplot</span><br><span class="line">pyplot.plot(<span class="variable">&lt;y_data&gt;</span> [, <span class="keyword">label</span>=<span class="variable">&lt;str&gt;</span>])</span><br><span class="line">pyplot.plot(<span class="variable">&lt;x_data&gt;</span>, <span class="variable">&lt;y_data&gt;</span>)</span><br><span class="line">pyplot.legend()                                <span class="comment"># Adds a legend.</span></span><br><span class="line">pyplot.savefig(<span class="variable">&lt;filename&gt;</span>)                     <span class="comment"># Saves the figure.</span></span><br><span class="line">pyplot.show()                                  <span class="comment"># Displays the figure.</span></span><br><span class="line">pyplot.clf()                                   <span class="comment"># Clears the figure.</span></span><br></pre></td></tr></table></figure>

<h2 id="Table"><a href="#Table" class="headerlink" title="Table"></a>Table</h2><h4 id="Prints-a-CSV-file-as-an-ASCII-table"><a href="#Prints-a-CSV-file-as-an-ASCII-table" class="headerlink" title="Prints a CSV file as an ASCII table:"></a>Prints a CSV file as an ASCII table:</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># $ pip3 install tabulate</span></span><br><span class="line">import csv, tabulate</span><br><span class="line"><span class="keyword">with</span> <span class="keyword">open</span>(<span class="string">'test.csv'</span>, <span class="keyword">encoding</span>=<span class="string">'utf-8'</span>, <span class="keyword">newline</span>=<span class="string">''</span>) <span class="keyword">as</span> <span class="keyword">file</span>:</span><br><span class="line">    <span class="keyword">rows</span>   = csv.reader(<span class="keyword">file</span>)</span><br><span class="line">    header = [a.title() <span class="keyword">for</span> a <span class="keyword">in</span> <span class="keyword">next</span>(<span class="keyword">rows</span>)]</span><br><span class="line">    <span class="keyword">table</span>  = tabulate.tabulate(<span class="keyword">rows</span>, header)</span><br><span class="line">    print(<span class="keyword">table</span>)</span><br></pre></td></tr></table></figure>

<h2 id="Curses"><a href="#Curses" class="headerlink" title="Curses"></a>Curses</h2><h4 id="Clears-the-terminal-prints-a-message-and-waits-for-an-ESC-key-press"><a href="#Clears-the-terminal-prints-a-message-and-waits-for-an-ESC-key-press" class="headerlink" title="Clears the terminal, prints a message and waits for an ESC key press:"></a>Clears the terminal, prints a message and waits for an ESC key press:</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> curses <span class="keyword">import</span> wrapper, curs_set, ascii</span><br><span class="line"><span class="keyword">from</span> curses <span class="keyword">import</span> KEY_UP, KEY_RIGHT, KEY_DOWN, KEY_LEFT</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    wrapper(draw)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">draw</span><span class="params">(screen)</span>:</span></span><br><span class="line">    curs_set(<span class="number">0</span>)                                <span class="comment"># Makes cursor invisible.</span></span><br><span class="line">    screen.nodelay(<span class="literal">True</span>)                       <span class="comment"># Makes getch() non-blocking.</span></span><br><span class="line">    screen.clear()</span><br><span class="line">    screen.addstr(<span class="number">0</span>, <span class="number">0</span>, <span class="string">'Press ESC to quit.'</span>)</span><br><span class="line">    <span class="keyword">while</span> screen.getch() != ascii.ESC:</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_border</span><span class="params">(screen)</span>:</span></span><br><span class="line">    <span class="keyword">from</span> collections <span class="keyword">import</span> namedtuple</span><br><span class="line">    P = namedtuple(<span class="string">'P'</span>, <span class="string">'x y'</span>)</span><br><span class="line">    height, width = screen.getmaxyx()</span><br><span class="line">    <span class="keyword">return</span> P(width - <span class="number">1</span>, height - <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>

<h2 id="Logging"><a href="#Logging" class="headerlink" title="Logging"></a>Logging</h2><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># $ pip3 install loguru</span><br><span class="line"><span class="keyword">from</span> loguru <span class="keyword">import</span> logger</span><br><span class="line">logger.<span class="keyword">add</span>(<span class="string">'debug_&#123;time&#125;.log'</span>, colorize=<span class="keyword">True</span>)  # Connects a <span class="keyword">log</span> file.</span><br><span class="line">logger.<span class="keyword">add</span>(<span class="string">'error_&#123;time&#125;.log'</span>, <span class="keyword">level</span>=<span class="string">'ERROR'</span>)  # Another file <span class="keyword">for</span> errors <span class="keyword">or</span> higher.</span><br><span class="line">logger.&lt;<span class="keyword">level</span>&gt;(<span class="string">'A logging message.'</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Levels: ‘debug’, ‘info’, ‘success’, ‘warning’, ‘error’, ‘critical’.</strong></li>
</ul>
<h3 id="Exceptions-2"><a href="#Exceptions-2" class="headerlink" title="Exceptions"></a>Exceptions</h3><p><strong>Exception description, stack trace and values of variables are appended automatically.</strong></p>
<figure class="highlight ocaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    ...</span><br><span class="line">except &lt;<span class="keyword">exception</span>&gt;:</span><br><span class="line">    logger.<span class="keyword">exception</span>(<span class="symbol">'An</span> error happened.<span class="string">')</span></span><br></pre></td></tr></table></figure>

<h3 id="Rotation"><a href="#Rotation" class="headerlink" title="Rotation"></a>Rotation</h3><p><strong>Argument that sets a condition when a new log file is created.</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rotation=<span class="tag">&lt;<span class="name">int</span>&gt;</span>|<span class="tag">&lt;<span class="name">datetime.timedelta</span>&gt;</span>|<span class="tag">&lt;<span class="name">datetime.time</span>&gt;</span>|<span class="tag">&lt;<span class="name">str</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>‘<int>‘ - Max file size in bytes.</int></strong></li>
<li><strong>‘<timedelta>‘ - Max age of a file.</timedelta></strong></li>
<li><strong>‘<time>‘ - Time of day.</time></strong></li>
<li><strong>‘<str>‘ - Any of above as a string: ‘100 MB’, ‘1 month’, ‘monday at 12:00’, …</str></strong></li>
</ul>
<h3 id="Retention"><a href="#Retention" class="headerlink" title="Retention"></a>Retention</h3><p><strong>Sets a condition which old log files get deleted.</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">retention=<span class="tag">&lt;<span class="name">int</span>&gt;</span>|<span class="tag">&lt;<span class="name">datetime.timedelta</span>&gt;</span>|<span class="tag">&lt;<span class="name">str</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>‘<int>‘ - Max number of files.</int></strong></li>
<li><strong>‘<timedelta>‘ - Max age of a file.</timedelta></strong></li>
<li><strong>‘<str>‘ - Max age as a string: ‘1 week, 3 days’, ‘2 months’, …</str></strong></li>
</ul>
<h2 id="Scraping"><a href="#Scraping" class="headerlink" title="Scraping"></a>Scraping</h2><h4 id="Scrapes-Python’s-URL-version-number-and-logo-from-Wikipedia-page"><a href="#Scrapes-Python’s-URL-version-number-and-logo-from-Wikipedia-page" class="headerlink" title="Scrapes Python’s URL, version number and logo from Wikipedia page:"></a>Scrapes Python’s URL, version number and logo from Wikipedia page:</h4><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># $ pip3 install requests beautifulsoup4</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line">from bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line">url   = <span class="string">'https://en.wikipedia.org/wiki/Python_(programming_language)'</span></span><br><span class="line">html  = requests.<span class="built_in">get</span>(url).<span class="built_in">text</span></span><br><span class="line">doc   = BeautifulSoup(html, <span class="string">'html.parser'</span>)</span><br><span class="line">table = doc.<span class="built_in">find</span>(<span class="string">'table'</span>, class_=<span class="string">'infobox vevent'</span>)</span><br><span class="line">rows  = table.find_all(<span class="string">'tr'</span>)</span><br><span class="line">link  = rows[<span class="number">11</span>].<span class="built_in">find</span>(<span class="string">'a'</span>)[<span class="string">'href'</span>]</span><br><span class="line">ver   = rows[<span class="number">6</span>].<span class="built_in">find</span>(<span class="string">'div'</span>).<span class="built_in">text</span>.split()[<span class="number">0</span>]</span><br><span class="line">url_i = rows[<span class="number">0</span>].<span class="built_in">find</span>(<span class="string">'img'</span>)[<span class="string">'src'</span>]</span><br><span class="line"><span class="built_in">image</span> = requests.<span class="built_in">get</span>(f<span class="string">'https:&#123;url_i&#125;'</span>).content</span><br><span class="line">with <span class="built_in">open</span>(<span class="string">'test.png'</span>, <span class="string">'wb'</span>) as file:</span><br><span class="line">    file.<span class="built_in">write</span>(<span class="built_in">image</span>)</span><br><span class="line"><span class="built_in">print</span>(link, ver)</span><br></pre></td></tr></table></figure>

<h2 id="Web"><a href="#Web" class="headerlink" title="Web"></a>Web</h2><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># $ pip3 install bottle</span></span><br><span class="line"><span class="title">from</span> bottle <span class="keyword">import</span> run, route, static_file, template, post, request, response</span><br><span class="line"><span class="keyword">import</span> json</span><br></pre></td></tr></table></figure>

<h3 id="Run"><a href="#Run" class="headerlink" title="Run"></a>Run</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="builtin-name">run</span>(<span class="attribute">host</span>=<span class="string">'localhost'</span>, <span class="attribute">port</span>=8080)</span><br><span class="line"><span class="builtin-name">run</span>(<span class="attribute">host</span>=<span class="string">'0.0.0.0'</span>, <span class="attribute">port</span>=80, <span class="attribute">server</span>=<span class="string">'cherrypy'</span>)</span><br></pre></td></tr></table></figure>

<h3 id="Static-Request"><a href="#Static-Request" class="headerlink" title="Static Request"></a>Static Request</h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">@route(<span class="string">'/img/&lt;image&gt;'</span>)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">send_image</span><span class="params">(image)</span></span><span class="symbol">:</span></span><br><span class="line">    <span class="keyword">return</span> static_file(image, <span class="string">'img_dir/'</span>, mimetype=<span class="string">'image/png'</span>)</span><br></pre></td></tr></table></figure>

<h3 id="Dynamic-Request"><a href="#Dynamic-Request" class="headerlink" title="Dynamic Request"></a>Dynamic Request</h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">@route(<span class="string">'/&lt;sport&gt;'</span>)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">send_page</span><span class="params">(sport)</span></span><span class="symbol">:</span></span><br><span class="line">    <span class="keyword">return</span> template(<span class="string">'&lt;h1&gt;&#123;&#123;title&#125;&#125;&lt;/h1&gt;'</span>, title=sport)</span><br></pre></td></tr></table></figure>

<h3 id="REST-Request"><a href="#REST-Request" class="headerlink" title="REST Request"></a>REST Request</h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">@post(<span class="string">'/odds/&lt;sport&gt;'</span>)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">odds_handler</span><span class="params">(sport)</span></span><span class="symbol">:</span></span><br><span class="line">    team = request.forms.get(<span class="string">'team'</span>)</span><br><span class="line">    home_odds, away_odds = <span class="number">2.44</span>, <span class="number">3.29</span></span><br><span class="line">    response.headers[<span class="string">'Content-Type'</span>] = <span class="string">'application/json'</span></span><br><span class="line">    response.headers[<span class="string">'Cache-Control'</span>] = <span class="string">'no-cache'</span></span><br><span class="line">    <span class="keyword">return</span> json.dumps([team, home_odds, away_odds])</span><br></pre></td></tr></table></figure>

<h4 id="Test"><a href="#Test" class="headerlink" title="Test:"></a>Test:</h4><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># $ pip3 install requests</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; import requests</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; url  = <span class="string">'http://localhost:8080/odds/football'</span></span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; data = &#123;<span class="string">'team'</span>: <span class="string">'arsenal f.c.'</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; response = requests.post(url, data=data)</span><br><span class="line"><span class="meta">&gt;&gt;</span>&gt; response.json()</span><br><span class="line">[<span class="string">'arsenal f.c.'</span>, <span class="number">2.44</span>, <span class="number">3.29</span>]</span><br></pre></td></tr></table></figure>

<h2 id="Profiling"><a href="#Profiling" class="headerlink" title="Profiling"></a>Profiling</h2><h3 id="Stopwatch"><a href="#Stopwatch" class="headerlink" title="Stopwatch"></a>Stopwatch</h3><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> <span class="built_in">time</span> import <span class="built_in">time</span></span><br><span class="line">start_time = <span class="built_in">time</span>()                     <span class="comment"># Seconds since the Epoch.</span></span><br><span class="line">...</span><br><span class="line">duration = <span class="built_in">time</span>() - start_time</span><br></pre></td></tr></table></figure>

<h4 id="High-performance"><a href="#High-performance" class="headerlink" title="High performance:"></a>High performance:</h4><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">from time import perf_counter</span><br><span class="line">start_time = perf_counter()             <span class="comment"># Seconds since restart.</span></span><br><span class="line">...</span><br><span class="line">duration = perf_counter() - start_time</span><br></pre></td></tr></table></figure>

<h3 id="Timing-a-Snippet"><a href="#Timing-a-Snippet" class="headerlink" title="Timing a Snippet"></a>Timing a Snippet</h3><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; from timeit import timeit</span><br><span class="line">&gt;&gt;&gt; timeit('<span class="string">"-"</span>.join(<span class="name">str</span>(<span class="name">a</span>) for a in range(<span class="number">100</span>))',</span><br><span class="line">...        number=10000, globals=globals(), setup='pass')</span><br><span class="line"><span class="number">0.34986</span></span><br></pre></td></tr></table></figure>

<h3 id="Profiling-by-Line"><a href="#Profiling-by-Line" class="headerlink" title="Profiling by Line"></a>Profiling by Line</h3><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"># $ pip3 install line_profiler memory_profiler</span><br><span class="line">@profile</span><br><span class="line">def main():</span><br><span class="line">    a = [*range(<span class="number">10000</span>)]</span><br><span class="line">    b = &#123;*range(<span class="number">10000</span>)&#125;</span><br><span class="line">main()</span><br><span class="line">$ kernprof -lv test.py</span><br><span class="line">Line #   Hits     Time  Per Hit   % Time  Line Contents</span><br><span class="line">=======================================================</span><br><span class="line">     <span class="number">1</span>                                    @profile</span><br><span class="line">     <span class="number">2</span>                                    def main():</span><br><span class="line">     <span class="number">3</span>      <span class="number">1</span>   <span class="number">1128.0</span>   <span class="number">1128.0</span>     <span class="number">27.4</span>      a = [*range(<span class="number">10000</span>)]</span><br><span class="line">     <span class="number">4</span>      <span class="number">1</span>   <span class="number">2994.0</span>   <span class="number">2994.0</span>     <span class="number">72.6</span>      b = &#123;*range(<span class="number">10000</span>)&#125;</span><br><span class="line">$ python3 -m memory_profiler test.py</span><br><span class="line">Line #         Mem usage      Increment   Line Contents</span><br><span class="line">=======================================================</span><br><span class="line">     <span class="number">1</span>        <span class="number">35.387</span> MiB     <span class="number">35.387</span> MiB   @profile</span><br><span class="line">     <span class="number">2</span>                                    def main():</span><br><span class="line">     <span class="number">3</span>        <span class="number">35.734</span> MiB      <span class="number">0.348</span> MiB       a = [*range(<span class="number">10000</span>)]</span><br><span class="line">     <span class="number">4</span>        <span class="number">36.160</span> MiB      <span class="number">0.426</span> MiB       b = &#123;*range(<span class="number">10000</span>)&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Call-Graph"><a href="#Call-Graph" class="headerlink" title="Call Graph"></a>Call Graph</h3><h4 id="Generates-a-PNG-image-of-a-call-graph-with-highlighted-bottlenecks"><a href="#Generates-a-PNG-image-of-a-call-graph-with-highlighted-bottlenecks" class="headerlink" title="Generates a PNG image of a call graph with highlighted bottlenecks:"></a>Generates a PNG image of a call graph with highlighted bottlenecks:</h4><figure class="highlight sas"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># $ pip3 install pycallgraph</span><br><span class="line"><span class="meta">from</span> pycallgraph import <span class="meta">output</span>, PyCallGraph</span><br><span class="line"><span class="meta">from</span> datetime import datetime</span><br><span class="line">time_str = datetime.now().str<span class="meta">ftime(</span><span class="string">'%Y%m%d%H%M%S'</span>)</span><br><span class="line"><span class="meta">filename</span> = f<span class="string">'profile-&#123;time_str&#125;.png'</span></span><br><span class="line">drawer = <span class="meta">output</span>.GraphvizOu<span class="meta">tput(</span>output_file=<span class="meta">filename</span>)</span><br><span class="line">with PyCallGraph(drawer):</span><br><span class="line">    &lt;code_to_be_profiled&gt;</span><br></pre></td></tr></table></figure>

<h2 id="NumPy"><a href="#NumPy" class="headerlink" title="NumPy"></a>NumPy</h2><p><strong>Array manipulation mini language. Can run up to one hundred times faster than equivalent Python code.</strong></p>
<figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># $ pip3 install numpy</span><br><span class="line">import numpy as <span class="built_in">np</span></span><br><span class="line">&lt;<span class="built_in">array</span>&gt; = <span class="built_in">np</span>.<span class="built_in">array</span>(&lt;list&gt;)</span><br><span class="line">&lt;<span class="built_in">array</span>&gt; = <span class="built_in">np</span>.arange(from_inclusive, to_exclusive, ±step_size)</span><br><span class="line">&lt;<span class="built_in">array</span>&gt; = <span class="built_in">np</span>.ones(&lt;shape&gt;)</span><br><span class="line">&lt;<span class="built_in">array</span>&gt; = <span class="built_in">np</span>.<span class="built_in">random</span>.randint(from_inclusive, to_exclusive, &lt;shape&gt;)</span><br><span class="line">&lt;<span class="built_in">array</span>&gt;.shape = &lt;shape&gt;</span><br><span class="line">&lt;<span class="built_in">view</span>&gt;  = &lt;<span class="built_in">array</span>&gt;.reshape(&lt;shape&gt;)</span><br><span class="line">&lt;<span class="built_in">view</span>&gt;  = <span class="built_in">np</span>.broadcast_to(&lt;<span class="built_in">array</span>&gt;, &lt;shape&gt;)</span><br><span class="line">&lt;<span class="built_in">array</span>&gt; = &lt;<span class="built_in">array</span>&gt;.<span class="built_in">sum</span>(axis)</span><br><span class="line">indexes = &lt;<span class="built_in">array</span>&gt;.argmin(axis)</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Shape is a tuple of dimension sizes.</strong></li>
<li><strong>Axis is an index of dimension that gets collapsed. Leftmost dimension has index 0.</strong></li>
</ul>
<h3 id="Indexing"><a href="#Indexing" class="headerlink" title="Indexing"></a>Indexing</h3><figure class="highlight fsharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;el&gt;       = &lt;<span class="number">2</span>d_array&gt;[<span class="number">0</span>, <span class="number">0</span>]        # First element.</span><br><span class="line">&lt;<span class="number">1</span>d_view&gt;  = &lt;<span class="number">2</span>d_array&gt;[<span class="number">0</span>]           # First row.</span><br><span class="line">&lt;<span class="number">1</span>d_view&gt;  = &lt;<span class="number">2</span>d_array&gt;[:, <span class="number">0</span>]        # First column. Also [..., <span class="number">0</span>].</span><br><span class="line">&lt;<span class="number">3</span>d_view&gt;  = &lt;<span class="number">2</span>d_array&gt;[None, :, :]  # Expanded by dimension <span class="keyword">of</span> size <span class="number">1.</span></span><br><span class="line">&lt;<span class="number">1</span>d_array&gt; = &lt;<span class="number">2</span>d_array&gt;<span class="meta">[&lt;1d_row_indexes&gt;, &lt;1d_column_indexes&gt;]</span></span><br><span class="line">&lt;<span class="number">2</span>d_array&gt; = &lt;<span class="number">2</span>d_array&gt;<span class="meta">[&lt;2d_row_indexes&gt;, &lt;2d_column_indexes&gt;]</span></span><br><span class="line">&lt;<span class="number">2</span>d_bools&gt; = &lt;<span class="number">2</span>d_array&gt; &gt; <span class="number">0</span></span><br><span class="line">&lt;<span class="number">1</span>d_array&gt; = &lt;<span class="number">2</span>d_array&gt;<span class="meta">[&lt;2d_bools&gt;]</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>If row and column indexes differ in shape, they are combined with broadcasting.</strong></li>
</ul>
<h3 id="Broadcasting"><a href="#Broadcasting" class="headerlink" title="Broadcasting"></a>Broadcasting</h3><p><strong>Broadcasting is a set of rules by which NumPy functions operate on arrays of different sizes and/or dimensions.</strong></p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">left  = [[<span class="number">0.1</span>], [<span class="number">0.6</span>], [<span class="number">0.8</span>]]  # Shape: (<span class="number">3</span>, <span class="number">1</span>)</span><br><span class="line">right = [ <span class="number">0.1</span> ,  <span class="number">0.6</span> ,  <span class="number">0.8</span> ]  # Shape: (<span class="number">3</span>)</span><br></pre></td></tr></table></figure>

<h4 id="1-If-array-shapes-differ-in-length-left-pad-the-shorter-shape-with-ones"><a href="#1-If-array-shapes-differ-in-length-left-pad-the-shorter-shape-with-ones" class="headerlink" title="1. If array shapes differ in length, left-pad the shorter shape with ones:"></a>1. If array shapes differ in length, left-pad the shorter shape with ones:</h4><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">left  = [[<span class="number">0.1</span>], [<span class="number">0.6</span>], [<span class="number">0.8</span>]]  # Shape: (<span class="number">3</span>, <span class="number">1</span>)</span><br><span class="line">right = [[<span class="number">0.1</span> ,  <span class="number">0.6</span> ,  <span class="number">0.8</span>]]  # Shape: (<span class="number">1</span>, <span class="number">3</span>) &lt;- !</span><br></pre></td></tr></table></figure>

<h4 id="2-If-any-dimensions-differ-in-size-expand-the-ones-that-have-size-1-by-duplicating-their-elements"><a href="#2-If-any-dimensions-differ-in-size-expand-the-ones-that-have-size-1-by-duplicating-their-elements" class="headerlink" title="2. If any dimensions differ in size, expand the ones that have size 1 by duplicating their elements:"></a>2. If any dimensions differ in size, expand the ones that have size 1 by duplicating their elements:</h4><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">left  = [[<span class="number">0.1</span>, <span class="number">0.1</span>, <span class="number">0.1</span>], [<span class="number">0.6</span>, <span class="number">0.6</span>, <span class="number">0.6</span>], [<span class="number">0.8</span>, <span class="number">0.8</span>, <span class="number">0.8</span>]]  # Shape: (<span class="number">3</span>, <span class="number">3</span>) &lt;- !</span><br><span class="line">right = [[<span class="number">0.1</span>, <span class="number">0.6</span>, <span class="number">0.8</span>], [<span class="number">0.1</span>, <span class="number">0.6</span>, <span class="number">0.8</span>], [<span class="number">0.1</span>, <span class="number">0.6</span>, <span class="number">0.8</span>]]  # Shape: (<span class="number">3</span>, <span class="number">3</span>) &lt;- !</span><br></pre></td></tr></table></figure>

<h4 id="3-If-neither-non-matching-dimension-has-size-1-rise-an-error"><a href="#3-If-neither-non-matching-dimension-has-size-1-rise-an-error" class="headerlink" title="3. If neither non-matching dimension has size 1, rise an error."></a>3. If neither non-matching dimension has size 1, rise an error.</h4><h3 id="Example-2"><a href="#Example-2" class="headerlink" title="Example"></a>Example</h3><h4 id="For-each-point-returns-index-of-its-nearest-point-0-1-0-6-0-8-gt-1-2-1"><a href="#For-each-point-returns-index-of-its-nearest-point-0-1-0-6-0-8-gt-1-2-1" class="headerlink" title="For each point returns index of its nearest point ([0.1, 0.6, 0.8] =&gt; [1, 2, 1]):"></a>For each point returns index of its nearest point (<code>[0.1, 0.6, 0.8] =&gt; [1, 2, 1]</code>):</h4><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; points = np.<span class="built_in">array</span>([<span class="number">0.1</span>, <span class="number">0.6</span>, <span class="number">0.8</span>])</span><br><span class="line">[ <span class="number">0.1</span>,  <span class="number">0.6</span>,  <span class="number">0.8</span>]</span><br><span class="line">&gt;&gt;&gt; wrapped_points = points.reshape(<span class="number">3</span>, <span class="number">1</span>)</span><br><span class="line">[[ <span class="number">0.1</span>],</span><br><span class="line"> [ <span class="number">0.6</span>],</span><br><span class="line"> [ <span class="number">0.8</span>]]</span><br><span class="line">&gt;&gt;&gt; distances = wrapped_points - points</span><br><span class="line">[[ <span class="number">0.</span> , <span class="number">-0.5</span>, <span class="number">-0.7</span>],</span><br><span class="line"> [ <span class="number">0.5</span>,  <span class="number">0.</span> , <span class="number">-0.2</span>],</span><br><span class="line"> [ <span class="number">0.7</span>,  <span class="number">0.2</span>,  <span class="number">0.</span> ]]</span><br><span class="line">&gt;&gt;&gt; distances = np.abs(distances)</span><br><span class="line">[[ <span class="number">0.</span> ,  <span class="number">0.5</span>,  <span class="number">0.7</span>],</span><br><span class="line"> [ <span class="number">0.5</span>,  <span class="number">0.</span> ,  <span class="number">0.2</span>],</span><br><span class="line"> [ <span class="number">0.7</span>,  <span class="number">0.2</span>,  <span class="number">0.</span> ]]</span><br><span class="line">&gt;&gt;&gt; i = np.arange(<span class="number">3</span>)</span><br><span class="line">[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line">&gt;&gt;&gt; distances[i, i] = np.inf</span><br><span class="line">[[ inf,  <span class="number">0.5</span>,  <span class="number">0.7</span>],</span><br><span class="line"> [ <span class="number">0.5</span>,  inf,  <span class="number">0.2</span>],</span><br><span class="line"> [ <span class="number">0.7</span>,  <span class="number">0.2</span>,  inf]]</span><br><span class="line">&gt;&gt;&gt; distances.argmin(<span class="number">1</span>)</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>]</span><br></pre></td></tr></table></figure>

<h2 id="Image"><a href="#Image" class="headerlink" title="Image"></a>Image</h2><figure class="highlight pf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># $ pip3 install pillow</span></span><br><span class="line"><span class="keyword">from</span> PIL import Image</span><br><span class="line"><span class="variable">&lt;Image&gt;</span> = Image.new('<span class="variable">&lt;mode&gt;</span>', (width, height))</span><br><span class="line"><span class="variable">&lt;Image&gt;</span> = Image.open('<span class="variable">&lt;path&gt;</span>')</span><br><span class="line"><span class="variable">&lt;Image&gt;</span> = <span class="variable">&lt;Image&gt;</span>.convert('<span class="variable">&lt;mode&gt;</span>')</span><br><span class="line"><span class="variable">&lt;Image&gt;</span>.save('<span class="variable">&lt;path&gt;</span>')</span><br><span class="line"><span class="variable">&lt;Image&gt;</span>.show()</span><br><span class="line"><span class="variable">&lt;tuple/int&gt;</span> = <span class="variable">&lt;Image&gt;</span>.getpixel((x, y))          <span class="comment"># Returns a pixel.</span></span><br><span class="line"><span class="variable">&lt;Image&gt;</span>.putpixel((x, y), <span class="variable">&lt;tuple/int&gt;</span>)           <span class="comment"># Writes a pixel to image.</span></span><br><span class="line"><span class="variable">&lt;ImagingCore&gt;</span> = <span class="variable">&lt;Image&gt;</span>.getdata()               <span class="comment"># Returns a sequence of pixels.</span></span><br><span class="line"><span class="variable">&lt;Image&gt;</span>.putdata(<span class="variable">&lt;list/ImagingCore&gt;</span>)             <span class="comment"># Writes a sequence of pixels.</span></span><br><span class="line"><span class="variable">&lt;Image&gt;</span>.paste(<span class="variable">&lt;Image&gt;</span>, (x, y))                  <span class="comment"># Writes an image to image.</span></span><br><span class="line"><span class="variable">&lt;2d_array&gt;</span> = np.array(<span class="variable">&lt;Image&gt;</span>)                  <span class="comment"># NumPy array from greyscale image.</span></span><br><span class="line"><span class="variable">&lt;3d_array&gt;</span> = np.array(<span class="variable">&lt;Image&gt;</span>)                  <span class="comment"># NumPy array from color image.</span></span><br><span class="line"><span class="variable">&lt;Image&gt;</span>    = Image.fromarray(<span class="variable">&lt;array&gt;</span>)           <span class="comment"># Image from NumPy array.</span></span><br></pre></td></tr></table></figure>

<h3 id="Modes-1"><a href="#Modes-1" class="headerlink" title="Modes"></a>Modes</h3><ul>
<li><strong>‘1’ - 1-bit pixels, black and white, stored with one pixel per byte.</strong></li>
<li><strong>‘L’ - 8-bit pixels, greyscale.</strong></li>
<li><strong>‘RGB’ - 3x8-bit pixels, true color.</strong></li>
<li><strong>‘RGBA’ - 4x8-bit pixels, true color with transparency mask.</strong></li>
<li><strong>‘HSV’ - 3x8-bit pixels, Hue, Saturation, Value color space.</strong></li>
</ul>
<h3 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a>Examples</h3><h4 id="Creates-a-PNG-image-of-a-rainbow-gradient"><a href="#Creates-a-PNG-image-of-a-rainbow-gradient" class="headerlink" title="Creates a PNG image of a rainbow gradient:"></a>Creates a PNG image of a rainbow gradient:</h4><figure class="highlight vhdl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">WIDTH</span>, HEIGHT = <span class="number">100</span>, <span class="number">100</span></span><br><span class="line">size = <span class="literal">WIDTH</span> * HEIGHT</span><br><span class="line">hues = [<span class="number">255</span> * i/size <span class="keyword">for</span> i <span class="keyword">in</span> <span class="keyword">range</span>(size)]</span><br><span class="line">img = Image.<span class="keyword">new</span>(<span class="symbol">'HSV</span>', (<span class="literal">WIDTH</span>, HEIGHT))</span><br><span class="line">img.putdata([(int(h), <span class="number">255</span>, <span class="number">255</span>) <span class="keyword">for</span> h <span class="keyword">in</span> hues])</span><br><span class="line">img.convert(<span class="symbol">'RGB</span>').save(<span class="symbol">'test</span>.png')</span><br></pre></td></tr></table></figure>

<h4 id="Adds-noise-to-a-PNG-image"><a href="#Adds-noise-to-a-PNG-image" class="headerlink" title="Adds noise to a PNG image:"></a>Adds noise to a PNG image:</h4><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">from</span> <span class="built_in">random</span> import randint</span><br><span class="line">add_noise = lambda <span class="built_in">value</span>: <span class="built_in">max</span>(<span class="number">0</span>, <span class="built_in">min</span>(<span class="number">255</span>, <span class="built_in">value</span> + randint(<span class="number">-20</span>, <span class="number">20</span>)))</span><br><span class="line">img = Image.<span class="built_in">open</span>(<span class="string">'test.png'</span>).<span class="built_in">convert</span>(<span class="string">'HSV'</span>)</span><br><span class="line">img.putdata([(add_noise(h), s, v) <span class="keyword">for</span> h, s, v <span class="keyword">in</span> img.getdata()])</span><br><span class="line">img.<span class="built_in">convert</span>(<span class="string">'RGB'</span>).save(<span class="string">'test.png'</span>)</span><br></pre></td></tr></table></figure>

<h3 id="ImageDraw"><a href="#ImageDraw" class="headerlink" title="ImageDraw"></a>ImageDraw</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PIL import ImageDraw</span><br><span class="line">&lt;ImageDraw&gt; = ImageDraw.Draw(&lt;Image&gt;)</span><br><span class="line">&lt;ImageDraw&gt;.point((x, y), <span class="attribute">fill</span>=None)</span><br><span class="line">&lt;ImageDraw&gt;.line((x1, y1, x2, y2 [, <span class="built_in">..</span>.]), <span class="attribute">fill</span>=None, <span class="attribute">width</span>=0, <span class="attribute">joint</span>=None) </span><br><span class="line">&lt;ImageDraw&gt;.arc((x1, y1, x2, y2), from_deg, to_deg, <span class="attribute">fill</span>=None, <span class="attribute">width</span>=0)</span><br><span class="line">&lt;ImageDraw&gt;.rectangle((x1, y1, x2, y2), <span class="attribute">fill</span>=None, <span class="attribute">outline</span>=None, <span class="attribute">width</span>=0)</span><br><span class="line">&lt;ImageDraw&gt;.polygon((x1, y1, x2, y2 [, <span class="built_in">..</span>.]), <span class="attribute">fill</span>=None, <span class="attribute">outline</span>=None)</span><br><span class="line">&lt;ImageDraw&gt;.ellipse((x1, y1, x2, y2), <span class="attribute">fill</span>=None, <span class="attribute">outline</span>=None, <span class="attribute">width</span>=0)</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Use ‘fill=<color>‘ to set the primary color.</color></strong></li>
<li><strong>Use ‘outline=<color>‘ to set the secondary color.</color></strong></li>
<li><strong>Color can be specified as a tuple, int, ‘#rrggbb’ string or a color name.</strong></li>
</ul>
<h2 id="Animation"><a href="#Animation" class="headerlink" title="Animation"></a>Animation</h2><h4 id="Creates-a-GIF-of-a-bouncing-ball"><a href="#Creates-a-GIF-of-a-bouncing-ball" class="headerlink" title="Creates a GIF of a bouncing ball:"></a>Creates a GIF of a bouncing ball:</h4><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># $ pip3 install pillow imageio</span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image, ImageDraw</span><br><span class="line"><span class="keyword">import</span> imageio</span><br><span class="line">WIDTH, R = <span class="number">126</span>, <span class="number">10</span></span><br><span class="line">frames = []</span><br><span class="line"><span class="keyword">for</span> velocity <span class="keyword">in</span> range(<span class="number">15</span>):</span><br><span class="line">    y = sum(range(velocity+<span class="number">1</span>))</span><br><span class="line">    frame = Image.new(<span class="string">'L'</span>, (WIDTH, WIDTH))</span><br><span class="line">    draw  = ImageDraw.Draw(frame)</span><br><span class="line">    draw.ellipse((WIDTH/<span class="number">2</span>-R, y, WIDTH/<span class="number">2</span>+R, y+<span class="number">2</span>*R), fill=<span class="string">'white'</span>)</span><br><span class="line">    frames.append(frame)</span><br><span class="line">frames += reversed(frames[<span class="number">1</span>:<span class="number">-1</span>])</span><br><span class="line">imageio.mimsave(<span class="string">'test.gif'</span>, frames, duration=<span class="number">0.03</span>)</span><br></pre></td></tr></table></figure>

<h2 id="Audio"><a href="#Audio" class="headerlink" title="Audio"></a>Audio</h2><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">import wave</span><br><span class="line"><span class="symbol">&lt;Wave_read&gt;</span>  = wave.<span class="keyword">open</span>(<span class="string">'&lt;path&gt;'</span>, <span class="string">'rb'</span>)</span><br><span class="line">framerate    = <span class="symbol">&lt;Wave_read&gt;</span>.getframerate()       # Number of frames per second.</span><br><span class="line">nchannels    = <span class="symbol">&lt;Wave_read&gt;</span>.getnchannels()       # Number of samples per frame.</span><br><span class="line">sampwidth    = <span class="symbol">&lt;Wave_read&gt;</span>.getsampwidth()       # Sample size in bytes.</span><br><span class="line">nframes      = <span class="symbol">&lt;Wave_read&gt;</span>.getnframes()         # Number of frames.</span><br><span class="line"><span class="symbol">&lt;bytes&gt;</span>      = <span class="symbol">&lt;Wave_read&gt;</span>.readframes(nframes)  # Returns <span class="keyword">next</span> <span class="string">'nframes'</span> frames.</span><br><span class="line"><span class="symbol">&lt;Wave_write&gt;</span> = wave.<span class="keyword">open</span>(<span class="string">'&lt;path&gt;'</span>, <span class="string">'wb'</span>)</span><br><span class="line"><span class="symbol">&lt;Wave_write&gt;</span>.setframerate(<span class="symbol">&lt;int&gt;</span>)                # <span class="number">44100</span> <span class="keyword">for</span> CD, <span class="number">48000</span> <span class="keyword">for</span> video.</span><br><span class="line"><span class="symbol">&lt;Wave_write&gt;</span>.setnchannels(<span class="symbol">&lt;int&gt;</span>)                # <span class="number">1</span> <span class="keyword">for</span> mono, <span class="number">2</span> <span class="keyword">for</span> stereo.</span><br><span class="line"><span class="symbol">&lt;Wave_write&gt;</span>.setsampwidth(<span class="symbol">&lt;int&gt;</span>)                # <span class="number">2</span> <span class="keyword">for</span> CD quality sound.</span><br><span class="line"><span class="symbol">&lt;Wave_write&gt;</span>.writeframes(<span class="symbol">&lt;bytes&gt;</span>)               # Appends frames <span class="keyword">to</span> <span class="keyword">file</span>.</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Bytes object contains a sequence of frames, each consisting of one or more samples.</strong></li>
<li><strong>In stereo signal first sample of a frame belongs to the left channel.</strong></li>
<li><strong>Each sample consists of one or more bytes that, when converted to an integer, indicate the displacement of a speaker membrane at a given moment.</strong></li>
<li><strong>If sample width is one, then the integer should be encoded unsigned.</strong></li>
<li><strong>For all other sizes the integer should be encoded signed with little-endian byte order.</strong></li>
</ul>
<h3 id="Sample-Values"><a href="#Sample-Values" class="headerlink" title="Sample Values"></a>Sample Values</h3><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">+-----------+-------------+------+-------------+</span><br><span class="line">|<span class="string"> sampwidth </span>|<span class="string">     min     </span>|<span class="string"> zero </span>|<span class="string">     max     </span>|</span><br><span class="line">+-----------+-------------+------+-------------+</span><br><span class="line">|<span class="string">     1     </span>|<span class="string">           0 </span>|<span class="string">  128 </span>|<span class="string">         255 </span>|</span><br><span class="line">|<span class="string">     2     </span>|<span class="string">      -32768 </span>|<span class="string">    0 </span>|<span class="string">       32767 </span>|</span><br><span class="line">|<span class="string">     3     </span>|<span class="string">    -8388608 </span>|<span class="string">    0 </span>|<span class="string">     8388607 </span>|</span><br><span class="line">|<span class="string">     4     </span>|<span class="string"> -2147483648 </span>|<span class="string">    0 </span>|<span class="string">  2147483647 </span>|</span><br><span class="line">+-----------+-------------+------+-------------+</span><br></pre></td></tr></table></figure>

<h3 id="Read-Float-Samples-from-WAV-File"><a href="#Read-Float-Samples-from-WAV-File" class="headerlink" title="Read Float Samples from WAV File"></a>Read Float Samples from WAV File</h3><figure class="highlight vhdl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">def read_wav_file(filename):</span><br><span class="line">    def get_int(a_bytes):</span><br><span class="line">        an_int = int.from_bytes(a_bytes, <span class="symbol">'little</span>', <span class="built_in">signed</span>=<span class="literal">width</span>!=<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> an_int - <span class="number">128</span> * (<span class="literal">width</span> == <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">with</span> wave.<span class="keyword">open</span>(filename, <span class="symbol">'rb</span>') as <span class="keyword">file</span>:</span><br><span class="line">        <span class="literal">width</span>  = <span class="keyword">file</span>.getsampwidth()</span><br><span class="line">        frames = <span class="keyword">file</span>.readframes(<span class="keyword">file</span>.getnframes())</span><br><span class="line">    byte_samples = (frames[i: i + <span class="literal">width</span>] <span class="keyword">for</span> i <span class="keyword">in</span> <span class="keyword">range</span>(<span class="number">0</span>, len(frames), <span class="literal">width</span>))</span><br><span class="line">    <span class="keyword">return</span> [get_int(b) / pow(<span class="number">2</span>, <span class="literal">width</span> * <span class="number">8</span> - <span class="number">1</span>) <span class="keyword">for</span> b <span class="keyword">in</span> byte_samples]</span><br></pre></td></tr></table></figure>

<h3 id="Write-Float-Samples-to-WAV-File"><a href="#Write-Float-Samples-to-WAV-File" class="headerlink" title="Write Float Samples to WAV File"></a>Write Float Samples to WAV File</h3><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">def write_to_wav_file(filename, <span class="built_in">float</span>_samples, nchannels=<span class="number">1</span>, sampwidth=<span class="number">2</span>, framerate=<span class="number">44100</span>):</span><br><span class="line">    def get_bytes(a_float):</span><br><span class="line">        a_float = max(<span class="number">-1</span>, min(<span class="number">1</span> - <span class="number">2e-16</span>, a_float))</span><br><span class="line">        a_float += sampwidth == <span class="number">1</span></span><br><span class="line">        a_float *= pow(<span class="number">2</span>, sampwidth * <span class="number">8</span> - <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">int</span>(a_float).to_bytes(sampwidth, <span class="string">'little'</span>, signed=sampwidth!=<span class="number">1</span>) </span><br><span class="line">    with wave.open(filename, <span class="string">'wb'</span>) as file:</span><br><span class="line">        file.setnchannels(nchannels)</span><br><span class="line">        file.setsampwidth(sampwidth)</span><br><span class="line">        file.setframerate(framerate)</span><br><span class="line">        file.writeframes(b<span class="string">''</span>.join(get_bytes(f) <span class="keyword">for</span> f <span class="keyword">in</span> <span class="built_in">float</span>_samples))</span><br></pre></td></tr></table></figure>

<h3 id="Examples-1"><a href="#Examples-1" class="headerlink" title="Examples"></a>Examples</h3><h4 id="Saves-a-sine-wave-to-a-mono-WAV-file"><a href="#Saves-a-sine-wave-to-a-mono-WAV-file" class="headerlink" title="Saves a sine wave to a mono WAV file:"></a>Saves a sine wave to a mono WAV file:</h4><figure class="highlight xl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">from math <span class="keyword">import</span> <span class="built_in">pi</span>, <span class="built_in">sin</span></span><br><span class="line">samples_f = (<span class="built_in">sin</span>(i * <span class="number">2</span> * <span class="built_in">pi</span> * <span class="number">440</span> / <span class="number">44100</span>) <span class="keyword">for</span> i <span class="built_in">in</span> range(<span class="number">100000</span>))</span><br><span class="line">write_to_wav_file(<span class="string">'test.wav'</span>, samples_f)</span><br></pre></td></tr></table></figure>

<h4 id="Adds-noise-to-a-mono-WAV-file"><a href="#Adds-noise-to-a-mono-WAV-file" class="headerlink" title="Adds noise to a mono WAV file:"></a>Adds noise to a mono WAV file:</h4><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">from</span> <span class="built_in">random</span> import <span class="built_in">random</span></span><br><span class="line">add_noise = lambda <span class="built_in">value</span>: <span class="built_in">value</span> + (<span class="built_in">random</span>() - <span class="number">0.5</span>) * <span class="number">0.03</span></span><br><span class="line">samples_f = (add_noise(f) <span class="keyword">for</span> f <span class="keyword">in</span> read_wav_file(<span class="string">'test.wav'</span>))</span><br><span class="line">write_to_wav_file(<span class="string">'test.wav'</span>, samples_f)</span><br></pre></td></tr></table></figure>

<h2 id="Synthesizer"><a href="#Synthesizer" class="headerlink" title="Synthesizer"></a>Synthesizer</h2><h4 id="Plays-Popcorn-by-Gershon-Kingsley"><a href="#Plays-Popcorn-by-Gershon-Kingsley" class="headerlink" title="Plays Popcorn by Gershon Kingsley:"></a>Plays Popcorn by Gershon Kingsley:</h4><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># $ pip3 install simpleaudio</span><br><span class="line"><span class="keyword">import</span> simpleaudio, math, struct</span><br><span class="line"><span class="keyword">from</span> itertools <span class="keyword">import</span> chain, repeat</span><br><span class="line">F  = <span class="number">44100</span></span><br><span class="line">P1 = <span class="string">'71♪,69,,71♪,66,,62♪,66,,59♪,,,'</span></span><br><span class="line">P2 = <span class="string">'71♪,73,,74♪,73,,74,,71,,73♪,71,,73,,69,,71♪,69,,71,,67,,71♪,,,'</span></span><br><span class="line">get_pause   = lambda seconds: repeat(<span class="number">0</span>, <span class="built_in">int</span>(seconds * F))</span><br><span class="line">sin_f       = lambda i, hz: math.sin(i * <span class="number">2</span> * math.pi * hz / F)</span><br><span class="line">get_wave    = lambda hz, seconds: (sin_f(i, hz) <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="built_in">int</span>(seconds * F)))</span><br><span class="line">get_hz      = lambda key: <span class="number">8.176</span> * <span class="number">2</span> ** (<span class="built_in">int</span>(key) / <span class="number">12</span>)</span><br><span class="line">parse_note  = lambda note: (get_hz(note[:<span class="number">2</span>]), <span class="number">0.25</span> <span class="keyword">if</span> <span class="string">'♪'</span> <span class="keyword">in</span> note <span class="keyword">else</span> <span class="number">0.125</span>)</span><br><span class="line">get_samples = lambda note: get_wave(*parse_note(note)) <span class="keyword">if</span> note <span class="keyword">else</span> get_pause(<span class="number">0.125</span>)</span><br><span class="line">samples_f   = chain.from_iterable(get_samples(n) <span class="keyword">for</span> n <span class="keyword">in</span> f<span class="string">'&#123;P1&#125;&#123;P1&#125;&#123;P2&#125;'</span>.split(<span class="string">','</span>))</span><br><span class="line">samples_b   = b<span class="string">''</span>.join(struct.pack(<span class="string">'&lt;h'</span>, <span class="built_in">int</span>(f * <span class="number">30000</span>)) <span class="keyword">for</span> f <span class="keyword">in</span> samples_f)</span><br><span class="line">simpleaudio.play_buffer(samples_b, <span class="number">1</span>, <span class="number">2</span>, F)</span><br></pre></td></tr></table></figure>

<h2 id="Basic-Script-Template"><a href="#Basic-Script-Template" class="headerlink" title="Basic Script Template"></a>Basic Script Template</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Usage: .py</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> namedtuple</span><br><span class="line"><span class="keyword">from</span> dataclasses <span class="keyword">import</span> make_dataclass</span><br><span class="line"><span class="keyword">from</span> enum <span class="keyword">import</span> Enum</span><br><span class="line"><span class="keyword">from</span> sys <span class="keyword">import</span> argv</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">###</span></span><br><span class="line"><span class="comment">##  UTIL</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">read_file</span><span class="params">(filename)</span>:</span></span><br><span class="line">    <span class="keyword">with</span> open(filename, encoding=<span class="string">'utf-8'</span>) <span class="keyword">as</span> file:</span><br><span class="line">        <span class="keyword">return</span> file.readlines()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/python/" rel="tag"># python</a>
          
        </div>
      

      
      
        <div class="post-widgets">
        

        

        
          
          <div id="needsharebutton-postbottom">
            <span class="btn">
              <i class="fa fa-share-alt" aria-hidden="true"></i>
            </span>
          </div>
        
        </div>
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/10/15/Hive-SQL-编译过程/" rel="next" title="Hive SQL 编译过程">
                <i class="fa fa-chevron-left"></i> Hive SQL 编译过程
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/10/28/Nonviolent-Communication/" rel="prev" title="Nonviolent Communication">
                Nonviolent Communication <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      
		
		
      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">snail json</p>
              <p class="site-description motion-element" itemprop="description">您心底所憧憬的事物，一定在某个维度发生</p>
          </div>
		<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="//music.163.com/outchain/player?type=2&id=483937795&auto=0&height=66"></iframe>
          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">23</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">10</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">18</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/snailfrying" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:snailfrying@gmail.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://plus.google.com/snailfrying" target="_blank" title="Google">
                      
                        <i class="fa fa-fw fa-google"></i>Google</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://www.zhihu.com/people/gua-niu-hui-fei-37/activities" target="_blank" title="知乎">
                      
                        <i class="fa fa-fw fa-raindrops"></i>知乎</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Contents"><span class="nav-number">1.</span> <span class="nav-text">Contents</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Main"><span class="nav-number">2.</span> <span class="nav-text">Main</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#List"><span class="nav-number">3.</span> <span class="nav-text">List</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Dictionary"><span class="nav-number">4.</span> <span class="nav-text">Dictionary</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Counter"><span class="nav-number">4.1.</span> <span class="nav-text">Counter</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Set"><span class="nav-number">5.</span> <span class="nav-text">Set</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Frozen-Set"><span class="nav-number">5.1.</span> <span class="nav-text">Frozen Set</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Tuple"><span class="nav-number">6.</span> <span class="nav-text">Tuple</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Named-Tuple"><span class="nav-number">6.1.</span> <span class="nav-text">Named Tuple</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Range"><span class="nav-number">7.</span> <span class="nav-text">Range</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Enumerate"><span class="nav-number">8.</span> <span class="nav-text">Enumerate</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Iterator"><span class="nav-number">9.</span> <span class="nav-text">Iterator</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Itertools"><span class="nav-number">9.1.</span> <span class="nav-text">Itertools</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Generator"><span class="nav-number">10.</span> <span class="nav-text">Generator</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Type"><span class="nav-number">11.</span> <span class="nav-text">Type</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Some-types-do-not-have-built-in-names-so-they-must-be-imported"><span class="nav-number">11.0.1.</span> <span class="nav-text">Some types do not have built-in names, so they must be imported:</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ABC"><span class="nav-number">11.1.</span> <span class="nav-text">ABC</span></a></li></ol><li class="nav-item nav-level-2"><a class="nav-link" href="#String"><span class="nav-number">12.</span> <span class="nav-text">String</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Char"><span class="nav-number">12.1.</span> <span class="nav-text">Char</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Regex"><span class="nav-number">13.</span> <span class="nav-text">Regex</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Match-Object"><span class="nav-number">13.1.</span> <span class="nav-text">Match Object</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Special-Sequences"><span class="nav-number">13.2.</span> <span class="nav-text">Special Sequences</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Format"><span class="nav-number">14.</span> <span class="nav-text">Format</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Attributes"><span class="nav-number">14.1.</span> <span class="nav-text">Attributes</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#General-Options"><span class="nav-number">14.2.</span> <span class="nav-text">General Options</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Strings"><span class="nav-number">14.3.</span> <span class="nav-text">Strings</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Numbers"><span class="nav-number">14.4.</span> <span class="nav-text">Numbers</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Floats"><span class="nav-number">14.5.</span> <span class="nav-text">Floats</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Comparison-of-float-presentation-types"><span class="nav-number">14.5.1.</span> <span class="nav-text">Comparison of float presentation types:</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Ints"><span class="nav-number">14.6.</span> <span class="nav-text">Ints</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Numbers-1"><span class="nav-number">15.</span> <span class="nav-text">Numbers</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Types"><span class="nav-number">15.1.</span> <span class="nav-text">Types</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Basic-Functions"><span class="nav-number">15.2.</span> <span class="nav-text">Basic Functions</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Math"><span class="nav-number">15.3.</span> <span class="nav-text">Math</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Statistics"><span class="nav-number">15.4.</span> <span class="nav-text">Statistics</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Random"><span class="nav-number">15.5.</span> <span class="nav-text">Random</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Bin-Hex"><span class="nav-number">15.6.</span> <span class="nav-text">Bin, Hex</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Bitwise-Operators"><span class="nav-number">15.7.</span> <span class="nav-text">Bitwise Operators</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Combinatorics"><span class="nav-number">16.</span> <span class="nav-text">Combinatorics</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Datetime"><span class="nav-number">17.</span> <span class="nav-text">Datetime</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Constructors"><span class="nav-number">17.1.</span> <span class="nav-text">Constructors</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Now"><span class="nav-number">17.2.</span> <span class="nav-text">Now</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Timezone"><span class="nav-number">17.3.</span> <span class="nav-text">Timezone</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Encode"><span class="nav-number">17.4.</span> <span class="nav-text">Encode</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Decode"><span class="nav-number">17.5.</span> <span class="nav-text">Decode</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Format-1"><span class="nav-number">17.6.</span> <span class="nav-text">Format</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Arithmetics"><span class="nav-number">17.7.</span> <span class="nav-text">Arithmetics</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Arguments"><span class="nav-number">18.</span> <span class="nav-text">Arguments</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Inside-Function-Call"><span class="nav-number">18.1.</span> <span class="nav-text">Inside Function Call</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Inside-Function-Definition"><span class="nav-number">18.2.</span> <span class="nav-text">Inside Function Definition</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Splat-Operator"><span class="nav-number">19.</span> <span class="nav-text">Splat Operator</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Inside-Function-Call-1"><span class="nav-number">19.1.</span> <span class="nav-text">Inside Function Call</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Is-the-same-as"><span class="nav-number">19.1.1.</span> <span class="nav-text">Is the same as:</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Inside-Function-Definition-1"><span class="nav-number">19.2.</span> <span class="nav-text">Inside Function Definition</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Legal-argument-combinations"><span class="nav-number">19.2.1.</span> <span class="nav-text">Legal argument combinations:</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Other-Uses"><span class="nav-number">19.3.</span> <span class="nav-text">Other Uses</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Inline"><span class="nav-number">20.</span> <span class="nav-text">Inline</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Lambda"><span class="nav-number">20.1.</span> <span class="nav-text">Lambda</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Comprehension"><span class="nav-number">20.2.</span> <span class="nav-text">Comprehension</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Is-the-same-as-1"><span class="nav-number">20.2.1.</span> <span class="nav-text">Is the same as:</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Map-Filter-Reduce"><span class="nav-number">20.3.</span> <span class="nav-text">Map, Filter, Reduce</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Any-All"><span class="nav-number">20.4.</span> <span class="nav-text">Any, All</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#If-Else"><span class="nav-number">20.5.</span> <span class="nav-text">If - Else</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Namedtuple-Enum-Dataclass"><span class="nav-number">20.6.</span> <span class="nav-text">Namedtuple, Enum, Dataclass</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Closure"><span class="nav-number">21.</span> <span class="nav-text">Closure</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Partial"><span class="nav-number">21.1.</span> <span class="nav-text">Partial</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Nonlocal"><span class="nav-number">21.2.</span> <span class="nav-text">Nonlocal</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Decorator"><span class="nav-number">22.</span> <span class="nav-text">Decorator</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Debugger-Example"><span class="nav-number">22.1.</span> <span class="nav-text">Debugger Example</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#LRU-Cache"><span class="nav-number">22.2.</span> <span class="nav-text">LRU Cache</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Parametrized-Decorator"><span class="nav-number">22.3.</span> <span class="nav-text">Parametrized Decorator</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Class"><span class="nav-number">23.</span> <span class="nav-text">Class</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Str-use-cases"><span class="nav-number">23.0.1.</span> <span class="nav-text">Str() use cases:</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Repr-use-cases"><span class="nav-number">23.0.2.</span> <span class="nav-text">Repr() use cases:</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Constructor-Overloading"><span class="nav-number">23.1.</span> <span class="nav-text">Constructor Overloading</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Inheritance"><span class="nav-number">23.2.</span> <span class="nav-text">Inheritance</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Multiple-Inheritance"><span class="nav-number">23.3.</span> <span class="nav-text">Multiple Inheritance</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Property"><span class="nav-number">23.4.</span> <span class="nav-text">Property</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Dataclass"><span class="nav-number">23.5.</span> <span class="nav-text">Dataclass</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Inline-1"><span class="nav-number">23.5.1.</span> <span class="nav-text">Inline:</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Slots"><span class="nav-number">23.6.</span> <span class="nav-text">Slots</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Copy"><span class="nav-number">23.7.</span> <span class="nav-text">Copy</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Duck-Types"><span class="nav-number">24.</span> <span class="nav-text">Duck Types</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Comparable"><span class="nav-number">24.1.</span> <span class="nav-text">Comparable</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Hashable"><span class="nav-number">24.2.</span> <span class="nav-text">Hashable</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Sortable"><span class="nav-number">24.3.</span> <span class="nav-text">Sortable</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Iterator-1"><span class="nav-number">24.4.</span> <span class="nav-text">Iterator</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Python-has-many-different-iterator-objects"><span class="nav-number">24.4.1.</span> <span class="nav-text">Python has many different iterator objects:</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Callable"><span class="nav-number">24.5.</span> <span class="nav-text">Callable</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Context-Manager"><span class="nav-number">24.6.</span> <span class="nav-text">Context Manager</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Iterable-Duck-Types"><span class="nav-number">25.</span> <span class="nav-text">Iterable Duck Types</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Iterable"><span class="nav-number">25.1.</span> <span class="nav-text">Iterable</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Collection"><span class="nav-number">25.2.</span> <span class="nav-text">Collection</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Sequence"><span class="nav-number">25.3.</span> <span class="nav-text">Sequence</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Collections-abc-Sequence"><span class="nav-number">25.4.</span> <span class="nav-text">Collections.abc.Sequence</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Table-of-required-and-available-special-methods"><span class="nav-number">25.4.1.</span> <span class="nav-text">Table of required and available special methods:</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Enum"><span class="nav-number">26.</span> <span class="nav-text">Enum</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Inline-2"><span class="nav-number">26.1.</span> <span class="nav-text">Inline</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Functions-can-not-be-values-so-they-must-be-wrapped"><span class="nav-number">26.1.1.</span> <span class="nav-text">Functions can not be values, so they must be wrapped:</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Exceptions"><span class="nav-number">27.</span> <span class="nav-text">Exceptions</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Basic-Example"><span class="nav-number">27.1.</span> <span class="nav-text">Basic Example</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Complex-Example"><span class="nav-number">27.2.</span> <span class="nav-text">Complex Example</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Catching-Exceptions"><span class="nav-number">27.3.</span> <span class="nav-text">Catching Exceptions</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Raising-Exceptions"><span class="nav-number">27.4.</span> <span class="nav-text">Raising Exceptions</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Useful-built-in-exceptions"><span class="nav-number">27.4.1.</span> <span class="nav-text">Useful built-in exceptions:</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Re-raising-caught-exception"><span class="nav-number">27.4.2.</span> <span class="nav-text">Re-raising caught exception:</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Common-Built-in-Exceptions"><span class="nav-number">27.5.</span> <span class="nav-text">Common Built-in Exceptions</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Collections-and-their-exceptions"><span class="nav-number">27.5.1.</span> <span class="nav-text">Collections and their exceptions:</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#User-defined-Exceptions"><span class="nav-number">27.6.</span> <span class="nav-text">User-defined Exceptions</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Print"><span class="nav-number">28.</span> <span class="nav-text">Print</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Pretty-Print"><span class="nav-number">28.1.</span> <span class="nav-text">Pretty Print</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Input"><span class="nav-number">29.</span> <span class="nav-text">Input</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Command-Line-Arguments"><span class="nav-number">30.</span> <span class="nav-text">Command Line Arguments</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Argparse"><span class="nav-number">30.1.</span> <span class="nav-text">Argparse</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Open"><span class="nav-number">31.</span> <span class="nav-text">Open</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Modes"><span class="nav-number">31.1.</span> <span class="nav-text">Modes</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Exceptions-1"><span class="nav-number">31.2.</span> <span class="nav-text">Exceptions</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#File"><span class="nav-number">31.3.</span> <span class="nav-text">File</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Read-Text-from-File"><span class="nav-number">31.4.</span> <span class="nav-text">Read Text from File</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Write-Text-to-File"><span class="nav-number">31.5.</span> <span class="nav-text">Write Text to File</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Path"><span class="nav-number">32.</span> <span class="nav-text">Path</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Pathlib"><span class="nav-number">32.1.</span> <span class="nav-text">Pathlib</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#OS-Commands"><span class="nav-number">33.</span> <span class="nav-text">OS Commands</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Files-and-Directories"><span class="nav-number">33.1.</span> <span class="nav-text">Files and Directories</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#DirEntry"><span class="nav-number">33.1.1.</span> <span class="nav-text">DirEntry:</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Shell-Commands"><span class="nav-number">33.2.</span> <span class="nav-text">Shell Commands</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Using-subprocess"><span class="nav-number">33.2.1.</span> <span class="nav-text">Using subprocess:</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JSON"><span class="nav-number">34.</span> <span class="nav-text">JSON</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Read-Object-from-JSON-File"><span class="nav-number">34.1.</span> <span class="nav-text">Read Object from JSON File</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Write-Object-to-JSON-File"><span class="nav-number">34.2.</span> <span class="nav-text">Write Object to JSON File</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Pickle"><span class="nav-number">35.</span> <span class="nav-text">Pickle</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Read-Object-from-File"><span class="nav-number">35.1.</span> <span class="nav-text">Read Object from File</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Write-Object-to-File"><span class="nav-number">35.2.</span> <span class="nav-text">Write Object to File</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CSV"><span class="nav-number">36.</span> <span class="nav-text">CSV</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Read"><span class="nav-number">36.1.</span> <span class="nav-text">Read</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Write"><span class="nav-number">36.2.</span> <span class="nav-text">Write</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Parameters"><span class="nav-number">36.3.</span> <span class="nav-text">Parameters</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Dialects"><span class="nav-number">36.4.</span> <span class="nav-text">Dialects</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Read-Rows-from-CSV-File"><span class="nav-number">36.5.</span> <span class="nav-text">Read Rows from CSV File</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Write-Rows-to-CSV-File"><span class="nav-number">36.6.</span> <span class="nav-text">Write Rows to CSV File</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SQLite"><span class="nav-number">37.</span> <span class="nav-text">SQLite</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Connect"><span class="nav-number">37.1.</span> <span class="nav-text">Connect</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Read-1"><span class="nav-number">37.2.</span> <span class="nav-text">Read</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Write-1"><span class="nav-number">37.3.</span> <span class="nav-text">Write</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Or"><span class="nav-number">37.3.1.</span> <span class="nav-text">Or:</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Placeholders"><span class="nav-number">37.4.</span> <span class="nav-text">Placeholders</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Example"><span class="nav-number">37.5.</span> <span class="nav-text">Example</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#MySQL"><span class="nav-number">37.6.</span> <span class="nav-text">MySQL</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Bytes"><span class="nav-number">38.</span> <span class="nav-text">Bytes</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Encode-1"><span class="nav-number">38.1.</span> <span class="nav-text">Encode</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Decode-1"><span class="nav-number">38.2.</span> <span class="nav-text">Decode</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Read-Bytes-from-File"><span class="nav-number">38.3.</span> <span class="nav-text">Read Bytes from File</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Write-Bytes-to-File"><span class="nav-number">38.4.</span> <span class="nav-text">Write Bytes to File</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Struct"><span class="nav-number">39.</span> <span class="nav-text">Struct</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Example-1"><span class="nav-number">39.1.</span> <span class="nav-text">Example</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Format-2"><span class="nav-number">39.2.</span> <span class="nav-text">Format</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#For-standard-sizes-start-format-string-with"><span class="nav-number">39.2.1.</span> <span class="nav-text">For standard sizes start format string with:</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Integer-types-Use-capital-letter-for-unsigned-type-Standard-sizes-are-in-brackets"><span class="nav-number">39.2.2.</span> <span class="nav-text">Integer types. Use capital letter for unsigned type. Standard sizes are in brackets:</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Floating-point-types"><span class="nav-number">39.2.3.</span> <span class="nav-text">Floating point types:</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Array"><span class="nav-number">40.</span> <span class="nav-text">Array</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Memory-View"><span class="nav-number">41.</span> <span class="nav-text">Memory View</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Deque"><span class="nav-number">42.</span> <span class="nav-text">Deque</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Threading"><span class="nav-number">43.</span> <span class="nav-text">Threading</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Thread"><span class="nav-number">43.1.</span> <span class="nav-text">Thread</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Lock"><span class="nav-number">43.2.</span> <span class="nav-text">Lock</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Or-1"><span class="nav-number">43.2.1.</span> <span class="nav-text">Or:</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Thread-Pool-Executor"><span class="nav-number">43.3.</span> <span class="nav-text">Thread Pool Executor</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Queue"><span class="nav-number">43.4.</span> <span class="nav-text">Queue</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Operator"><span class="nav-number">44.</span> <span class="nav-text">Operator</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Introspection"><span class="nav-number">45.</span> <span class="nav-text">Introspection</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Variables"><span class="nav-number">45.1.</span> <span class="nav-text">Variables</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Attributes-1"><span class="nav-number">45.2.</span> <span class="nav-text">Attributes</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Parameters-1"><span class="nav-number">45.3.</span> <span class="nav-text">Parameters</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Metaprograming"><span class="nav-number">46.</span> <span class="nav-text">Metaprograming</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Type-1"><span class="nav-number">46.1.</span> <span class="nav-text">Type</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Meta-Class"><span class="nav-number">46.2.</span> <span class="nav-text">Meta Class</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Or-2"><span class="nav-number">46.2.1.</span> <span class="nav-text">Or:</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Metaclass-Attribute"><span class="nav-number">46.3.</span> <span class="nav-text">Metaclass Attribute</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Type-Diagram"><span class="nav-number">46.4.</span> <span class="nav-text">Type Diagram</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Inheritance-Diagram"><span class="nav-number">46.5.</span> <span class="nav-text">Inheritance Diagram</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Eval"><span class="nav-number">47.</span> <span class="nav-text">Eval</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Coroutine"><span class="nav-number">48.</span> <span class="nav-text">Coroutine</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Helper-Decorator"><span class="nav-number">48.1.</span> <span class="nav-text">Helper Decorator</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Pipeline-Example"><span class="nav-number">48.2.</span> <span class="nav-text">Pipeline Example</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Libraries"><span class="nav-number"></span> <span class="nav-text">Libraries</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Progress-Bar"><span class="nav-number">1.</span> <span class="nav-text">Progress Bar</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Plot"><span class="nav-number">2.</span> <span class="nav-text">Plot</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Table"><span class="nav-number">3.</span> <span class="nav-text">Table</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Prints-a-CSV-file-as-an-ASCII-table"><span class="nav-number">3.0.1.</span> <span class="nav-text">Prints a CSV file as an ASCII table:</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Curses"><span class="nav-number">4.</span> <span class="nav-text">Curses</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Clears-the-terminal-prints-a-message-and-waits-for-an-ESC-key-press"><span class="nav-number">4.0.1.</span> <span class="nav-text">Clears the terminal, prints a message and waits for an ESC key press:</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Logging"><span class="nav-number">5.</span> <span class="nav-text">Logging</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Exceptions-2"><span class="nav-number">5.1.</span> <span class="nav-text">Exceptions</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Rotation"><span class="nav-number">5.2.</span> <span class="nav-text">Rotation</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Retention"><span class="nav-number">5.3.</span> <span class="nav-text">Retention</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Scraping"><span class="nav-number">6.</span> <span class="nav-text">Scraping</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Scrapes-Python’s-URL-version-number-and-logo-from-Wikipedia-page"><span class="nav-number">6.0.1.</span> <span class="nav-text">Scrapes Python’s URL, version number and logo from Wikipedia page:</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Web"><span class="nav-number">7.</span> <span class="nav-text">Web</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Run"><span class="nav-number">7.1.</span> <span class="nav-text">Run</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Static-Request"><span class="nav-number">7.2.</span> <span class="nav-text">Static Request</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Dynamic-Request"><span class="nav-number">7.3.</span> <span class="nav-text">Dynamic Request</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#REST-Request"><span class="nav-number">7.4.</span> <span class="nav-text">REST Request</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Test"><span class="nav-number">7.4.1.</span> <span class="nav-text">Test:</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Profiling"><span class="nav-number">8.</span> <span class="nav-text">Profiling</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Stopwatch"><span class="nav-number">8.1.</span> <span class="nav-text">Stopwatch</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#High-performance"><span class="nav-number">8.1.1.</span> <span class="nav-text">High performance:</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Timing-a-Snippet"><span class="nav-number">8.2.</span> <span class="nav-text">Timing a Snippet</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Profiling-by-Line"><span class="nav-number">8.3.</span> <span class="nav-text">Profiling by Line</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Call-Graph"><span class="nav-number">8.4.</span> <span class="nav-text">Call Graph</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Generates-a-PNG-image-of-a-call-graph-with-highlighted-bottlenecks"><span class="nav-number">8.4.1.</span> <span class="nav-text">Generates a PNG image of a call graph with highlighted bottlenecks:</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#NumPy"><span class="nav-number">9.</span> <span class="nav-text">NumPy</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Indexing"><span class="nav-number">9.1.</span> <span class="nav-text">Indexing</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Broadcasting"><span class="nav-number">9.2.</span> <span class="nav-text">Broadcasting</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-If-array-shapes-differ-in-length-left-pad-the-shorter-shape-with-ones"><span class="nav-number">9.2.1.</span> <span class="nav-text">1. If array shapes differ in length, left-pad the shorter shape with ones:</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-If-any-dimensions-differ-in-size-expand-the-ones-that-have-size-1-by-duplicating-their-elements"><span class="nav-number">9.2.2.</span> <span class="nav-text">2. If any dimensions differ in size, expand the ones that have size 1 by duplicating their elements:</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-If-neither-non-matching-dimension-has-size-1-rise-an-error"><span class="nav-number">9.2.3.</span> <span class="nav-text">3. If neither non-matching dimension has size 1, rise an error.</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Example-2"><span class="nav-number">9.3.</span> <span class="nav-text">Example</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#For-each-point-returns-index-of-its-nearest-point-0-1-0-6-0-8-gt-1-2-1"><span class="nav-number">9.3.1.</span> <span class="nav-text">For each point returns index of its nearest point ([0.1, 0.6, 0.8] =&gt; [1, 2, 1]):</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Image"><span class="nav-number">10.</span> <span class="nav-text">Image</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Modes-1"><span class="nav-number">10.1.</span> <span class="nav-text">Modes</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Examples"><span class="nav-number">10.2.</span> <span class="nav-text">Examples</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Creates-a-PNG-image-of-a-rainbow-gradient"><span class="nav-number">10.2.1.</span> <span class="nav-text">Creates a PNG image of a rainbow gradient:</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Adds-noise-to-a-PNG-image"><span class="nav-number">10.2.2.</span> <span class="nav-text">Adds noise to a PNG image:</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ImageDraw"><span class="nav-number">10.3.</span> <span class="nav-text">ImageDraw</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Animation"><span class="nav-number">11.</span> <span class="nav-text">Animation</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Creates-a-GIF-of-a-bouncing-ball"><span class="nav-number">11.0.1.</span> <span class="nav-text">Creates a GIF of a bouncing ball:</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Audio"><span class="nav-number">12.</span> <span class="nav-text">Audio</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Sample-Values"><span class="nav-number">12.1.</span> <span class="nav-text">Sample Values</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Read-Float-Samples-from-WAV-File"><span class="nav-number">12.2.</span> <span class="nav-text">Read Float Samples from WAV File</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Write-Float-Samples-to-WAV-File"><span class="nav-number">12.3.</span> <span class="nav-text">Write Float Samples to WAV File</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Examples-1"><span class="nav-number">12.4.</span> <span class="nav-text">Examples</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Saves-a-sine-wave-to-a-mono-WAV-file"><span class="nav-number">12.4.1.</span> <span class="nav-text">Saves a sine wave to a mono WAV file:</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Adds-noise-to-a-mono-WAV-file"><span class="nav-number">12.4.2.</span> <span class="nav-text">Adds noise to a mono WAV file:</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Synthesizer"><span class="nav-number">13.</span> <span class="nav-text">Synthesizer</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Plays-Popcorn-by-Gershon-Kingsley"><span class="nav-number">13.0.1.</span> <span class="nav-text">Plays Popcorn by Gershon Kingsley:</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Basic-Script-Template"><span class="nav-number">14.</span> <span class="nav-text">Basic Script Template</span></a></li></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

	
	  <script type="text/javascript" charset="utf-8" src="/js/tagcloud.js"></script>
	  <script type="text/javascript" charset="utf-8" src="/js/tagcanvas.js"></script>
	  <div class="widget-wrap">
		<h3 class="widget-title">Tag Cloud</h3>
		<div id="myCanvasContainer" class="widget tagcloud">
		  <canvas width="250" height="250" id="resCanvas" style="width=100%">
			<ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/thread/">-- thread</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Optimization/">Optimization</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/algorithms/">algorithms</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/db2/">db2</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hive/">hive</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/markdown/">markdown</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/self-study/">self-study</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sql/">sql</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/statistics/">statistics</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/thread/">thread</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vim/">vim</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/win10快捷键/">win10快捷键</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/古月山风/">古月山风</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/梦想/">梦想</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/破晓/">破晓</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/随笔/">随笔</a><span class="tag-list-count">2</span></li></ul>
		  </canvas>
		</div>
	  </div>
	
	
    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">snail json</span>

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
      <span class="post-meta-item-text">Site words total count&#58;</span>
    
    <span title="Site words total count">74k</span>
  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a> v5.1.4</div>



<div class="theme-info">
  <div class="powered-by"></div>
  <span class="post-count">snail silly?</span>
</div>
<!--页面点击小红心-->
<script type="text/javascript" src="/love.js"></script>



        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    
      <div id="needsharebutton-float">
        <span class="btn">
          <i class="fa fa-share-alt" aria-hidden="true"></i>
        </span>
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  



  
  









  
  
    <script type="text/javascript" src="//cdn.jsdelivr.net/jquery/2.1.3/jquery.min.js"></script>
  

  
  
    <script type="text/javascript" src="//cdn.jsdelivr.net/fastclick/1.0.6/fastclick.min.js"></script>
  

  
  
    <script type="text/javascript" src="//cdn.jsdelivr.net/jquery.lazyload/1.9.3/jquery.lazyload.min.js"></script>
  

  
  
    <script type="text/javascript" src="//cdn.jsdelivr.net/velocity/1.2.3/velocity.min.js"></script>
  

  
  
    <script type="text/javascript" src="//cdn.jsdelivr.net/velocity/1.2.3/velocity.ui.min.js"></script>
  

  
  
    <script type="text/javascript" src="//cdn.jsdelivr.net/fancybox/2.1.5/jquery.fancybox.pack.js"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  

  
  
    <script type="text/javascript" src="/lib/three/three.min.js"></script>
  

  
  
    <script type="text/javascript" src="/lib/three/three-waves.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  

    
      <script id="dsq-count-scr" src="https://龙门阵.disqus.com/count.js" async></script>
    

    
      <script type="text/javascript">
        var disqus_config = function () {
          this.page.url = 'http://yoursite.com/2019/10/27/Comprehensive-Python-Cheatsheet/';
          this.page.identifier = '2019/10/27/Comprehensive-Python-Cheatsheet/';
          this.page.title = 'Comprehensive-Python-Cheatsheet';
        };
        var d = document, s = d.createElement('script');
        s.src = 'https://龙门阵.disqus.com/embed.js';
        s.setAttribute('data-timestamp', '' + +new Date());
        (d.head || d.body).appendChild(s);
      </script>
    

  




	





  












  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="//unpkg.com/valine/dist/Valine.min.js"></script>
  
  <script type="text/javascript">
    var GUEST = ['nick','mail','link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item=>{
      return GUEST.indexOf(item)>-1;
    });
    new Valine({
        el: '#comments' ,
        verify: true,
        notify: true,
        appId: 'fF92eK9HnnGlETqxfUmFSOTy-gzGzoHsz',
        appKey: '0OJnVAzjWXYUJttLekLy93fu',
        placeholder: 'Small snail crawling up!!!',
        avatar:'mm',
        guest_info:guest,
        pageSize:'10' || 10,
    });
  </script>



  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script>AV.initialize("gFXuJyqJKwqMss9sIRbzJ0Qa-gzGzoHsz", "Uq6nDSovYwizyRBYP6qTGxNX");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  

  
  
  
  <link rel="stylesheet" href="/lib/needsharebutton/needsharebutton.css">

  
  
  <script src="/lib/needsharebutton/needsharebutton.js"></script>

  <script>
    
      pbOptions = {};
      
          pbOptions.iconStyle = "box";
      
          pbOptions.boxForm = "horizontal";
      
          pbOptions.position = "bottomCenter";
      
          pbOptions.networks = "Weibo,Wechat,Douban,QQZone,Twitter,Facebook";
      
      new needShareButton('#needsharebutton-postbottom', pbOptions);
    
    
      flOptions = {};
      
          flOptions.iconStyle = "box";
      
          flOptions.boxForm = "horizontal";
      
          flOptions.position = "middleRight";
      
          flOptions.networks = "Weibo,Wechat,Douban,QQZone,Twitter,Facebook";
      
      new needShareButton('#needsharebutton-float', flOptions);
    
  </script>

  

  
  


  

  

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/shizuku.model.json"},"display":{"position":"left","width":200,"height":400},"mobile":{"show":true},"react":{"opacity":0.7}});</script><script>!function(e){var r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));function t(){for(var c=0;c<r.length;c++)t=r[c],void 0,0<=(n=t.getBoundingClientRect()).top&&0<=n.left&&n.top<=(e.innerHeight||document.documentElement.clientHeight)&&function(){var t,n,e,i,o=r[c];t=o,n=function(){r=r.filter(function(t){return o!==t})},e=new Image,i=t.getAttribute("data-original"),e.onload=function(){t.src=i,n&&n()},e.src=i}();var t,n}t(),e.addEventListener("scroll",function(){!function(t,n){clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(n)},500)}(t,e)})}(this);</script></body>
</html>
